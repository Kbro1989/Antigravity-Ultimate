import{a as u,r as s,j as e}from"./main-Cde5WehW.js";import{u as f}from"./useNotification-mdJvSa3K.js";import{S as b}from"./Standard3DViewer-Cez5LBxZ.js";import"./Stage-Bh1gg5uC.js";import"./three.module-aN59MUBe.js";import"./constants-DucYOER3.js";import"./with-selector-BcthjgMM.js";import"./Float-BYb67J39.js";function E(){const{callLimb:c}=u(),{addNotification:l}=f(),[n,d]=s.useState("Body"),[a,x]=s.useState(!1),[m,g]=s.useState("rsmv://7"),[v,p]=s.useState(void 0),[r,i]=s.useState(!1),h=async()=>{i(!0);try{const t=await c("animation","animation_retarget_motion",{source_rig:"humanoid_generic",target_rig:"custom_mesh_v1",use_ik:!0,preserve_volume:!0,prompt:`Retarget motion for layer ${n}`});t.status==="success"&&(p(t.clipUrl),l("info","Kinetics Engine: Calibrating Neural IK Solver..."),setTimeout(()=>{l("success","Motion Retargeting Complete"),i(!1)},1500))}catch(t){l("error",`IK Fault: ${t.message}`),i(!1)}};return e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-black/40 animate-fade-in relative overflow-hidden",children:[e.jsxs("div",{className:"flex-1 flex gap-6 p-6 overflow-hidden",children:[e.jsxs("div",{className:"flex-1 glass-ultra rounded-3xl relative overflow-hidden border border-white/5 shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(b,{modelUrl:m,autoRotate:!a,className:"w-full h-full"}),e.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[radial-gradient(circle_at_50%_0%,rgba(0,242,255,0.05)_0%,transparent_70%)]"}),r&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 backdrop-blur-sm z-10 transition-all",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-neon-cyan border-t-transparent rounded-full animate-spin shadow-[0_0_20px_var(--neon-cyan)]"}),e.jsx("div",{className:"text-[10px] font-black text-neon-cyan tracking-[0.5em] animate-pulse",children:"SOLVING_IK"})]})})]}),e.jsxs("div",{className:"absolute top-6 left-6 flex flex-col gap-2 pointer-events-none",children:[e.jsxs("div",{className:"text-[10px] font-black uppercase text-neon-cyan tracking-[0.4em] mb-2 flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${a?"bg-green-500 animate-pulse":"bg-neon-cyan"}`}),"Kinetics: ",a?"ACTIVE_CLIP":"IK_READY"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"glass px-2 py-1 rounded text-[8px] font-mono text-white/40",children:"BONES: 68"}),e.jsx("span",{className:"glass px-2 py-1 rounded text-[8px] font-mono text-white/40",children:"SKELETON: RSMV_V7"})]})]})]}),e.jsx("div",{className:"w-96 flex flex-col gap-4",children:e.jsxs("div",{className:"glass-ultra rounded-3xl p-6 flex-1 flex flex-col gap-8 border border-white/5 shadow-2xl",children:[e.jsxs("div",{className:"text-[10px] font-black tracking-[0.4em] text-neon-magenta uppercase flex items-center gap-3",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-neon-magenta animate-pulse shadow-[0_0_8px_var(--neon-magenta)]"}),"Animation Parameters"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-white/40 mb-2",children:"Motion Layers"}),["Base_Walk","UpperBody_Action","Hand_Secondary","Face_Expressions"].map(t=>e.jsxs("div",{onClick:()=>d(t),className:`p-3 rounded-xl border transition-all flex items-center justify-between group cursor-pointer ${n===t?"bg-neon-cyan/10 border-neon-cyan/30":"bg-white/5 border-transparent"}`,children:[e.jsx("span",{className:`text-[10px] font-bold ${n===t?"text-white":"text-white/30"}`,children:t}),e.jsx("div",{className:`w-2 h-2 rounded-full ${n===t?"bg-neon-cyan shadow-[0_0_8px_var(--neon-cyan)]":"bg-white/10"}`})]},t))]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-white/40 mb-3",children:"Curve Preset"}),e.jsx("div",{className:"flex gap-2",children:["Linear","Ease-In","Ease-Out","Bouncy"].map(t=>e.jsx("button",{className:"flex-1 py-2 glass rounded-lg text-[8px] font-bold border border-white/5 hover:border-neon-cyan/40 text-white/40 hover:text-white transition-all",children:t},t))})]}),e.jsxs("div",{className:"space-y-3 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 glass rounded-xl border border-white/5 cursor-pointer hover:bg-white/5 transition-all",children:[e.jsx("span",{className:"text-[10px] text-white/70 font-bold uppercase tracking-widest",children:"Root Motion"}),e.jsx("div",{className:"w-10 h-5 bg-neon-magenta/20 rounded-full relative p-1",children:e.jsx("div",{className:"absolute right-1 w-3 h-3 bg-neon-magenta rounded-full shadow-[0_0_8px_var(--neon-magenta)]"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 glass rounded-xl border border-white/5 cursor-pointer hover:bg-white/5 transition-all",children:[e.jsx("span",{className:"text-[10px] text-white/70 font-bold uppercase tracking-widest",children:"IK Correction"}),e.jsx("div",{className:"w-10 h-5 bg-neon-cyan/20 rounded-full relative p-1",children:e.jsx("div",{className:"absolute right-1 w-3 h-3 bg-neon-cyan rounded-full shadow-[0_0_8px_var(--neon-cyan)]"})})]})]})]}),e.jsx("button",{onClick:h,disabled:r,className:`w-full py-5 rounded-2xl mt-auto font-black text-xs tracking-[0.2em] transition-all uppercase shadow-2xl flex items-center justify-center gap-3 ${r?"bg-white/10 text-white/20":"bg-white text-black hover:bg-neon-magenta hover:text-white hover:shadow-[0_0_30px_rgba(255,0,225,0.4)]"}`,children:r?"Processing Kinetics...":"Solve & Retarget Motion"})]})})]}),e.jsxs("div",{className:"h-40 glass-ultra border-t border-white/5 p-6 flex flex-col gap-4 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{onClick:()=>x(!a),className:`w-10 h-10 rounded-full glass border flex items-center justify-center transition-all ${a?"bg-neon-magenta/20 border-neon-magenta/40 text-neon-magenta":"border-white/10 text-white/40 hover:bg-white/10"}`,children:a?"⏸":"▶"}),e.jsx("div",{className:"text-[10px] font-mono text-neon-cyan",children:"FPS: 60.0"}),e.jsx("div",{className:"text-[10px] font-mono text-white/40",children:"SAMPLES: 4096"})]}),e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-white/20",children:"Full Kinetics Timeline"})]}),e.jsxs("div",{className:"flex-1 rounded-xl bg-black/40 border border-white/5 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"h-6 border-b border-white/5 flex gap-[1px]",children:Array.from({length:24}).map((t,o)=>e.jsx("div",{className:"flex-1 border-r border-white/5 text-[7px] text-white/20 pl-1 font-mono",children:o*10},o))}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute top-4 left-[10%] w-2 h-2 rotate-45 bg-neon-cyan shadow-[0_0_8px_var(--neon-cyan)]",title:"Key: Start"}),e.jsx("div",{className:"absolute top-4 left-[35%] w-2 h-2 rotate-45 bg-neon-magenta",title:"Key: Apex"}),e.jsx("div",{className:"absolute top-4 left-[60%] w-2 h-2 rotate-45 bg-neon-purple shadow-[0_0_8px_var(--neon-purple)]",title:"Key: Landing"}),e.jsx("div",{className:"absolute top-4 left-[85%] w-2 h-2 rotate-45 bg-neon-cyan shadow-[0_0_8px_var(--neon-cyan)]",title:"Key: End"}),e.jsx("div",{className:`absolute top-0 bottom-0 w-[1px] bg-red-500 shadow-[0_0_10px_red] transition-all duration-100 ${a?"left-full":"left-[28%]"}`,style:{transitionTimingFunction:"linear",transitionDuration:a?"10s":"0.1s"}})]})]})]})]})}export{E as AnimationWorkspace};
