import{a as f,r as h,j as e}from"./main-BVuYDR_W.js";import{u as g}from"./useNotification-opBJN4GI.js";function x({label:c,type:i,value:s,onChange:l,active:n,onToggle:p}){const o={subject:"neon-cyan",apparel:"neon-magenta",environment:"green-400",fx:"neon-purple"}[i];return e.jsx("div",{className:`relative group transition-all duration-300 ${n?"opacity-100":"opacity-40 hover:opacity-100"}`,children:e.jsxs("div",{className:`glass-ultra p-5 rounded-3xl border transition-all duration-300 h-full flex flex-col gap-3 ${n?`border-${o}/30 bg-black/40`:"border-white/5 bg-black/20"}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-white/50",children:c}),e.jsx("button",{onClick:p,className:`w-8 h-4 rounded-full transition-colors relative ${n?`bg-${o}`:"bg-white/10"}`,children:e.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-black rounded-full transition-transform ${n?"translate-x-4":"translate-x-0"}`})})]}),e.jsx("textarea",{value:s,onChange:u=>l(u.target.value),disabled:!n,placeholder:`Define ${c.toLowerCase()} parameters...`,className:`bg-transparent outline-none text-[11px] text-${o} placeholder:text-white/10 resize-none h-20 font-mono`})]})})}function j(){const{callLimb:c}=f(),{addNotification:i}=g(),[s,l]=h.useState({subject:{active:!0,prompt:"Cyberpunk Netrunner",weight:1},apparel:{active:!0,prompt:"Holographic Trenchcoat",weight:.8},environment:{active:!0,prompt:"Neon Rain City",weight:.6},fx:{active:!1,prompt:"Prismatic Lens Flare",weight:.4}}),[n,p]=h.useState(!1),[d,o]=h.useState([]),u=async()=>{p(!0);try{i("info","Neural Compositor: Weaving Reality Matrix...");const t=await c("image","image_generate",{action:"synthesize_image",prompt:Object.entries(s).filter(([a,r])=>r.active).map(([a,r])=>`${a}: ${r.prompt}`).join(", "),payload:{layers:s}});if(t.imageUrl){const a={id:Date.now(),url:t.imageUrl,layers:Object.entries(s).filter(([r,m])=>m.active).map(([r,m])=>({...m,id:r,type:r,label:r})),timestamp:Date.now()};o(r=>[a,...r]),i("success","Reality Shattered Successfully")}else i("warning","Image generated but no URL returned")}catch(t){i("error",`Synthesis Fault: ${t.message}`)}finally{p(!1)}};return e.jsxs("div",{className:"flex h-full gap-8 p-8 bg-black/40 animate-fade-in overflow-hidden",children:[e.jsxs("div",{className:"w-[450px] flex flex-col gap-8 h-full",children:[e.jsxs("div",{className:"glass-ultra p-8 rounded-[40px] border border-white/5 relative overflow-hidden flex flex-col gap-6 shadow-2xl",children:[e.jsx("div",{className:"text-[10px] font-black tracking-[0.6em] text-neon-cyan uppercase",children:"Neural Compositor"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(x,{label:"Subject",type:"subject",value:s.subject.prompt,active:s.subject.active,onChange:t=>l(a=>({...a,subject:{...a.subject,prompt:t}})),onToggle:()=>l(t=>({...t,subject:{...t.subject,active:!t.subject.active}}))}),e.jsx(x,{label:"Apparel",type:"apparel",value:s.apparel.prompt,active:s.apparel.active,onChange:t=>l(a=>({...a,apparel:{...a.apparel,prompt:t}})),onToggle:()=>l(t=>({...t,apparel:{...t.apparel,active:!t.apparel.active}}))}),e.jsx(x,{label:"World",type:"environment",value:s.environment.prompt,active:s.environment.active,onChange:t=>l(a=>({...a,environment:{...a.environment,prompt:t}})),onToggle:()=>l(t=>({...t,environment:{...t.environment,active:!t.environment.active}}))}),e.jsx(x,{label:"FX",type:"fx",value:s.fx.prompt,active:s.fx.active,onChange:t=>l(a=>({...a,fx:{...a.fx,prompt:t}})),onToggle:()=>l(t=>({...t,fx:{...t.fx,active:!t.fx.active}}))})]}),e.jsx("button",{onClick:u,disabled:n,className:"w-full py-5 rounded-2xl bg-white text-black font-black text-xs tracking-[0.4em] hover:bg-neon-cyan hover:shadow-[0_0_40px_rgba(0,242,255,0.4)] transition-all uppercase flex items-center justify-center gap-3",children:n?"Weaving...":"Shatter Reality"})]}),e.jsxs("div",{className:"flex-1 glass-ultra rounded-[40px] p-8 border border-white/5 opacity-80 overflow-y-auto shadow-2xl",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest text-white/30 mb-6 border-b border-white/5 pb-2",children:"Active Spec Stack"}),e.jsx("div",{className:"space-y-4",children:Object.entries(s).filter(([t,a])=>a.active).map(([t,a],r)=>e.jsxs("div",{className:"flex items-center gap-4 group",children:[e.jsxs("span",{className:"text-[10px] font-mono text-white/20",children:["0",r+1]}),e.jsxs("div",{className:"flex-1 text-[11px] font-bold text-white/80",children:[t.toUpperCase()," ",e.jsxs("span",{className:"text-white/20 font-mono ml-2",children:["[",a.weight.toFixed(1),"]"]})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${t==="subject"?"bg-neon-cyan":"bg-neon-magenta"}`})]},t))})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-8 h-full",children:[e.jsx("div",{className:"flex-1 glass-ultra rounded-[40px] border border-white/5 relative overflow-hidden shadow-2xl group flex items-center justify-center",children:d.length>0?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:d[0].url,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-[20s] linear"}),e.jsx("div",{className:"absolute top-8 left-8 glass px-6 py-2 rounded-full border border-white/10 text-[9px] font-black text-neon-cyan uppercase tracking-[0.4em] animate-pulse",children:"DNA_VERIFIED"})]}):e.jsxs("div",{className:"flex flex-col items-center opacity-10",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ’ "}),e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.6em]",children:"Neural Voids Awaiting Synthesis"})]})}),e.jsx("div",{className:"h-40 flex gap-6 overflow-x-auto pb-4",children:d.slice(1).map(t=>e.jsx("div",{className:"h-full aspect-square rounded-3xl glass-ultra overflow-hidden border border-white/5 opacity-60 hover:opacity-100 transition-all cursor-pointer flex-shrink-0",children:e.jsx("img",{src:t.url,className:"w-full h-full object-cover"})},t.id))})]})]})}export{j as CreativeWorkspace};
