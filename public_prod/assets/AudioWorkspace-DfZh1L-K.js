import{a as N,b as j,r as n,j as e}from"./main-DTuUJYgM.js";import{u as y}from"./useNotification-B154hWBU.js";function k({track:a,isPlaying:t}){const l=a.color==="cyan"?"var(--neon-cyan)":a.color==="magenta"?"var(--neon-magenta)":a.color==="purple"?"var(--neon-purple)":"#4ade80",[r,o]=n.useState(a.waveform);return n.useEffect(()=>{if(t&&a.active){const i=setInterval(()=>{o(c=>c.map(x=>Math.max(10,Math.min(100,x+(Math.random()-.5)*20))))},100);return()=>clearInterval(i)}},[t,a.active]),e.jsxs("div",{className:`flex items-center gap-6 p-5 rounded-[32px] transition-all duration-700 border ${a.active?"bg-white/5 border-white/10 shadow-xl":"opacity-20 border-transparent scale-[0.98]"}`,children:[e.jsxs("div",{className:"flex flex-col gap-1 w-32",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.4em] mb-1",style:{color:l},children:a.name}),e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:l,boxShadow:`0 0 10px ${l}`}}),e.jsxs("span",{className:"text-[7px] font-mono text-white/40 uppercase tracking-widest",children:["LAYER_0",a.id==="drums"?1:a.id==="bass"?2:a.id==="synth"?3:4]})]})]}),e.jsxs("div",{className:"flex-1 h-20 glass rounded-2xl overflow-hidden flex items-end gap-[2px] p-3 relative group border border-white/5 bg-black/40",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent pointer-events-none"}),t&&e.jsx("div",{className:"absolute top-0 bottom-0 w-[1px] bg-white shadow-[0_0_20px_white] z-10 animate-scan-slow opacity-60"}),r.map((i,c)=>e.jsx("div",{className:"flex-1 rounded-full transition-all duration-150",style:{height:`${i}%`,backgroundColor:a.active?l:"rgba(255,255,255,0.05)",opacity:t&&a.active?.8:.3,boxShadow:t&&a.active&&i>70?`0 0 15px ${l}`:"none"}},c))]}),e.jsxs("div",{className:"flex items-center gap-4 px-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-[7px] font-black text-white/20 uppercase tracking-widest",children:"Gain"}),e.jsx("div",{className:"w-1 h-12 bg-white/5 rounded-full relative overflow-hidden",children:e.jsx("div",{className:"absolute bottom-0 w-full bg-white/40 transition-all",style:{height:`${a.volume*100}%`}})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{className:`w-9 h-9 rounded-xl glass border transition-all flex items-center justify-center text-[9px] font-black ${a.active?"border-neon-cyan/40 text-neon-cyan":"border-white/5 text-white/20"}`,children:"M"}),e.jsx("button",{className:"w-9 h-9 rounded-xl glass border border-white/5 text-[9px] font-black text-white/20 hover:text-white transition-all",children:"S"})]})]})]})}function h({label:a,value:t,color:l="var(--neon-cyan)"}){const r=t/100*270-135;return e.jsxs("div",{className:"flex flex-col items-center gap-4 group cursor-pointer",children:[e.jsxs("div",{className:"w-20 h-20 rounded-full border border-white/5 relative flex items-center justify-center glass-ultra shadow-2xl transition-all group-hover:border-white/20",children:[e.jsx("div",{className:"absolute inset-2 rounded-full border border-white/5 border-dashed animate-spin-slow opacity-20"}),e.jsx("div",{className:"absolute w-1 h-5 top-2 rounded-full origin-bottom transition-transform duration-700 shadow-[0_0_15px_currentColor]",style:{transform:`rotate(${r}deg) translateY(2px)`,backgroundColor:l,color:l}}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-black/40 shadow-inner flex items-center justify-center",children:e.jsxs("div",{className:"text-[8px] font-mono text-white/40",children:[t,"%"]})})]}),e.jsx("div",{className:"text-[9px] font-black uppercase tracking-[0.3em] text-white/30 group-hover:text-white group-hover:tracking-[0.4em] transition-all",children:a})]})}function E(){const{callLimb:a}=N(),{addNotification:t}=y(),{sourceRelic:l}=j(),[r,o]=n.useState(!1),[i,c]=n.useState(""),[x,u]=n.useState(!1),[m,f]=n.useState(null),[g,S]=n.useState([{id:"drums",name:"Rhythm Core",active:!0,volume:.8,color:"magenta",waveform:Array(50).fill(0).map(()=>Math.random()*80+20)},{id:"bass",name:"Sub Pulse",active:!0,volume:.9,color:"cyan",waveform:Array(50).fill(0).map(()=>Math.random()*60+20)},{id:"synth",name:"Neural Lead",active:!0,volume:.7,color:"purple",waveform:Array(50).fill(0).map(()=>Math.random()*90+10)},{id:"fx",name:"Atmosphere",active:!1,volume:.5,color:"green",waveform:Array(50).fill(0).map(()=>Math.random()*40+10)}]),[d,b]=n.useState("SYNTH"),v=async()=>{if(r)o(!1);else{u(!0);try{t("info","Sonic Refinery: Generating Neural Audio Stems...");const s=await a("audio","audio_generate",{prompt:i,options:{title:"Neural Genesis",duration:"3:00",bpm:128,sourceRelic:l||{id:"default",type:"oscillator"}}});s.status==="success"&&(f(s.audioUrl),o(!0),t("success",`Audio synthesized: ${s.title||"Neural Genesis"}`))}catch(s){t("error",`Sonic Fault: ${s.message}`)}finally{u(!1)}}},w=async()=>{u(!0);try{const s=l||{id:"track_autumn_voyage",type:"audio_config",tags:["melancholy","flute","midi"]};t("info",`Constructing composition from ${l?"pinned relic":"archetype"}...`);const p=await a("audio","audio_inspire_audio",{sourceRelic:s,mood:"Epic Orchestral"});p.status==="success"&&(f(p.audioUrl),o(!0),t("success","Relic Theme Inspired"))}catch(s){t("error",`Inspiration Fault: ${s.message}`)}finally{u(!1)}};return e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-black/40 animate-fade-in relative overflow-hidden",children:[e.jsxs("div",{className:"h-24 border-b border-white/5 flex items-center px-10 gap-8 bg-white/5 backdrop-blur-3xl shadow-2xl",children:[e.jsx("div",{className:"w-14 h-14 rounded-3xl bg-neon-purple/20 flex items-center justify-center text-2xl shadow-[0_0_20px_rgba(188,0,255,0.2)] border border-neon-purple/30",children:"ðŸŽ»"}),e.jsxs("div",{className:"flex-1 max-w-2xl",children:[e.jsxs("div",{className:"flex gap-4 mr-4",children:[e.jsx("button",{onClick:()=>b("SYNTH"),className:`px-4 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${d==="SYNTH"?"bg-white text-black":"bg-black/40 text-white/40"}`,children:"Free Synth"}),e.jsx("button",{onClick:()=>b("INSPIRE"),className:`px-4 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${d==="INSPIRE"?"bg-white text-black":"bg-black/40 text-white/40"}`,children:"Relic Inspire"})]}),d==="SYNTH"?e.jsx("input",{value:i,onChange:s=>c(s.target.value),placeholder:"Define sonic vectors (e.g., 'Ethereal Techno with heavy sub pulse')...",className:"w-full bg-black/40 border border-white/5 rounded-2xl px-6 py-4 text-xs text-neon-cyan outline-none focus:border-neon-cyan/50 transition-all font-mono shadow-inner"}):e.jsxs("div",{className:"flex-1 bg-cyan-900/20 border border-cyan-500/20 rounded-2xl px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-[10px] font-mono text-cyan-200",children:["SOURCE: ",e.jsx("strong",{children:"RSC_ARCHIVE_SECTOR_7G"})," (Reverb Echoes)"]}),e.jsx("div",{className:"text-[9px] font-black text-cyan-500 uppercase",children:"READY"})]})]}),e.jsx("button",{onClick:d==="SYNTH"?v:w,disabled:x,className:`h-14 px-10 rounded-[20px] font-black uppercase text-[11px] tracking-[0.4em] transition-all shadow-2xl
                        ${r?"bg-neon-magenta text-white hover:shadow-[0_0_30px_rgba(255,0,225,0.4)]":"bg-white text-black hover:bg-neon-cyan hover:shadow-[0_0_30px_rgba(0,242,255,0.4)]"}
                    `,children:x?"Synthesizing...":r?"Stop Sequence":d==="SYNTH"?"Ignite Engine":"Inspire Theme"})]}),m&&e.jsx("div",{className:"hidden",children:e.jsx("audio",{src:m,autoPlay:r,loop:!0,onPlay:()=>o(!0),onPause:()=>o(!1)})}),e.jsxs("div",{className:"flex-1 flex overflow-hidden p-8 gap-8",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-6 overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.6em] text-white/20",children:"Sonic Refinery Suite v6.5"}),e.jsx("div",{className:"text-[9px] font-mono text-neon-cyan opacity-40 uppercase tracking-widest",children:"MASTER_SYNC: 128Hz"})]}),e.jsx("div",{className:"space-y-4",children:g.map(s=>e.jsx(k,{track:s,isPlaying:r},s.id))})]}),e.jsxs("div",{className:"w-[400px] flex flex-col gap-8",children:[e.jsxs("div",{className:"glass-ultra rounded-[40px] p-8 border border-white/5 shadow-2xl flex flex-col gap-8 relative overflow-hidden",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-white/40",children:"Master Bus Output"}),e.jsx("div",{className:"h-40 glass rounded-3xl bg-black/60 flex items-end gap-[3px] p-6 border border-white/5",children:Array(30).fill(0).map((s,p)=>e.jsx("div",{className:"flex-1 bg-gradient-to-t from-neon-purple to-neon-cyan rounded-full transition-all duration-75",style:{height:r?`${Math.max(10,Math.random()*100)}%`:"5%"}},p))}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 glass rounded-2xl border border-white/5 flex flex-col gap-1",children:[e.jsx("span",{className:"text-[9px] font-black text-white/30 uppercase tracking-widest",children:"RMS Power"}),e.jsx("span",{className:"text-sm font-black text-white",children:"-12.4dB"})]}),e.jsxs("div",{className:"p-4 glass rounded-2xl border border-white/5 flex flex-col gap-1",children:[e.jsx("span",{className:"text-[9px] font-black text-white/30 uppercase tracking-widest",children:"Entropy"}),e.jsx("span",{className:"text-sm font-black text-neon-magenta",children:"0.82 Hz"})]})]})]}),e.jsxs("div",{className:"flex-1 glass-ultra rounded-[40px] p-8 border border-white/5 shadow-2xl flex flex-col gap-8",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-white/40",children:"Neural FX Rack"}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-10",children:[e.jsx(h,{label:"Diffusion",value:65,color:"var(--neon-cyan)"}),e.jsx(h,{label:"Exciter",value:42,color:"var(--neon-magenta)"}),e.jsx(h,{label:"Spectral",value:88,color:"var(--neon-purple)"}),e.jsx(h,{label:"Conduction",value:12,color:"#4ade80"})]}),e.jsx("button",{className:"mt-auto w-full py-4 glass rounded-2xl text-[10px] font-black uppercase tracking-widest text-white/40 hover:text-white hover:border-white/20 transition-all",children:"Export Neural Manifest"})]})]})]})]})}export{E as AudioWorkspace};
