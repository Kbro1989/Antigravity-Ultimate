import{a as v,r as l,R as w,j as e}from"./main-BHK012E1.js";import{u as j}from"./useNotification-DXTqYQQn.js";function y(){const{callLimb:i}=v(),{addNotification:c}=j(),[d,n]=l.useState(!1),[p,m]=l.useState(99.9),[a,u]=l.useState([]),[h,f]=l.useState([]);w.useEffect(()=>{const s=async()=>{try{const t=await i("security","security_get_logs",{});if(t&&t.data){u(t.data.reverse().slice(0,50));const g=t.data.slice(-8).map((o,x)=>({id:x,source:o.metadata?.source||`node_${x+100}`,status:o.risk==="blocked"?"BLOCKED":"VALID",ip:o.metadata?.ip||`192.168.1.${100+x}`}));f(g)}}catch(t){console.warn("[SecurityWorkspace] Failed to fetch sync",t)}},r=setInterval(s,2e3);return s(),()=>clearInterval(r)},[i]);const b=async()=>{n(!0);try{await i("security","security_emergency_lockdown",{scope:"global",key_rotation:!0}),c("error","CRITICAL: Initiating Global Neural Lock..."),setTimeout(()=>{m(100),c("success","Security Moat Reinforced: Edge Shield 100%"),n(!1)},3e3)}catch(s){c("error",`Lockdown Failed: ${s.message}`),n(!1)}};return e.jsxs("div",{className:"flex-1 flex gap-8 h-full p-8 bg-black/40 animate-fade-in relative overflow-hidden",children:[e.jsxs("div",{className:"flex-1 glass-ultra rounded-[40px] border border-red-500/20 shadow-2xl relative overflow-hidden flex flex-col p-10",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(255,0,0,0.03)_0%,transparent_80%)]"}),e.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-12 relative z-10",children:[e.jsxs("div",{className:"border-r border-white/5 pr-10",children:[e.jsxs("div",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-red-500 mb-8 flex items-center gap-3",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"}),"Traffic Matrix (Live)"]}),e.jsxs("div",{className:"space-y-4 font-mono text-[9px]",children:[h.length===0&&e.jsx("div",{className:"text-white/20 italic",children:"No recent traffic detected on Neural Bridge."}),h.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 glass rounded-xl border border-white/5 hover:border-red-500/30 transition-all cursor-crosshair",children:[e.jsx("span",{className:"text-white/40",children:s.ip}),e.jsx("span",{className:`px-2 py-0.5 rounded ${s.status==="VALID"?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-500"}`,children:s.status})]},r))]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative w-64 h-64",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-red-500/10"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-t-4 border-red-500 animate-spin shadow-[0_0_20px_rgba(239,68,68,0.3)]"}),e.jsx("div",{className:"absolute inset-6 rounded-full border-b-4 border-white/20 animate-spin-slow-reverse"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[e.jsxs("span",{className:"text-5xl font-black text-white",children:[p,"%"]}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.3em] text-red-500 mt-2",children:"Core Integrity"})]})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-8 w-full",children:[e.jsxs("div",{className:"text-center p-4 glass rounded-3xl border border-white/5",children:[e.jsx("div",{className:"text-2xl font-black text-white",children:a.filter(s=>s.risk==="blocked").length}),e.jsx("div",{className:"text-[9px] font-black uppercase text-white/20 tracking-widest mt-1",children:"Breaches"})]}),e.jsxs("div",{className:"text-center p-4 glass rounded-3xl border border-white/5",children:[e.jsx("div",{className:"text-2xl font-black text-white",children:a.length}),e.jsx("div",{className:"text-[9px] font-black uppercase text-white/20 tracking-widest mt-1",children:"Events Scanned"})]})]})]}),e.jsxs("div",{className:"border-l border-white/5 pl-10 flex flex-col",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-red-400 mb-8",children:"Sentinel Logs"}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 scrollbar-none font-mono text-[9px]",children:[a.length===0&&e.jsx("div",{className:"text-white/20 italic",children:"Log buffer empty. Systems nominal."}),a.map((s,r)=>e.jsxs("div",{className:`p-3 rounded-xl ${s.risk==="blocked"||s.risk==="high"?"bg-red-500/5 text-red-400 italic":"bg-white/5 text-white/30"}`,children:["[",new Date(s.timestamp).toLocaleTimeString(),"] ",s.action||"Unknown Action"," - ",s.risk?.toUpperCase()]},r))]})]})]})]}),e.jsxs("div",{className:"w-[400px] flex flex-col gap-8",children:[e.jsxs("div",{className:"glass-ultra rounded-[40px] p-8 flex flex-col gap-8 border border-white/5 shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"text-[10px] font-black tracking-[0.4em] text-white/40 uppercase",children:"Encrypted Key Vault"}),e.jsx("div",{className:"space-y-4",children:["OpenAI_Master","Anthropic_Primary","Google_Symphony","DeepSeek_Limb"].map(s=>e.jsxs("div",{className:"p-4 glass rounded-2xl border border-white/5 flex items-center justify-between group cursor-pointer hover:border-red-500/30 transition-all",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-white group-hover:text-red-400 transition-colors uppercase",children:s}),e.jsx("span",{className:"text-[9px] font-mono text-white/20",children:"************fa92"})]}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(74,222,128,0.4)]"})]},s))}),e.jsx("div",{className:"h-[1px] bg-white/5 w-full"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-white/60",children:[e.jsx("span",{className:"font-bold uppercase tracking-widest",children:"Auto-Rotate Keys"}),e.jsx("div",{className:"w-10 h-5 bg-green-500/20 rounded-full relative p-1 leading-none",children:e.jsx("div",{className:"absolute right-1 w-3 h-3 bg-green-500 rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-white/60",children:[e.jsx("span",{className:"font-bold uppercase tracking-widest",children:"Global Moat"}),e.jsx("div",{className:"w-10 h-5 bg-white/10 rounded-full relative p-1 leading-none",children:e.jsx("div",{className:"absolute right-1 w-3 h-3 bg-white/30 rounded-full"})})]})]}),e.jsx("button",{onClick:b,disabled:d,className:`w-full py-5 rounded-2xl mt-auto font-black text-xs tracking-[0.2em] transition-all uppercase shadow-2xl flex items-center justify-center gap-3
                            ${d?"bg-red-500/20 text-white border border-red-500/50":"bg-red-600 text-white hover:bg-black hover:text-red-500 hover:border-red-500 hover:shadow-[0_0_40px_rgba(255,0,0,0.5)]"}
                        `,children:d?"Locking Core...":"âš  Emergency Lockdown"})]}),e.jsxs("div",{className:"flex-1 glass-ultra rounded-[40px] p-8 border border-white/5 flex flex-col gap-4",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-white/20",children:"Neural Trust Matrix"}),e.jsxs("div",{className:"flex-1 flex items-center justify-center relative",children:[e.jsxs("svg",{className:"w-full h-full opacity-20",children:[e.jsx("circle",{cx:"50%",cy:"50%",r:"40",fill:"none",stroke:"red",strokeWidth:"0.5",strokeDasharray:"2 4"}),e.jsx("circle",{cx:"50%",cy:"50%",r:"20",fill:"none",stroke:"red",strokeWidth:"0.5"})]}),e.jsx("div",{className:"absolute text-[8px] font-black uppercase text-red-400 animate-pulse",children:"Sentinel_Active"})]})]})]})]})}export{y as SecurityWorkspace};
