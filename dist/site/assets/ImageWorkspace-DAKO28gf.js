import{a as y,b as k,r as s,j as e}from"./main-Cu5wNbky.js";import{u as _}from"./useNotification-BnnzYWaB.js";function P(){const{callLimb:p}=y(),{addNotification:a}=_(),{sourceRelic:d}=k(),[l,o]=s.useState(!1),[r,f]=s.useState("TEXTURE"),[n,h]=s.useState("DIRECT"),[c,u]=s.useState("lab"),[w,S]=s.useState("Seamless cobblestone texture, mossy, dark gray"),[b,m]=s.useState("Seamless cobblestone texture, mossy, dark gray"),[v,g]=s.useState("https://images.unsplash.com/photo-1550684848-fac1c5b4e853?auto=format&fit=crop&w=800"),N=async t=>{o(!0);try{const x=await p("image",t==="image_synthesize_texture"?"generate":t,{prompt:c==="alchemist"?b:w,mode:r});x.status==="success"?(g(x.imageUrl),a("success","Asset Synthesis Complete: Pushed to Staging")):a("error",`Synthesis Fault: ${x.message||"Unknown"}`)}catch(i){a("error",`Synthesis Error: ${i.message}`)}finally{o(!1)}},j=async()=>{o(!0);try{const t=d||{id:"loc_lumbridge_castle",type:"location_config",visual_tags:["stone","castle","bright"]};a("info",`Visualizing asset from ${d?"pinned relic":"archetype"}...`);const i=await p("image","inspire_visual",{sourceRelic:t,style:r==="RETRO"?"RuneScape Classic Pixel":"Modern PBR"});i.status==="success"&&(g(i.imageUrl),a("success","Relic Visual Inspired"))}catch(t){a("error",`Inspiration Fault: ${t.message}`)}finally{o(!1)}};return e.jsxs("div",{className:"flex-1 flex gap-8 h-full p-8 bg-black/40 animate-fade-in relative overflow-hidden",children:[e.jsxs("div",{className:"flex-1 glass-ultra rounded-[40px] border border-white/5 shadow-2xl relative overflow-hidden flex flex-col group p-10",children:[e.jsx("div",{className:"flex-1 flex gap-6 relative",children:e.jsxs("div",{className:"flex-1 glass rounded-3xl border border-white/5 overflow-hidden relative group/pane bg-black/40 flex items-center justify-center",children:[e.jsxs("div",{className:"absolute top-6 left-6 flex flex-col gap-2 z-10",children:[e.jsx("div",{className:"glass px-4 py-1.5 rounded-xl text-[9px] font-black text-white uppercase tracking-widest border border-white/10 bg-black/20",children:"PREVIEW_ENGINE_v4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"glass px-2 py-1 rounded text-[7px] font-mono text-neon-cyan/60 uppercase",children:"2048x2048"}),e.jsx("span",{className:"glass px-2 py-1 rounded text-[7px] font-mono text-white/20 uppercase",children:"PBR_STAGES"})]})]}),e.jsxs("div",{className:"w-full h-full p-12 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(0,242,255,0.05)_0%,transparent_70%)]"}),e.jsxs("div",{className:"w-full h-full rounded-2xl border-2 border-white/5 shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden relative group-hover:scale-[1.02] transition-transform duration-700",children:[e.jsx("img",{src:v,className:`w-full h-full object-cover transition-all duration-1000 ${l?"blur-xl opacity-40 scale-125":"opacity-90"}`}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity bg-neon-cyan/5 flex items-center justify-center",children:e.jsx("div",{className:"px-6 py-3 glass rounded-full border border-neon-cyan/30 text-[10px] font-black text-neon-cyan uppercase tracking-widest cursor-pointer hover:bg-neon-cyan/20",children:"Enter_Precision_Edit"})})]})]}),l&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:[e.jsx("div",{className:"w-24 h-24 border-2 border-neon-cyan/10 border-t-neon-cyan rounded-full animate-spin shadow-[0_0_30px_rgba(0,242,255,0.2)]"}),e.jsx("div",{className:"absolute text-[8px] font-black text-neon-cyan uppercase tracking-[0.4em] animate-pulse",children:"SYNTHESIZING"})]})]})}),e.jsxs("div",{className:"h-32 border-t border-white/5 bg-black/40 p-8 flex items-center justify-between mt-8",children:[e.jsxs("div",{className:"flex gap-12",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-white/20 tracking-widest",children:"Asset Category"}),e.jsxs("span",{className:"text-xl font-black text-neon-cyan flex items-center gap-3",children:[r," STUDIO",e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-white/20 tracking-widest",children:"Target Protocol"}),e.jsx("span",{className:"text-xl font-black text-white italic",children:"UNIVERSAL_PBR_v6"})]})]}),e.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[e.jsxs("div",{className:"text-[10px] font-mono text-white/40 uppercase tracking-widest",children:["STAGED_PATH: ",e.jsxs("span",{className:"text-neon-magenta",children:["/staged_assets/textures/",r.toLowerCase(),"_01.png"]})]}),e.jsx("div",{className:"text-[8px] font-mono text-white/10 uppercase tracking-widest",children:"SEAMLESS_GEN: ACTIVE | MIPMAPS: OPTIMIZED"})]})]})]}),e.jsx("div",{className:"w-[400px] flex flex-col gap-8",children:e.jsxs("div",{className:"glass-ultra rounded-[40px] p-8 border border-white/5 shadow-2xl flex flex-col bg-white/5 backdrop-blur-3xl overflow-hidden flex-1",children:[e.jsxs("div",{className:"flex gap-2 mb-8 p-1 glass rounded-2xl border border-white/5 bg-black/20",children:[e.jsx("button",{onClick:()=>u("lab"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${c==="lab"?"bg-neon-cyan/20 text-neon-cyan shadow-[0_0_15px_rgba(0,242,255,0.2)]":"text-white/20 hover:text-white/40"}`,children:"Lab"}),e.jsx("button",{onClick:()=>u("alchemist"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${c==="alchemist"?"bg-neon-purple/20 text-neon-purple shadow-[0_0_15px_rgba(188,0,255,0.2)]":"text-white/20 hover:text-white/40"}`,children:"Alchemist"})]}),c==="lab"?e.jsxs("div",{className:"flex-1 flex flex-col gap-8 animate-in fade-in slide-in-from-left-4 duration-500",children:[e.jsx("div",{className:"text-[10px] font-black tracking-[0.4em] text-white/40 uppercase",children:"Texture Orchestrator"}),e.jsx("div",{className:"flex gap-2",children:["TEXTURE","SPRITE","RETRO"].map(t=>e.jsx("button",{onClick:()=>f(t),className:`flex-1 py-3 rounded-xl text-[9px] font-black transition-all border ${r===t?"bg-neon-cyan text-black border-neon-cyan":"bg-white/5 text-white/40 border-white/5 hover:border-white/20"}`,children:t},t))}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-white/30 border-b border-white/5 pb-2",children:"Production Pass"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Seamless",action:"toggle_seamless",val:"ON"},{label:"PBR Maps",action:"toggle_pbr",val:"ON"},{label:"Sheet Ext",action:"toggle_sheet",val:"OFF"},{label:"Palette",action:"choose_palette",val:"RETRO"}].map(t=>e.jsxs("div",{className:"p-4 glass rounded-[24px] border border-white/5 flex flex-col gap-1 hover:border-white/20 transition-all cursor-pointer group",children:[e.jsx("span",{className:"text-[9px] font-black text-white/20 uppercase tracking-widest group-hover:text-neon-cyan/50",children:t.label}),e.jsx("span",{className:`text-[10px] font-black uppercase ${t.val==="ON"?"text-neon-cyan":"text-white/60"}`,children:t.val})]},t.label))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-white/30 border-b border-white/5 pb-2",children:"Transformation Pipeline (Cloudflare Native)"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"AVIF Polish",val:"Auto (640px fallback)",color:"text-neon-cyan"},{label:"WebP Stream",val:"Lossless Optimizer",color:"text-white/60"},{label:"SVG Hush",val:"Sanitized / Safe",color:"text-neon-magenta"},{label:"Metadata",val:"Preserve JPEG",color:"text-white/60"}].map(t=>e.jsxs("div",{className:"p-4 glass rounded-[24px] border border-white/5 flex flex-col gap-1 hover:border-white/20 transition-all cursor-pointer group",children:[e.jsx("span",{className:"text-[9px] font-black text-white/20 uppercase tracking-widest group-hover:text-neon-cyan/50",children:t.label}),e.jsx("span",{className:`text-[10px] font-black uppercase ${t.color}`,children:t.val})]},t.label))}),e.jsx("div",{className:"text-[8px] font-mono text-white/20 px-2 italic",children:"* Optimized for serving from your Cloudflare Zones. Hard limits: 12kpx / Soft: 640px (AVIF)."})]})]}):e.jsxs("div",{className:"flex-1 flex flex-col gap-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsx("div",{className:"text-[10px] font-black tracking-[0.4em] text-neon-purple uppercase",children:"Visual Alchemist"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>h("DIRECT"),className:`flex-1 py-2 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all ${n==="DIRECT"?"bg-white text-black":"bg-white/5 text-white/40"}`,children:"Direct"}),e.jsx("button",{onClick:()=>h("INSPIRE"),className:`flex-1 py-2 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all ${n==="INSPIRE"?"bg-white text-black":"bg-white/5 text-white/40"}`,children:"Relic Inspire"})]}),n==="DIRECT"?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-neon-purple border-b border-neon-purple/20 pb-2",children:"Transmutation Prompt"}),e.jsx("textarea",{value:b,onChange:t=>m(t.target.value),className:"w-full bg-black/40 border border-white/10 rounded-2xl p-4 text-[11px] text-white/80 font-mono resize-none focus:border-neon-purple/50 outline-none h-32 shadow-inner",placeholder:"Describe the asset..."}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Ancient Stone",prompt:"Ancient weathered stone with moss and runic carvings"},{label:"Damaged Steel",prompt:"Rusted medieval steel with battle damage and scratches"},{label:"Biolume Moss",prompt:"Bioluminescent alien moss with glowing turquoise veins"},{label:"Abstract Ether",prompt:"Shifting ethereal energy texture with purple highlights"}].map(t=>e.jsx("button",{onClick:()=>m(t.prompt),className:"p-3 glass rounded-xl border border-white/5 hover:border-neon-purple/30 text-[9px] font-bold text-white/40 hover:text-white transition-all text-left",children:t.label},t.label))})]}):e.jsxs("div",{className:"p-6 bg-purple-900/20 border border-neon-purple/20 rounded-[32px] flex-1",children:[e.jsx("div",{className:"text-[10px] font-black text-neon-purple uppercase mb-4 tracking-widest",children:"Source of Truth Alchemy"}),e.jsx("div",{className:"text-[11px] text-white/60 leading-relaxed mb-6",children:"Transmuting metadata from pinned Relic into high-fidelity PBR buffers."}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"px-4 py-3 glass rounded-xl border border-white/5 flex items-center justify-between",children:[e.jsx("span",{className:"text-[9px] font-black text-white/20 uppercase",children:"Relic ID"}),e.jsx("span",{className:"text-[10px] font-bold text-neon-purple",children:d?.id||"loc_lumbridge_castle"})]}),e.jsxs("div",{className:"px-4 py-3 glass rounded-xl border border-white/5 flex items-center justify-between",children:[e.jsx("span",{className:"text-[9px] font-black text-white/20 uppercase",children:"Style Context"}),e.jsx("span",{className:"text-[10px] font-bold text-white",children:"Classic_Archive"})]})]})]}),e.jsx("button",{onClick:n==="DIRECT"?()=>N("image_synthesize_texture"):j,disabled:l,className:`w-full py-5 rounded-2xl mt-auto font-black text-xs tracking-[0.4em] transition-all uppercase shadow-2xl flex items-center justify-center gap-3
                                    ${l?"bg-neon-purple/20 text-white animate-pulse border border-neon-purple/50":"bg-neon-purple text-white hover:shadow-[0_0_40px_rgba(188,0,255,0.4)]"}
                                `,children:l?"Synthesizing...":n==="DIRECT"?"âš¡ Transmute Asset":"ðŸŽ¨ Inspire Asset"})]})]})})]})}export{P as ImageWorkspace};
