import{r as o,R as B,c as X,g as je,u as fe,j as a,a as Ne}from"./main-Cu5wNbky.js";import ke from"C:/Users/Destiny/Desktop/New folder/POG-Ultimate/node_modules/state-local/lib/es/state-local.js";import{u as Me}from"./useNotification-BnnzYWaB.js";function oe(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Se(e){if(Array.isArray(e))return e}function Ce(e,n,t){return(n=Le(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Oe(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,s,c,g,m=[],y=!0,N=!1;try{if(c=(t=t.call(e)).next,n!==0)for(;!(y=(r=c.call(t)).done)&&(m.push(r.value),m.length!==n);y=!0);}catch(L){N=!0,s=L}finally{try{if(!y&&t.return!=null&&(g=t.return(),Object(g)!==g))return}finally{if(N)throw s}}return m}}function Ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function se(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function ce(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?se(Object(t),!0).forEach(function(r){Ce(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Ae(e,n){if(e==null)return{};var t,r,s=_e(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function _e(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function Re(e,n){return Se(e)||Oe(e,n)||Te(e,n)||Ee()}function Ie(e,n){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Le(e){var n=Ie(e,"string");return typeof n=="symbol"?n:n+""}function Te(e,n){if(e){if(typeof e=="string")return oe(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oe(e,n):void 0}}var Pe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function ze(e){return function n(){for(var t=this,r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return s.length>=e.length?e.apply(this,s):function(){for(var g=arguments.length,m=new Array(g),y=0;y<g;y++)m[y]=arguments[y];return n.apply(t,[].concat(s,m))}}}function Fe(e){return{}.toString.call(e).includes("Object")}function $e(e){return e||le("configIsRequired"),Fe(e)||le("configType"),e.urls?(De(),{paths:{vs:e.urls.monacoBase}}):e}function De(){console.warn(pe.deprecation)}function Ve(e,n){throw new Error(e[n]||e.default)}var pe={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},le=ze(Ve)(pe),Be={config:$e},We=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(c,g){return g(c)},s)}};function he(e,n){return Object.keys(n).forEach(function(t){n[t]instanceof Object&&e[t]&&Object.assign(n[t],he(e[t],n[t]))}),ce(ce({},e),n)}var Ge={type:"cancelation",msg:"operation is manually canceled"};function te(e){var n=!1,t=new Promise(function(r,s){e.then(function(c){return n?s(Ge):r(c)}),e.catch(s)});return t.cancel=function(){return n=!0},t}var Ue=["monaco"],He=ke.create({config:Pe,isInitialized:!1,resolve:null,reject:null,monaco:null}),ge=Re(He,2),J=ge[0],Z=ge[1];function qe(e){var n=Be.config(e),t=n.monaco,r=Ae(n,Ue);Z(function(s){return{config:he(s.config,r),monaco:t}})}function Ke(){var e=J(function(n){var t=n.monaco,r=n.isInitialized,s=n.resolve;return{monaco:t,isInitialized:r,resolve:s}});if(!e.isInitialized){if(Z({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),te(ne);if(window.monaco&&window.monaco.editor)return xe(window.monaco),e.resolve(window.monaco),te(ne);We(Ye,Xe)(Qe)}return te(ne)}function Ye(e){return document.body.appendChild(e)}function Je(e){var n=document.createElement("script");return e&&(n.src=e),n}function Xe(e){var n=J(function(r){var s=r.config,c=r.reject;return{config:s,reject:c}}),t=Je("".concat(n.config.paths.vs,"/loader.js"));return t.onload=function(){return e()},t.onerror=n.reject,t}function Qe(){var e=J(function(t){var r=t.config,s=t.resolve,c=t.reject;return{config:r,resolve:s,reject:c}}),n=window.require;n.config(e.config),n(["vs/editor/editor.main"],function(t){var r=t.m||t;xe(r),e.resolve(r)},function(t){e.reject(t)})}function xe(e){J().monaco||Z({monaco:e})}function Ze(){return J(function(e){var n=e.monaco;return n})}var ne=new Promise(function(e,n){return Z({resolve:e,reject:n})}),me={config:qe,init:Ke,__getMonacoInstance:Ze},et={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},re=et,tt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},nt=tt;function rt({children:e}){return B.createElement("div",{style:nt.container},e)}var at=rt,it=at;function ot({width:e,height:n,isEditorReady:t,loading:r,_ref:s,className:c,wrapperProps:g}){return B.createElement("section",{style:{...re.wrapper,width:e,height:n},...g},!t&&B.createElement(it,null,r),B.createElement("div",{ref:s,style:{...re.fullWidth,...!t&&re.hide},className:c}))}var st=ot,be=o.memo(st);function ct(e){o.useEffect(e,[])}var ve=ct;function lt(e,n,t=!0){let r=o.useRef(!0);o.useEffect(r.current||!t?()=>{r.current=!1}:e,n)}var _=lt;function Y(){}function H(e,n,t,r){return ut(e,r)||dt(e,n,t,r)}function ut(e,n){return e.editor.getModel(ye(e,n))}function dt(e,n,t,r){return e.editor.createModel(n,t,r?ye(e,r):void 0)}function ye(e,n){return e.Uri.parse(n)}function ft({original:e,modified:n,language:t,originalLanguage:r,modifiedLanguage:s,originalModelPath:c,modifiedModelPath:g,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:y=!1,theme:N="light",loading:L="Loading...",options:S={},height:W="100%",width:F="100%",className:G,wrapperProps:T={},beforeMount:V=Y,onMount:R=Y}){let[k,P]=o.useState(!1),[I,i]=o.useState(!0),f=o.useRef(null),h=o.useRef(null),O=o.useRef(null),w=o.useRef(R),d=o.useRef(V),C=o.useRef(!1);ve(()=>{let x=me.init();return x.then(v=>(h.current=v)&&i(!1)).catch(v=>v?.type!=="cancelation"&&console.error("Monaco initialization: error:",v)),()=>f.current?A():x.cancel()}),_(()=>{if(f.current&&h.current){let x=f.current.getOriginalEditor(),v=H(h.current,e||"",r||t||"text",c||"");v!==x.getModel()&&x.setModel(v)}},[c],k),_(()=>{if(f.current&&h.current){let x=f.current.getModifiedEditor(),v=H(h.current,n||"",s||t||"text",g||"");v!==x.getModel()&&x.setModel(v)}},[g],k),_(()=>{let x=f.current.getModifiedEditor();x.getOption(h.current.editor.EditorOption.readOnly)?x.setValue(n||""):n!==x.getValue()&&(x.executeEdits("",[{range:x.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),x.pushUndoStop())},[n],k),_(()=>{f.current?.getModel()?.original.setValue(e||"")},[e],k),_(()=>{let{original:x,modified:v}=f.current.getModel();h.current.editor.setModelLanguage(x,r||t||"text"),h.current.editor.setModelLanguage(v,s||t||"text")},[t,r,s],k),_(()=>{h.current?.editor.setTheme(N)},[N],k),_(()=>{f.current?.updateOptions(S)},[S],k);let M=o.useCallback(()=>{if(!h.current)return;d.current(h.current);let x=H(h.current,e||"",r||t||"text",c||""),v=H(h.current,n||"",s||t||"text",g||"");f.current?.setModel({original:x,modified:v})},[t,n,s,e,r,c,g]),E=o.useCallback(()=>{!C.current&&O.current&&(f.current=h.current.editor.createDiffEditor(O.current,{automaticLayout:!0,...S}),M(),h.current?.editor.setTheme(N),P(!0),C.current=!0)},[S,N,M]);o.useEffect(()=>{k&&w.current(f.current,h.current)},[k]),o.useEffect(()=>{!I&&!k&&E()},[I,k,E]);function A(){let x=f.current?.getModel();m||x?.original?.dispose(),y||x?.modified?.dispose(),f.current?.dispose()}return B.createElement(be,{width:F,height:W,isEditorReady:k,loading:L,_ref:O,className:G,wrapperProps:T})}var pt=ft;o.memo(pt);function ht(e){let n=o.useRef();return o.useEffect(()=>{n.current=e},[e]),n.current}var gt=ht,Q=new Map;function xt({defaultValue:e,defaultLanguage:n,defaultPath:t,value:r,language:s,path:c,theme:g="light",line:m,loading:y="Loading...",options:N={},overrideServices:L={},saveViewState:S=!0,keepCurrentModel:W=!1,width:F="100%",height:G="100%",className:T,wrapperProps:V={},beforeMount:R=Y,onMount:k=Y,onChange:P,onValidate:I=Y}){let[i,f]=o.useState(!1),[h,O]=o.useState(!0),w=o.useRef(null),d=o.useRef(null),C=o.useRef(null),M=o.useRef(k),E=o.useRef(R),A=o.useRef(),x=o.useRef(r),v=gt(c),$=o.useRef(!1),z=o.useRef(!1);ve(()=>{let u=me.init();return u.then(b=>(w.current=b)&&O(!1)).catch(b=>b?.type!=="cancelation"&&console.error("Monaco initialization: error:",b)),()=>d.current?p():u.cancel()}),_(()=>{let u=H(w.current,e||r||"",n||s||"",c||t||"");u!==d.current?.getModel()&&(S&&Q.set(v,d.current?.saveViewState()),d.current?.setModel(u),S&&d.current?.restoreViewState(Q.get(c)))},[c],i),_(()=>{d.current?.updateOptions(N)},[N],i),_(()=>{!d.current||r===void 0||(d.current.getOption(w.current.editor.EditorOption.readOnly)?d.current.setValue(r):r!==d.current.getValue()&&(z.current=!0,d.current.executeEdits("",[{range:d.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),d.current.pushUndoStop(),z.current=!1))},[r],i),_(()=>{let u=d.current?.getModel();u&&s&&w.current?.editor.setModelLanguage(u,s)},[s],i),_(()=>{m!==void 0&&d.current?.revealLine(m)},[m],i),_(()=>{w.current?.editor.setTheme(g)},[g],i);let l=o.useCallback(()=>{if(!(!C.current||!w.current)&&!$.current){E.current(w.current);let u=c||t,b=H(w.current,r||e||"",n||s||"",u||"");d.current=w.current?.editor.create(C.current,{model:b,automaticLayout:!0,...N},L),S&&d.current.restoreViewState(Q.get(u)),w.current.editor.setTheme(g),m!==void 0&&d.current.revealLine(m),f(!0),$.current=!0}},[e,n,t,r,s,c,N,L,S,g,m]);o.useEffect(()=>{i&&M.current(d.current,w.current)},[i]),o.useEffect(()=>{!h&&!i&&l()},[h,i,l]),x.current=r,o.useEffect(()=>{i&&P&&(A.current?.dispose(),A.current=d.current?.onDidChangeModelContent(u=>{z.current||P(d.current.getValue(),u)}))},[i,P]),o.useEffect(()=>{if(i){let u=w.current.editor.onDidChangeMarkers(b=>{let U=d.current.getModel()?.uri;if(U&&b.find(q=>q.path===U.path)){let q=w.current.editor.getModelMarkers({resource:U});I?.(q)}});return()=>{u?.dispose()}}return()=>{}},[i,I]);function p(){A.current?.dispose(),W?S&&Q.set(c,d.current.saveViewState()):d.current.getModel()?.dispose(),d.current.dispose()}return B.createElement(be,{width:F,height:G,isEditorReady:i,loading:y,_ref:C,className:T,wrapperProps:V})}var mt=xt,bt=o.memo(mt),ue=bt,ae,de;function vt(){if(de)return ae;de=1;var e="Expected a function",n=NaN,t="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,g=/^0o[0-7]+$/i,m=parseInt,y=typeof X=="object"&&X&&X.Object===Object&&X,N=typeof self=="object"&&self&&self.Object===Object&&self,L=y||N||Function("return this")(),S=Object.prototype,W=S.toString,F=Math.max,G=Math.min,T=function(){return L.Date.now()};function V(i,f,h){var O,w,d,C,M,E,A=0,x=!1,v=!1,$=!0;if(typeof i!="function")throw new TypeError(e);f=I(f)||0,R(h)&&(x=!!h.leading,v="maxWait"in h,d=v?F(I(h.maxWait)||0,f):d,$="trailing"in h?!!h.trailing:$);function z(j){var D=O,K=w;return O=w=void 0,A=j,C=i.apply(K,D),C}function l(j){return A=j,M=setTimeout(b,f),x?z(j):C}function p(j){var D=j-E,K=j-A,ie=f-D;return v?G(ie,d-K):ie}function u(j){var D=j-E,K=j-A;return E===void 0||D>=f||D<0||v&&K>=d}function b(){var j=T();if(u(j))return U(j);M=setTimeout(b,p(j))}function U(j){return M=void 0,$&&O?z(j):(O=w=void 0,C)}function q(){M!==void 0&&clearTimeout(M),A=0,O=E=w=M=void 0}function we(){return M===void 0?C:U(T())}function ee(){var j=T(),D=u(j);if(O=arguments,w=this,E=j,D){if(M===void 0)return l(E);if(v)return M=setTimeout(b,f),z(E)}return M===void 0&&(M=setTimeout(b,f)),C}return ee.cancel=q,ee.flush=we,ee}function R(i){var f=typeof i;return!!i&&(f=="object"||f=="function")}function k(i){return!!i&&typeof i=="object"}function P(i){return typeof i=="symbol"||k(i)&&W.call(i)==t}function I(i){if(typeof i=="number")return i;if(P(i))return n;if(R(i)){var f=typeof i.valueOf=="function"?i.valueOf():i;i=R(f)?f+"":f}if(typeof i!="string")return i===0?i:+i;i=i.replace(r,"");var h=c.test(i);return h||g.test(i)?m(i.slice(2),h?2:8):s.test(i)?n:+i}return ae=V,ae}var yt=vt();const wt=je(yt);function jt({onClose:e,onArchitect:n}){const[t,r]=o.useState(""),[s,c]=o.useState("idle"),{status:g}=fe();return a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-xl animate-fade-in",children:a.jsxs("div",{className:`
                relative w-[800px] h-[600px] glass-ultra rounded-[40px] border border-white/10 
                shadow-[0_0_100px_rgba(0,242,255,0.1)] overflow-hidden transition-all duration-700
                ${s==="materializing"?"scale-105 border-neon-cyan/50":"scale-100"}
            `,children:[a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,242,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(0,242,255,0.03)_1px,transparent_1px)] bg-[size:40px_40px] perspective-[1000px] transform-gpu rotate-x-12"}),a.jsxs("div",{className:"relative z-10 flex flex-col h-full p-12 gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-neon-cyan/10 flex items-center justify-center border border-neon-cyan/30 shadow-[0_0_20px_var(--neon-cyan)] animate-pulse-slow",children:a.jsx("span",{className:"text-3xl",children:"ðŸ—ï¸"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-black text-white tracking-tight uppercase",children:"Architectural Forge"}),a.jsx("p",{className:"text-neon-cyan font-mono text-sm tracking-[0.2em] uppercase opacity-80",children:"Materialize Concepts into Code"})]}),a.jsx("button",{onClick:e,className:"ml-auto w-12 h-12 rounded-full glass flex items-center justify-center hover:bg-white/10 transition-all text-white/50 hover:text-white",children:"âœ•"})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center gap-6",children:[a.jsx("textarea",{value:t,onChange:m=>r(m.target.value),onFocus:()=>c("focus"),onBlur:()=>c("idle"),placeholder:"Describe the reality you wish to forge...",className:"w-full h-48 bg-transparent text-2xl font-light text-white placeholder:text-white/20 outline-none resize-none leading-relaxed selection:bg-neon-cyan/30",autoFocus:!0}),a.jsx("div",{className:"flex gap-4",children:["React Component","API Service","Shader Graph","Physics Engine"].map(m=>a.jsxs("button",{onClick:()=>r(y=>y+(y?" ":"")+m),className:"px-4 py-2 rounded-full glass border border-white/5 hover:border-neon-cyan/50 text-white/40 hover:text-neon-cyan text-xs font-black uppercase tracking-widest transition-all",children:["+ ",m]},m))})]}),a.jsxs("div",{className:"flex justify-end items-center gap-8",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-white/30",children:"System Status"}),a.jsx("div",{className:"text-neon-cyan font-mono text-xs",children:g.toUpperCase()})]}),a.jsxs("button",{onClick:()=>{c("materializing"),n(t)},className:"h-20 px-12 bg-white text-black rounded-[24px] font-black text-lg tracking-[0.2em] uppercase hover:bg-neon-cyan hover:shadow-[0_0_50px_rgba(0,242,255,0.6)] transition-all flex items-center gap-4 group",children:[a.jsx("span",{children:"Materialize"}),a.jsx("span",{className:"group-hover:translate-x-2 transition-transform",children:"â†’"})]})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-neon-cyan to-transparent opacity-50"})]})})}function St(){const{callLimb:e,hub:n}=Ne(),{addNotification:t}=Me(),{setAgentStatus:r,status:s}=fe(),c=o.useRef(null),[g,m]=o.useState(`// Welcome to POG Neural Logic Matrix v6.5
// Real-time AI execution enabled.

async function synthesizeReality() {
  const kernel = await callLimb('system', 'system_query_health');
  
  if (kernel.status === 'optimal') {
    return "Neural state synchronized.";
  }
}

synthesizeReality();`),[y,N]=o.useState({score:0,tier:"CALCULATING",analysis:"Pending neural sync..."}),[L,S]=o.useState(!1),[W,F]=o.useState(null),[G,T]=o.useState(null),[V,R]=o.useState(!1),[k,P]=o.useState([]),[I,i]=o.useState([]),[f,h]=o.useState("matrix"),[O,w]=o.useState(`// Archaeological Reference Logic
// [SELECT ARROW TO COMPARE]`),d=L||s==="thinking"||s==="executing";o.useEffect(()=>{const l=async()=>{try{const u=await e("orchestrator","orchestrate_get_symphony_status",{});u?.status==="success"&&P(u.agents);const b=await n.stats.getTraces();i(b)}catch{P([{name:"Architect",status:"ACTIVE"},{name:"Strategist",status:"ACTIVE"},{name:"Critic",status:"IDLE"},{name:"Symphony",status:"OFFLINE"}])}};l();const p=setInterval(l,3e3);return()=>clearInterval(p)},[e]);const C=async l=>{S(!0);try{const p=await e("code","code_analyze_complexity",{action:"analyze_complexity",payload:{code:l}});if(p&&p.data){let u=0,b="LOW";p.data.complexity?u=p.data.complexity:p.data.score&&(u=p.data.score),u>10?b="HIGH":u>5&&(b="MEDIUM"),N({score:u,tier:b,analysis:p.data.analysis||"Neural Analysis Complete"})}else{const u=l.split(`
`).length,b=parseFloat((u*.1).toFixed(1));N({score:b,tier:b>10?"HIGH":"LOW",analysis:"Local Heuristic (Neural Busy)"})}}catch(p){console.warn("Complexity check failed",p),N(u=>({...u,tier:"OFFLINE"}))}finally{S(!1)}},M=B.useCallback(wt(l=>C(l),1e3),[]),E=l=>{const p=l||"";m(p),M(p)},A=(l,p)=>{c.current=l,p.editor.defineTheme("pog-divine",{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"6272a4",fontStyle:"italic"},{token:"keyword",foreground:"00f2ff",fontStyle:"bold"},{token:"string",foreground:"ff79c6"},{token:"number",foreground:"bd93f9"},{token:"type",foreground:"8be9fd"},{token:"function",foreground:"50fa7b"}],colors:{"editor.background":"#00000000","editor.selectionBackground":"#00f2ff30","editorLineNumber.foreground":"#ffffff15","editorCursor.foreground":"#00f2ff","editor.lineHighlightBackground":"#ffffff08"}}),p.editor.setTheme("pog-divine")},x=async()=>{r("thinking","Neural Refactoring: Analyzing code structure..."),F(null);try{t("info","Neural Refactoring: Analyzing code structure...");const l=await e("code","code_refactor",{action:"refactor",payload:{code:g,filename:"workspace.ts"}});F(l),t("success",`Refactoring Complete: ${l.explanation||"Code optimized"}`)}catch(l){t("error",`Refactor Failed: ${l.message}`)}finally{r("idle","Neural Matrix Online")}},v=async()=>{if(!c.current)return;const l=c.current.getSelection(),p=l?c.current.getModel()?.getValueInRange(l):g;if(!p){t("warning","No code selected to explain");return}r("thinking","Neural Analysis: Explaining code logic..."),T(null);try{const u=await e("code","code_explain",{action:"explain",payload:{code:p,language:"typescript"}});T(u),t("success","Explanation generated")}catch(u){t("error",`Explain Failed: ${u.message}`)}finally{r("idle","Neural Matrix Online")}},$=async()=>{const l=window.prompt("Enter code generation prompt:");if(l){r("executing","Neural Synthesis: Generating code for prompt...");try{const p=await e("code","code_generate_code",{action:"generate_code",prompt:l,payload:{prompt:l,context:g}});p.code&&(m(g+`

`+p.code),t("success","Code generated and inserted"))}catch(p){t("error",`Generation Failed: ${p.message}`)}finally{r("idle","Neural Matrix Online")}}},z=async l=>{r("thinking","Neural Architecture: Forging blueprint...");try{const p=await e("orchestrator","orchestrate_architect_solution",{action:"architect_solution",prompt:l,payload:{request:l}});if(p.plan){const u=p.plan.blueprint?.map(b=>`// Step ${b.step}: ${b.description}`).join(`
`)||"";u?(m(g+`

// --- ARCHITECTURAL BLUEPRINT ---
`+u),t("success","Architectural blueprint materialized")):t("info","Architecture designed, but no specific blueprint returned")}}catch(p){t("error",`Architect Mode Failed: ${p.message}`)}finally{r("idle","Neural Matrix Online"),R(!1)}};return a.jsxs("div",{className:"flex-1 flex gap-10 h-full p-10 bg-black/40 animate-fade-in relative overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col gap-10",children:[a.jsxs("div",{className:"flex-1 glass-divine rounded-[50px] border-white/10 shadow-2xl relative overflow-hidden flex flex-col p-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-10",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-14 h-14 rounded-3xl bg-neon-cyan/10 border border-neon-cyan/40 flex items-center justify-center text-2xl shadow-[0_0_30px_rgba(0,242,255,0.15)]",children:"ðŸ’Ž"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[12px] font-black uppercase tracking-[0.5em] text-neon-cyan",children:"Logic Matrix v6.5_ULTRA"}),a.jsx("span",{className:"text-[10px] font-mono text-white/30 uppercase mt-1",children:"Status: Neural_Alignment_Active"})]})]}),a.jsxs("div",{className:"flex bg-black/40 p-1.5 rounded-[22px] border border-white/5 mb-2",children:[a.jsx("button",{onClick:()=>h("matrix"),className:`flex-1 py-2.5 rounded-2xl text-[9px] font-black uppercase tracking-widest transition-all ${f==="matrix"?"bg-white text-black shadow-xl":"text-white/30 hover:text-white"}`,children:"Logic Matrix"}),a.jsx("button",{onClick:()=>h("forensic"),className:`flex-1 py-2.5 rounded-2xl text-[9px] font-black uppercase tracking-widest transition-all ${f==="forensic"?"bg-neon-gold/20 text-neon-gold border-neon-gold/50 shadow-[0_0_20px_rgba(255,184,0,0.2)]":"text-white/30 hover:text-white"}`,children:"Forensic"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[f==="matrix"?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:x,disabled:d,className:"px-6 py-3 rounded-2xl glass-divine border-white/10 text-[10px] font-black uppercase tracking-[0.2em] text-white/60 hover:text-neon-cyan hover:border-neon-cyan/40 transition-all shadow-xl disabled:opacity-50",children:d?"â³ Processing":"âš¡ Refactor"}),a.jsx("button",{onClick:v,disabled:d,className:"px-6 py-3 rounded-2xl glass-divine border-white/10 text-[10px] font-black uppercase tracking-[0.2em] text-white/60 hover:text-neon-magenta hover:border-neon-magenta/40 transition-all shadow-xl disabled:opacity-50",children:"ðŸ’¡ Explain"}),a.jsx("button",{onClick:$,disabled:d,className:"px-6 py-3 bg-neon-gold/10 hover:bg-neon-gold/20 text-neon-gold border border-neon-gold/30 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl disabled:opacity-50",children:"âœ¨ Generate"})]}):a.jsx("div",{className:"flex items-center gap-3 text-neon-gold text-[10px] font-black uppercase tracking-widest animate-pulse",children:a.jsx("span",{children:"Archeological Comparison Mode Active"})}),a.jsxs("button",{onClick:()=>R(!0),disabled:d,className:"px-6 py-3 bg-neon-cyan/20 hover:bg-neon-cyan/30 text-neon-cyan border border-neon-cyan/50 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl disabled:opacity-50 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"ðŸ—ï¸"}),a.jsx("span",{children:"Architect Mode"})]})]})]}),a.jsxs("div",{className:"flex-1 rounded-[40px] overflow-hidden border border-white/10 bg-black/30 p-6 shadow-inner relative flex gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 z-10 text-[8px] font-black text-white/10 uppercase tracking-[0.4em]",children:"Neural Working Space"}),a.jsx(ue,{height:"100%",defaultLanguage:"typescript",value:g,onMount:A,onChange:E,options:{minimap:{enabled:!1},fontSize:14,fontFamily:"JetBrains Mono, monospace",scrollBeyondLastLine:!1,automaticLayout:!0,padding:{top:20,bottom:20},smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",lineNumbersMinChars:3}})]}),f==="forensic"&&a.jsxs("div",{className:"w-[45%] border-l border-white/10 pl-4 relative animate-in slide-in-from-right-10 duration-700",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 z-10 text-[8px] font-black text-neon-gold/40 uppercase tracking-[0.4em]",children:"Archeological Truth"}),a.jsx(ue,{height:"100%",defaultLanguage:"typescript",value:O,options:{readOnly:!0,minimap:{enabled:!1},fontSize:12,fontFamily:"JetBrains Mono, monospace",lineNumbersMinChars:2,theme:"vs-dark",renderSideBySide:!1}})]})]})]}),a.jsxs("div",{className:"h-48 glass-divine rounded-[50px] p-10 border-white/10 shadow-2xl relative overflow-hidden flex flex-col gap-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-[11px] font-black uppercase tracking-[0.5em] text-white/40",children:"Nexus Output Terminal"}),a.jsx("div",{className:"text-[10px] font-mono text-neon-cyan animate-pulse",children:"ATOMIC_CLOCK_SYNC: OK"})]}),a.jsxs("div",{className:"flex-1 font-mono text-[11px] text-white/50 overflow-y-auto space-y-2 custom-scrollbar",children:[I.length>0?I.map((l,p)=>a.jsxs("div",{className:"flex gap-4 animate-fade-in",children:[a.jsxs("span",{className:"text-neon-gold",children:["[",new Date(l.timestamp).toLocaleTimeString(),"]"]}),a.jsx("span",{className:"text-white/20",children:">>>"}),a.jsx("span",{className:l.layer==="ai"?"text-neon-cyan":"text-white/40",children:l.action.toUpperCase()}),a.jsx("span",{className:"text-white/30 truncate",children:l.metadata?.status?`(${l.metadata.status})`:""})]},l.id||p)):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("span",{className:"text-neon-gold",children:"[00:00:00]"})," ",a.jsx("span",{className:"text-white/20",children:">>>"})," Initializing Logic Matrix..."]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("span",{className:"text-neon-cyan",children:"[00:00:01]"})," ",a.jsx("span",{className:"text-white/20",children:">>>"})," Connecting to Neural Hub..."]})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx("span",{className:"text-neon-cyan",children:"pog@divine:~$"}),a.jsx("span",{className:"w-2 h-4 bg-neon-cyan animate-pulse shadow-[0_0_10px_var(--neon-cyan)]"})]})]})]})]}),a.jsx("div",{className:"w-[340px] flex flex-col gap-10",children:a.jsxs("div",{className:"glass-divine rounded-[50px] p-10 border-white/10 shadow-2xl flex flex-col gap-10 h-full",children:[a.jsx("div",{className:"text-[11px] font-black tracking-[0.5em] text-white/40 uppercase border-b border-white/5 pb-6",children:"Neural Graph"}),a.jsx("div",{className:"flex-1 flex flex-col gap-5 overflow-y-auto custom-scrollbar",children:k.map(l=>a.jsxs("div",{className:"p-5 glass-divine rounded-3xl border-white/5 flex items-center justify-between group hover:bg-white/5 transition-all cursor-pointer",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"text-[11px] font-black text-white/70 group-hover:text-neon-cyan uppercase tracking-widest",children:l.name}),a.jsxs("span",{className:"text-[8px] text-white/20 font-mono italic",children:["Subroutine: ",l.status]})]}),a.jsx("div",{className:`w-2 h-2 rounded-full shadow-[0_0_12px_rgba(74,222,128,0.5)] ${l.status==="ACTIVE"||l.status==="SYNCING"?"bg-green-500":"bg-red-500 opacity-20"}`})]},l.name))}),a.jsxs("div",{className:"mt-auto p-8 bg-black/40 rounded-[40px] border border-white/10 shadow-xl",children:[a.jsx("div",{className:"text-[10px] font-black text-white/20 uppercase mb-4 tracking-[0.3em]",children:"Complexity Index"}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"text-5xl font-black text-white tracking-tighter",children:y.score}),a.jsx("div",{className:`text-[11px] font-black mb-1 p-2 rounded-lg bg-white/5 ${y.tier==="LOW"?"text-green-400":y.tier==="MEDIUM"?"text-yellow-400":"text-red-400"}`,children:y.tier})]})]})]})}),V&&a.jsx(jt,{onClose:()=>R(!1),onArchitect:z})]})}export{St as CodeWorkspace};
