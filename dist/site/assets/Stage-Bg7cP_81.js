import{f as Fh,R as Nf,h as Oh,g as Dh,r as k,j as Pn,p as Ql}from"./main-Cu5wNbky.js";import{t as Rf,z as Pf,O as vi,P as go,g as vs,I as Kl,J as Ah,K as Uh,Q as Lh,d as So,S as bs,r as jh,X as Bh,Y as cf,C as To,Z as Ua,U as wo,x as Re,V as dt,_ as Hh,$ as Zh,a0 as $h,h as Io,a1 as Vh,k as La,j as Wh,a2 as ff,a3 as bi,a4 as Ia,a5 as za,a6 as qh,a7 as Gh,a8 as Ff,H as Kn,F as Gt,a9 as Oa,L as Et,aa as Yh,f as Xh,ab as Qh,y as vo,R as Kh,W as Qr,D as Jh,w as Of,ac as em,ad as Jl,ae as Ir,af as ys,ag as Eo,ah as nm,T as Da,ai as tm,aj as rm,ak as am,al as im,c as om,am as lm,an as sm,ao as df,ap as bo,m as um,aq as cm,ar as fm,as as dm,at as pm,au as hm,N as pf,av as mm}from"./three.module-aN59MUBe.js";import{v as Df}from"./constants-DucYOER3.js";import{u as gm}from"./with-selector-GgVLmVSD.js";const{useSyncExternalStoreWithSelector:vm}=gm,bm=o=>o;function ym(o,a=bm,u){const s=vm(o.subscribe,o.getState,o.getInitialState,a,u);return Nf.useDebugValue(s),s}const hf=(o,a)=>{const u=Fh(o),s=(c,h=a)=>ym(u,c,h);return Object.assign(s,u),s},Af=((o,a)=>o?hf(o,a):hf),Sm=o=>typeof o=="object"&&typeof o.then=="function",Xr=[];function Uf(o,a,u=(s,c)=>s===c){if(o===a)return!0;if(!o||!a)return!1;const s=o.length;if(a.length!==s)return!1;for(let c=0;c<s;c++)if(!u(o[c],a[c]))return!1;return!0}function Lf(o,a=null,u=!1,s={}){a===null&&(a=[o]);for(const h of Xr)if(Uf(a,h.keys,h.equal)){if(u)return;if(Object.prototype.hasOwnProperty.call(h,"error"))throw h.error;if(Object.prototype.hasOwnProperty.call(h,"response"))return s.lifespan&&s.lifespan>0&&(h.timeout&&clearTimeout(h.timeout),h.timeout=setTimeout(h.remove,s.lifespan)),h.response;if(!u)throw h.promise}const c={keys:a,equal:s.equal,remove:()=>{const h=Xr.indexOf(c);h!==-1&&Xr.splice(h,1)},promise:(Sm(o)?o:o(...a)).then(h=>{c.response=h,s.lifespan&&s.lifespan>0&&(c.timeout=setTimeout(c.remove,s.lifespan))}).catch(h=>c.error=h)};if(Xr.push(c),!u)throw c.promise}const wm=(o,a,u)=>Lf(o,a,!1,u),Em=(o,a,u)=>{Lf(o,a,!0,u)},xm=o=>{if(o===void 0||o.length===0)Xr.splice(0,Xr.length);else{const a=Xr.find(u=>Uf(o,u.keys,u.equal));a&&a.remove()}};var us=Oh();const _m=Dh(us);function Ss(o,a,u){if(!o)return;if(u(o)===!0)return o;let s=a?o.return:o.child;for(;s;){const c=Ss(s,a,u);if(c)return c;s=a?null:s.sibling}}function jf(o){try{return Object.defineProperties(o,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return o}}const ws=jf(k.createContext(null));class Bf extends k.Component{render(){return k.createElement(ws.Provider,{value:this._reactInternals},this.props.children)}}function Hf(){const o=k.useContext(ws);if(o===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const a=k.useId();return k.useMemo(()=>{for(const u of[o,o?.alternate]){if(!u)continue;const s=Ss(u,!1,c=>{let h=c.memoizedState;for(;h;){if(h.memoizedState===a)return!0;h=h.next}});if(s)return s}},[o,a])}const Mm=Symbol.for("react.context"),km=o=>o!==null&&typeof o=="object"&&"$$typeof"in o&&o.$$typeof===Mm;function Cm(){const o=Hf(),[a]=k.useState(()=>new Map);a.clear();let u=o;for(;u;){const s=u.type;km(s)&&s!==ws&&!a.has(s)&&a.set(s,k.use(jf(s))),u=u.return}return a}function Tm(){const o=Cm();return k.useMemo(()=>Array.from(o.keys()).reduce((a,u)=>s=>k.createElement(a,null,k.createElement(u.Provider,{...s,value:o.get(u)})),a=>k.createElement(Bf,{...a})),[o])}function Zf(o){let a=o.root;for(;a.getState().previousRoot;)a=a.getState().previousRoot;return a}const $f=o=>o&&o.isOrthographicCamera,Im=o=>o&&o.hasOwnProperty("current"),zm=o=>o!=null&&(typeof o=="string"||typeof o=="number"||o.isColor),xi=((o,a)=>typeof window<"u"&&(((o=window.document)==null?void 0:o.createElement)||((a=window.navigator)==null?void 0:a.product)==="ReactNative"))()?k.useLayoutEffect:k.useEffect;function Es(o){const a=k.useRef(o);return xi(()=>{a.current=o},[o]),a}function Nm(){const o=Hf(),a=Tm();return k.useMemo(()=>({children:u})=>{const c=!!Ss(o,!0,h=>h.type===k.StrictMode)?k.StrictMode:k.Fragment;return Pn.jsx(c,{children:Pn.jsx(a,{children:u})})},[o,a])}function Rm({set:o}){return xi(()=>(o(new Promise(()=>null)),()=>o(!1)),[o]),null}const Pm=(o=>(o=class extends k.Component{constructor(...u){super(...u),this.state={error:!1}}componentDidCatch(u){this.props.set(u)}render(){return this.state.error?null:this.props.children}},o.getDerivedStateFromError=()=>({error:!0}),o))();function Vf(o){var a;const u=typeof window<"u"?(a=window.devicePixelRatio)!=null?a:2:1;return Array.isArray(o)?Math.min(Math.max(o[0],u),o[1]):o}function Na(o){var a;return(a=o.__r3f)==null?void 0:a.root.getState()}const ln={obj:o=>o===Object(o)&&!ln.arr(o)&&typeof o!="function",fun:o=>typeof o=="function",str:o=>typeof o=="string",num:o=>typeof o=="number",boo:o=>typeof o=="boolean",und:o=>o===void 0,nul:o=>o===null,arr:o=>Array.isArray(o),equ(o,a,{arrays:u="shallow",objects:s="reference",strict:c=!0}={}){if(typeof o!=typeof a||!!o!=!!a)return!1;if(ln.str(o)||ln.num(o)||ln.boo(o))return o===a;const h=ln.obj(o);if(h&&s==="reference")return o===a;const S=ln.arr(o);if(S&&u==="reference")return o===a;if((S||h)&&o===a)return!0;let g;for(g in o)if(!(g in a))return!1;if(h&&u==="shallow"&&s==="shallow"){for(g in c?a:o)if(!ln.equ(o[g],a[g],{strict:c,objects:"reference"}))return!1}else for(g in c?a:o)if(o[g]!==a[g])return!1;if(ln.und(g)){if(S&&o.length===0&&a.length===0||h&&Object.keys(o).length===0&&Object.keys(a).length===0)return!0;if(o!==a)return!1}return!0}};function Fm(o){const a={nodes:{},materials:{},meshes:{}};return o&&o.traverse(u=>{u.name&&(a.nodes[u.name]=u),u.material&&!a.materials[u.material.name]&&(a.materials[u.material.name]=u.material),u.isMesh&&!a.meshes[u.name]&&(a.meshes[u.name]=u)}),a}function Om(o){o.type!=="Scene"&&(o.dispose==null||o.dispose());for(const a in o){const u=o[a];u?.type!=="Scene"&&(u==null||u.dispose==null||u.dispose())}}const Wf=["children","key","ref"];function Dm(o){const a={};for(const u in o)Wf.includes(u)||(a[u]=o[u]);return a}function xo(o,a,u,s){const c=o;let h=c?.__r3f;return h||(h={root:a,type:u,parent:null,children:[],props:Dm(s),object:c,eventCount:0,handlers:{},isHidden:!1},c&&(c.__r3f=h)),h}function wi(o,a){if(!a.includes("-"))return{root:o,key:a,target:o[a]};if(a in o)return{root:o,key:a,target:o[a]};let u=o;const s=a.split("-");for(const c of s){if(typeof u!="object"||u===null){if(u!==void 0){const h=s.slice(s.indexOf(c)).join("-");return{root:u,key:h,target:void 0}}return{root:o,key:a,target:void 0}}a=c,o=u,u=u[a]}return{root:o,key:a,target:u}}const mf=/-\d+$/;function _o(o,a){if(ln.str(a.props.attach)){if(mf.test(a.props.attach)){const c=a.props.attach.replace(mf,""),{root:h,key:S}=wi(o.object,c);Array.isArray(h[S])||(h[S]=[])}const{root:u,key:s}=wi(o.object,a.props.attach);a.previousAttach=u[s],u[s]=a.object}else ln.fun(a.props.attach)&&(a.previousAttach=a.props.attach(o.object,a.object))}function Mo(o,a){if(ln.str(a.props.attach)){const{root:u,key:s}=wi(o.object,a.props.attach),c=a.previousAttach;c===void 0?delete u[s]:u[s]=c}else a.previousAttach==null||a.previousAttach(o.object,a.object);delete a.previousAttach}const cs=[...Wf,"args","dispose","attach","object","onUpdate","dispose"],gf=new Map;function Am(o){let a=gf.get(o.constructor);try{a||(a=new o.constructor,gf.set(o.constructor,a))}catch{}return a}function Um(o,a){const u={};for(const s in a)if(!cs.includes(s)&&!ln.equ(a[s],o.props[s])){u[s]=a[s];for(const c in a)c.startsWith(`${s}-`)&&(u[c]=a[c])}for(const s in o.props){if(cs.includes(s)||a.hasOwnProperty(s))continue;const{root:c,key:h}=wi(o.object,s);if(c.constructor&&c.constructor.length===0){const S=Am(c);ln.und(S)||(u[h]=S[h])}else u[h]=0}return u}const Lm=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],jm=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function qt(o,a){var u;const s=o.__r3f,c=s&&Zf(s).getState(),h=s?.eventCount;for(const g in a){let m=a[g];if(cs.includes(g))continue;if(s&&jm.test(g)){typeof m=="function"?s.handlers[g]=m:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;continue}if(m===void 0)continue;let{root:y,key:w,target:C}=wi(o,g);if(C===void 0&&(typeof y!="object"||y===null))throw Error(`R3F: Cannot set "${g}". Ensure it is an object before setting "${w}".`);if(C instanceof cf&&m instanceof cf)C.mask=m.mask;else if(C instanceof To&&zm(m))C.set(m);else if(C!==null&&typeof C=="object"&&typeof C.set=="function"&&typeof C.copy=="function"&&m!=null&&m.constructor&&C.constructor===m.constructor)C.copy(m);else if(C!==null&&typeof C=="object"&&typeof C.set=="function"&&Array.isArray(m))typeof C.fromArray=="function"?C.fromArray(m):C.set(...m);else if(C!==null&&typeof C=="object"&&typeof C.set=="function"&&typeof m=="number")typeof C.setScalar=="function"?C.setScalar(m):C.set(m);else{var S;y[w]=m,c&&!c.linear&&Lm.includes(w)&&(S=y[w])!=null&&S.isTexture&&y[w].format===Ua&&y[w].type===wo&&(y[w].colorSpace=bs)}}if(s!=null&&s.parent&&c!=null&&c.internal&&(u=s.object)!=null&&u.isObject3D&&h!==s.eventCount){const g=s.object,m=c.internal.interaction.indexOf(g);m>-1&&c.internal.interaction.splice(m,1),s.eventCount&&g.raycast!==null&&c.internal.interaction.push(g)}return s&&s.props.attach===void 0&&(s.object.isBufferGeometry?s.props.attach="geometry":s.object.isMaterial&&(s.props.attach="material")),s&&Ha(s),o}function Ha(o){var a;if(!o.parent)return;o.props.onUpdate==null||o.props.onUpdate(o.object);const u=(a=o.root)==null||a.getState==null?void 0:a.getState();u&&u.internal.frames===0&&u.invalidate()}function qf(o,a){o.manual||($f(o)?(o.left=a.width/-2,o.right=a.width/2,o.top=a.height/2,o.bottom=a.height/-2):o.aspect=a.width/a.height,o.updateProjectionMatrix())}const $n=o=>o?.isObject3D;function co(o){return(o.eventObject||o.object).uuid+"/"+o.index+o.instanceId}function Gf(o,a,u,s){const c=u.get(a);c&&(u.delete(a),u.size===0&&(o.delete(s),c.target.releasePointerCapture(s)))}function Bm(o,a){const{internal:u}=o.getState();u.interaction=u.interaction.filter(s=>s!==a),u.initialHits=u.initialHits.filter(s=>s!==a),u.hovered.forEach((s,c)=>{(s.eventObject===a||s.object===a)&&u.hovered.delete(c)}),u.capturedMap.forEach((s,c)=>{Gf(u.capturedMap,a,s,c)})}function Hm(o){function a(m){const{internal:y}=o.getState(),w=m.offsetX-y.initialClick[0],C=m.offsetY-y.initialClick[1];return Math.round(Math.sqrt(w*w+C*C))}function u(m){return m.filter(y=>["Move","Over","Enter","Out","Leave"].some(w=>{var C;return(C=y.__r3f)==null?void 0:C.handlers["onPointer"+w]}))}function s(m,y){const w=o.getState(),C=new Set,T=[],P=y?y(w.internal.interaction):w.internal.interaction;for(let N=0;N<P.length;N++){const _=Na(P[N]);_&&(_.raycaster.camera=void 0)}w.previousRoot||w.events.compute==null||w.events.compute(m,w);function L(N){const _=Na(N);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var X;_.events.compute==null||_.events.compute(m,_,(X=_.previousRoot)==null?void 0:X.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(N,!0):[]}let H=P.flatMap(L).sort((N,_)=>{const X=Na(N.object),Q=Na(_.object);return!X||!Q?N.distance-_.distance:Q.events.priority-X.events.priority||N.distance-_.distance}).filter(N=>{const _=co(N);return C.has(_)?!1:(C.add(_),!0)});w.events.filter&&(H=w.events.filter(H,w));for(const N of H){let _=N.object;for(;_;){var B;(B=_.__r3f)!=null&&B.eventCount&&T.push({...N,eventObject:_}),_=_.parent}}if("pointerId"in m&&w.internal.capturedMap.has(m.pointerId))for(let N of w.internal.capturedMap.get(m.pointerId).values())C.has(co(N.intersection))||T.push(N.intersection);return T}function c(m,y,w,C){if(m.length){const T={stopped:!1};for(const P of m){let L=Na(P.object);if(L||P.object.traverseAncestors(H=>{const B=Na(H);if(B)return L=B,!1}),L){const{raycaster:H,pointer:B,camera:N,internal:_}=L,X=new Re(B.x,B.y,0).unproject(N),Q=j=>{var Z,le;return(Z=(le=_.capturedMap.get(j))==null?void 0:le.has(P.eventObject))!=null?Z:!1},R=j=>{const Z={intersection:P,target:y.target};_.capturedMap.has(j)?_.capturedMap.get(j).set(P.eventObject,Z):_.capturedMap.set(j,new Map([[P.eventObject,Z]])),y.target.setPointerCapture(j)},M=j=>{const Z=_.capturedMap.get(j);Z&&Gf(_.capturedMap,P.eventObject,Z,j)};let V={};for(let j in y){let Z=y[j];typeof Z!="function"&&(V[j]=Z)}let D={...P,...V,pointer:B,intersections:m,stopped:T.stopped,delta:w,unprojectedPoint:X,ray:H.ray,camera:N,stopPropagation(){const j="pointerId"in y&&_.capturedMap.get(y.pointerId);if((!j||j.has(P.eventObject))&&(D.stopped=T.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(Z=>Z.eventObject===P.eventObject))){const Z=m.slice(0,m.indexOf(P));h([...Z,P])}},target:{hasPointerCapture:Q,setPointerCapture:R,releasePointerCapture:M},currentTarget:{hasPointerCapture:Q,setPointerCapture:R,releasePointerCapture:M},nativeEvent:y};if(C(D),T.stopped===!0)break}}}return m}function h(m){const{internal:y}=o.getState();for(const w of y.hovered.values())if(!m.length||!m.find(C=>C.object===w.object&&C.index===w.index&&C.instanceId===w.instanceId)){const T=w.eventObject.__r3f;if(y.hovered.delete(co(w)),T!=null&&T.eventCount){const P=T.handlers,L={...w,intersections:m};P.onPointerOut==null||P.onPointerOut(L),P.onPointerLeave==null||P.onPointerLeave(L)}}}function S(m,y){for(let w=0;w<y.length;w++){const C=y[w].__r3f;C==null||C.handlers.onPointerMissed==null||C.handlers.onPointerMissed(m)}}function g(m){switch(m){case"onPointerLeave":case"onPointerCancel":return()=>h([]);case"onLostPointerCapture":return y=>{const{internal:w}=o.getState();"pointerId"in y&&w.capturedMap.has(y.pointerId)&&requestAnimationFrame(()=>{w.capturedMap.has(y.pointerId)&&(w.capturedMap.delete(y.pointerId),h([]))})}}return function(w){const{onPointerMissed:C,internal:T}=o.getState();T.lastEvent.current=w;const P=m==="onPointerMove",L=m==="onClick"||m==="onContextMenu"||m==="onDoubleClick",B=s(w,P?u:void 0),N=L?a(w):0;m==="onPointerDown"&&(T.initialClick=[w.offsetX,w.offsetY],T.initialHits=B.map(X=>X.eventObject)),L&&!B.length&&N<=2&&(S(w,T.interaction),C&&C(w)),P&&h(B);function _(X){const Q=X.eventObject,R=Q.__r3f;if(!(R!=null&&R.eventCount))return;const M=R.handlers;if(P){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const V=co(X),D=T.hovered.get(V);D?D.stopped&&X.stopPropagation():(T.hovered.set(V,X),M.onPointerOver==null||M.onPointerOver(X),M.onPointerEnter==null||M.onPointerEnter(X))}M.onPointerMove==null||M.onPointerMove(X)}else{const V=M[m];V?(!L||T.initialHits.includes(Q))&&(S(w,T.interaction.filter(D=>!T.initialHits.includes(D))),V(X)):L&&T.initialHits.includes(Q)&&S(w,T.interaction.filter(D=>!T.initialHits.includes(D)))}}c(B,w,N,_)}}return{handlePointer:g}}const vf=o=>!!(o!=null&&o.render),xs=k.createContext(null),Zm=(o,a)=>{const u=Af((g,m)=>{const y=new Re,w=new Re,C=new Re;function T(N=m().camera,_=w,X=m().size){const{width:Q,height:R,top:M,left:V}=X,D=Q/R;_.isVector3?C.copy(_):C.set(..._);const j=N.getWorldPosition(y).distanceTo(C);if($f(N))return{width:Q/N.zoom,height:R/N.zoom,top:M,left:V,factor:1,distance:j,aspect:D};{const Z=N.fov*Math.PI/180,le=2*Math.tan(Z/2)*j,de=le*(Q/R);return{width:de,height:le,top:M,left:V,factor:Q/de,distance:j,aspect:D}}}let P;const L=N=>g(_=>({performance:{..._.performance,current:N}})),H=new dt;return{set:g,get:m,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(N=1)=>o(m(),N),advance:(N,_)=>a(N,_,m()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Hh,pointer:H,mouse:H,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const N=m();P&&clearTimeout(P),N.performance.current!==N.performance.min&&L(N.performance.min),P=setTimeout(()=>L(m().performance.max),N.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:T},setEvents:N=>g(_=>({..._,events:{..._.events,...N}})),setSize:(N,_,X=0,Q=0)=>{const R=m().camera,M={width:N,height:_,top:X,left:Q};g(V=>({size:M,viewport:{...V.viewport,...T(R,w,M)}}))},setDpr:N=>g(_=>{const X=Vf(N);return{viewport:{..._.viewport,dpr:X,initialDpr:_.viewport.initialDpr||X}}}),setFrameloop:(N="always")=>{const _=m().clock;_.stop(),_.elapsedTime=0,N!=="never"&&(_.start(),_.elapsedTime=0),g(()=>({frameloop:N}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:k.createRef(),active:!1,frames:0,priority:0,subscribe:(N,_,X)=>{const Q=m().internal;return Q.priority=Q.priority+(_>0?1:0),Q.subscribers.push({ref:N,priority:_,store:X}),Q.subscribers=Q.subscribers.sort((R,M)=>R.priority-M.priority),()=>{const R=m().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(_>0?1:0),R.subscribers=R.subscribers.filter(M=>M.ref!==N))}}}}}),s=u.getState();let c=s.size,h=s.viewport.dpr,S=s.camera;return u.subscribe(()=>{const{camera:g,size:m,viewport:y,gl:w,set:C}=u.getState();if(m.width!==c.width||m.height!==c.height||y.dpr!==h){c=m,h=y.dpr,qf(g,m),y.dpr>0&&w.setPixelRatio(y.dpr);const T=typeof HTMLCanvasElement<"u"&&w.domElement instanceof HTMLCanvasElement;w.setSize(m.width,m.height,T)}g!==S&&(S=g,C(T=>({viewport:{...T.viewport,...T.viewport.getCurrentViewport(g)}})))}),u.subscribe(g=>o(g)),u};function _s(){const o=k.useContext(xs);if(!o)throw new Error("R3F: Hooks can only be used within the Canvas component!");return o}function tn(o=u=>u,a){return _s()(o,a)}function Za(o,a=0){const u=_s(),s=u.getState().internal.subscribe,c=Es(o);return xi(()=>s(c,a,u),[a,s,u]),null}const bf=new WeakMap,$m=o=>{var a;return typeof o=="function"&&(o==null||(a=o.prototype)==null?void 0:a.constructor)===o};function Yf(o,a){return function(u,...s){let c;return $m(u)?(c=bf.get(u),c||(c=new u,bf.set(u,c))):c=u,o&&o(c),Promise.all(s.map(h=>new Promise((S,g)=>c.load(h,m=>{$n(m?.scene)&&Object.assign(m,Fm(m.scene)),S(m)},a,m=>g(new Error(`Could not load ${h}: ${m?.message}`))))))}}function ja(o,a,u,s){const c=Array.isArray(a)?a:[a],h=wm(Yf(u,s),[o,...c],{equal:ln.equ});return Array.isArray(a)?h:h[0]}ja.preload=function(o,a,u){const s=Array.isArray(a)?a:[a];return Em(Yf(u),[o,...s])};ja.clear=function(o,a){const u=Array.isArray(a)?a:[a];return xm([o,...u])};const Vm=1,Wm=8,qm=32,Gm=2;var Ym={version:"9.5.0"};function Xm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var yf={exports:{}},Sf={exports:{}},wf;function Qm(){return wf||(wf=1,(function(o){o.exports=function(a){function u(e,n,t,r){return new Ld(e,n,t,r)}function s(){}function c(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function S(e){if(h(e)!==e)throw Error(c(188))}function g(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(c(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===t)return S(i),e;if(l===r)return S(i),n;l=l.sibling}throw Error(c(188))}if(t.return!==r.return)t=i,r=l;else{for(var d=!1,v=i.child;v;){if(v===t){d=!0,t=i,r=l;break}if(v===r){d=!0,r=i,t=l;break}v=v.sibling}if(!d){for(v=l.child;v;){if(v===t){d=!0,t=l,r=i;break}if(v===r){d=!0,r=l,t=i;break}v=v.sibling}if(!d)throw Error(c(189))}}if(t.alternate!==r)throw Error(c(190))}if(t.tag!==3)throw Error(c(188));return t.stateNode.current===t?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(e.tag!==4&&(n=y(e),n!==null))return n;e=e.sibling}return null}function w(e){return e===null||typeof e!="object"?null:(e=Tc&&e[Tc]||e["@@iterator"],typeof e=="function"?e:null)}function C(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$d?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ua:return"Fragment";case vl:return"Profiler";case kc:return"StrictMode";case yl:return"Suspense";case Sl:return"SuspenseList";case El:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case sa:return"Portal";case vr:return e.displayName||"Context";case Cc:return(e._context.displayName||"Context")+".Consumer";case bl:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wl:return n=e.displayName||null,n!==null?n:C(e.type)||"Memo";case br:n=e._payload,e=e._init;try{return C(e(n))}catch{}}return null}function T(e){return{current:e}}function P(e){0>da||(e.current=Tl[da],Tl[da]=null,da--)}function L(e,n){da++,Tl[da]=e.current,e.current=n}function H(e){return e>>>=0,e===0?32:31-(bh(e)/yh|0)|0}function B(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function N(e,n,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~l,r!==0?i=B(r):(d&=v,d!==0?i=B(d):t||(t=v&~e,t!==0&&(i=B(t))))):(v=r&~l,v!==0?i=B(v):d!==0?i=B(d):t||(t=r&~e,t!==0&&(i=B(t)))),i===0?0:n!==0&&n!==i&&(n&l)===0&&(l=i&-i,t=n&-n,l>=t||l===32&&(t&4194048)!==0)?n:i}function _(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function X(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q(){var e=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),e}function R(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function M(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function V(e,n,t,r,i,l){var d=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var v=e.entanglements,O=e.expirationTimes,$=e.hiddenUpdates;for(t=d&~t;0<t;){var oe=31-ot(t),K=1<<oe;v[oe]=0,O[oe]=-1;var se=$[oe];if(se!==null)for($[oe]=null,oe=0;oe<se.length;oe++){var ke=se[oe];ke!==null&&(ke.lane&=-536870913)}t&=~K}r!==0&&D(e,r,0),l!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=l&~(d&~n))}function D(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-ot(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|t&261930}function j(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-ot(t),i=1<<r;i&n|e[r]&n&&(e[r]|=n),t&=~i}}function Z(e,n){var t=n&-n;return t=(t&42)!==0?1:le(t),(t&(e.suspendedLanes|n))!==0?0:t}function le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function de(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function G(e){if(typeof _h=="function"&&Mh(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(ri,e)}catch{}}function ne(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}function pe(e){if(Nl===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);Nl=n&&n[1]||"",ef=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nl+e+ef}function he(e,n){if(!e||Rl)return"";Rl=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(ke){var se=ke}Reflect.construct(e,[],K)}else{try{K.call()}catch(ke){se=ke}e.call(K.prototype)}}else{try{throw Error()}catch(ke){se=ke}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(ke){if(ke&&se&&typeof ke.stack=="string")return[ke.stack,se.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=r.DetermineComponentFrameRoot(),d=l[0],v=l[1];if(d&&v){var O=d.split(`
`),$=v.split(`
`);for(i=r=0;r<O.length&&!O[r].includes("DetermineComponentFrameRoot");)r++;for(;i<$.length&&!$[i].includes("DetermineComponentFrameRoot");)i++;if(r===O.length||i===$.length)for(r=O.length-1,i=$.length-1;1<=r&&0<=i&&O[r]!==$[i];)i--;for(;1<=r&&0<=i;r--,i--)if(O[r]!==$[i]){if(r!==1||i!==1)do if(r--,i--,0>i||O[r]!==$[i]){var oe=`
`+O[r].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=r&&0<=i);break}}}finally{Rl=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?pe(t):""}function Qe(e,n){switch(e.tag){case 26:case 27:case 5:return pe(e.type);case 16:return pe("Lazy");case 13:return e.child!==n&&n!==null?pe("Suspense Fallback"):pe("Suspense");case 19:return pe("SuspenseList");case 0:case 15:return he(e.type,!1);case 11:return he(e.type.render,!1);case 1:return he(e.type,!0);case 31:return pe("Activity");default:return""}}function qe(e){try{var n="",t=null;do n+=Qe(e,t),t=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ze(e,n){if(typeof e=="object"&&e!==null){var t=nf.get(e);return t!==void 0?t:(n={value:e,source:n,stack:qe(n)},nf.set(e,n),n)}return{value:e,source:n,stack:qe(n)}}function Se(e,n){ha[ma++]=ai,ha[ma++]=qi,qi=e,ai=n}function ye(e,n,t){gt[vt++]=Vt,gt[vt++]=Wt,gt[vt++]=yr,yr=e;var r=Vt;e=Wt;var i=32-ot(r)-1;r&=~(1<<i),t+=1;var l=32-ot(n)+i;if(30<l){var d=i-i%5;l=(r&(1<<d)-1).toString(32),r>>=d,i-=d,Vt=1<<32-ot(n)+i|t<<i|r,Wt=l+e}else Vt=1<<l|t<<i|r,Wt=e}function me(e){e.return!==null&&(Se(e,1),ye(e,1,0))}function Fe(e){for(;e===qi;)qi=ha[--ma],ha[ma]=null,ai=ha[--ma],ha[ma]=null;for(;e===yr;)yr=gt[--vt],gt[vt]=null,Wt=gt[--vt],gt[vt]=null,Vt=gt[--vt],gt[vt]=null}function He(e,n){gt[vt++]=Vt,gt[vt++]=Wt,gt[vt++]=yr,Vt=n.id,Wt=n.overflow,yr=e}function Fn(e,n){L(Sr,n),L(ii,e),L(Nn,null),e=qd(n),P(Nn),L(Nn,e)}function Ne(){P(Nn),P(ii),P(Sr)}function jn(e){e.memoizedState!==null&&L(Gi,e);var n=Nn.current,t=Gd(n,e.type);n!==t&&(L(ii,e),L(Nn,t))}function On(e){ii.current===e&&(P(Nn),P(ii)),Gi.current===e&&(P(Gi),ar?Br._currentValue=ca:Br._currentValue2=ca)}function Jn(e){var n=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ot(ze(n,e)),Pl}function Jr(e,n){if(!Ln)throw Error(c(175));Gp(e.stateNode,e.type,e.memoizedProps,n,e)||Jn(e,!0)}function Nr(e){for(Rn=e.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:bt=!1;return;case 27:case 3:bt=!0;return;default:Rn=Rn.return}}function _t(e){if(!Ln||e!==Rn)return!1;if(!Be)return Nr(e),Be=!0,!1;var n=e.tag;if(xn?n!==3&&n!==27&&(n!==5||Bc(e.type)&&!Hi(e.type,e.memoizedProps))&&un&&Jn(e):n!==3&&(n!==5||Bc(e.type)&&!Hi(e.type,e.memoizedProps))&&un&&Jn(e),Nr(e),n===13){if(!Ln)throw Error(c(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));un=Jp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));un=Kp(e)}else un=xn&&n===27?Up(e.type,un):Rn?jc(e.stateNode):null;return!0}function et(){Ln&&(un=Rn=null,Be=!1)}function Yt(){var e=wr;return e!==null&&(Qn===null?Qn=e:Qn.push.apply(Qn,e),wr=null),e}function Ot(e){wr===null?wr=[e]:wr.push(e)}function pt(e,n,t){ar?(L(Yi,n._currentValue),n._currentValue=t):(L(Yi,n._currentValue2),n._currentValue2=t)}function Vn(e){var n=Yi.current;ar?e._currentValue=n:e._currentValue2=n,P(Yi)}function fr(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function dr(e,n,t,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){var d=i.child;l=l.firstContext;e:for(;l!==null;){var v=l;l=i;for(var O=0;O<n.length;O++)if(v.context===n[O]){l.lanes|=t,v=l.alternate,v!==null&&(v.lanes|=t),fr(l.return,t,e),r||(d=null);break e}l=v.next}}else if(i.tag===18){if(d=i.return,d===null)throw Error(c(341));d.lanes|=t,l=d.alternate,l!==null&&(l.lanes|=t),fr(d,t,e),d=null}else d=i.child;if(d!==null)d.return=i;else for(d=i;d!==null;){if(d===e){d=null;break}if(i=d.sibling,i!==null){i.return=d.return,d=i;break}d=d.return}i=d}}function Dt(e,n,t,r){e=null;for(var i=n,l=!1;i!==null;){if(!l){if((i.flags&524288)!==0)l=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var d=i.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var v=i.type;st(i.pendingProps.value,d.value)||(e!==null?e.push(v):e=[v])}}else if(i===Gi.current){if(d=i.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Br):e=[Br])}i=i.return}e!==null&&dr(n,e,t,r),n.flags|=262144}function pr(e){for(e=e.firstContext;e!==null;){var n=e.context;if(!st(ar?n._currentValue:n._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function ht(e){Hr=e,or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function on(e){return hr(Hr,e)}function mt(e,n){return Hr===null&&ht(e),hr(e,n)}function hr(e,n){var t=ar?n._currentValue:n._currentValue2;if(n={context:n,memoizedValue:t,next:null},or===null){if(e===null)throw Error(c(308));or=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else or=or.next=n;return t}function Rr(){return{controller:new Ch,data:new Map,refCount:0}}function At(e){e.refCount--,e.refCount===0&&Th(Ih,function(){e.controller.abort()})}function Mt(){}function Tn(e){e!==ga&&e.next===null&&(ga===null?Xi=ga=e:ga=ga.next=e),Qi=!0,Fl||(Fl=!0,E())}function Ut(e,n){if(!Ol&&Qi){Ol=!0;do for(var t=!1,r=Xi;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var l=0;else{var d=r.suspendedLanes,v=r.pingedLanes;l=(1<<31-ot(42|e)+1)-1,l&=i&~(d&~v),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(t=!0,Xt(r,l))}else l=Le,l=N(r,r===nn?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==jr),(l&3)===0||_(r,l)||(t=!0,Xt(r,l));r=r.next}while(t);Ol=!1}}function Pr(){ea()}function ea(){Qi=Fl=!1;var e=0;Zr!==0&&rp()&&(e=Zr);for(var n=Yn(),t=null,r=Xi;r!==null;){var i=r.next,l=Lt(r,n);l===0?(r.next=null,t===null?Xi=i:t.next=i,i===null&&(ga=t)):(t=r,(e!==0||(l&3)!==0)&&(Qi=!0)),r=i}_n!==0&&_n!==5||Ut(e),Zr!==0&&(Zr=0)}function Lt(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var d=31-ot(l),v=1<<d,O=i[d];O===-1?((v&t)===0||(v&r)!==0)&&(i[d]=X(v,n)):O<=n&&(e.expiredLanes|=v),l&=~v}if(n=nn,t=Le,t=N(e,e===n?t:0,e.cancelPendingCommit!==null||e.timeoutHandle!==jr),r=e.callbackNode,t===0||e===n&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Il(r),e.callbackNode=null,e.callbackPriority=0;if((t&3)===0||_(e,t)){if(n=t&-t,n===e.callbackPriority)return n;switch(r!==null&&Il(r),de(t)){case 2:case 8:t=Eh;break;case 32:t=zl;break;case 268435456:t=xh;break;default:t=zl}return r=hn.bind(null,e),t=Wi(t,r),e.callbackPriority=n,e.callbackNode=t,n}return r!==null&&r!==null&&Il(r),e.callbackPriority=2,e.callbackNode=null,2}function hn(e,n){if(_n!==0&&_n!==5)return e.callbackNode=null,e.callbackPriority=0,null;var t=e.callbackNode;if(Ja()&&e.callbackNode!==t)return null;var r=Le;return r=N(e,e===nn?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==jr),r===0?null:(nc(e,r,n),Lt(e,Yn()),e.callbackNode!=null&&e.callbackNode===t?hn.bind(null,e):null)}function Xt(e,n){if(Ja())return null;nc(e,n,!0)}function E(){cp?fp(function(){(De&6)!==0?Wi(Kc,Pr):ea()}):Wi(Kc,Pr)}function q(){if(Zr===0){var e=va;e===0&&(e=Zi,Zi<<=1,(Zi&261888)===0&&(Zi=256)),Zr=e}return Zr}function ue(e,n){if(oi===null){var t=oi=[];Dl=0,va=q(),ba={status:"pending",value:void 0,then:function(r){t.push(r)}}}return Dl++,n.then(Ue,Ue),n}function Ue(){if(--Dl===0&&oi!==null){ba!==null&&(ba.status="fulfilled");var e=oi;oi=null,va=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ee(e,n){var t=[],r={status:"pending",value:null,reason:null,then:function(i){t.push(i)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var i=0;i<t.length;i++)(0,t[i])(n)},function(i){for(r.status="rejected",r.reason=i,i=0;i<t.length;i++)(0,t[i])(void 0)}),r}function wn(){var e=$r.current;return e!==null?e:nn.pooledCache}function Bn(e,n){n===null?L($r,$r.current):L($r,n.pool)}function $a(){var e=wn();return e===null?null:{parent:ar?cn._currentValue:cn._currentValue2,pool:e}}function Qt(e,n){if(st(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!kh.call(n,i)||!st(e[i],n[i]))return!1}return!0}function Wn(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qn(e,n,t){switch(t=e[t],t===void 0?e.push(n):t!==n&&(n.then(Mt,Mt),n=t),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bt(e),e;default:if(typeof n.status=="string")n.then(Mt,Mt);else{if(e=nn,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var i=n;i.status="fulfilled",i.value=r}},function(r){if(n.status==="pending"){var i=n;i.status="rejected",i.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bt(e),e}throw Vr=n,ya}}function Hn(e){try{var n=e._init;return n(e._payload)}catch(t){throw t!==null&&typeof t=="object"&&typeof t.then=="function"?(Vr=t,ya):t}}function jt(){if(Vr===null)throw Error(c(459));var e=Vr;return Vr=null,e}function Bt(e){if(e===ya||e===Ki)throw Error(c(483))}function kt(e){var n=li;return li+=1,Sa===null&&(Sa=[]),qn(Sa,e,n)}function Fr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function na(e,n){throw n.$$typeof===Hd?Error(c(525)):(e=Object.prototype.toString.call(n),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Or(e){function n(z,x){if(e){var F=z.deletions;F===null?(z.deletions=[x],z.flags|=16):F.push(x)}}function t(z,x){if(!e)return null;for(;x!==null;)n(z,x),x=x.sibling;return null}function r(z){for(var x=new Map;z!==null;)z.key!==null?x.set(z.key,z):x.set(z.index,z),z=z.sibling;return x}function i(z,x){return z=rr(z,x),z.index=0,z.sibling=null,z}function l(z,x,F){return z.index=F,e?(F=z.alternate,F!==null?(F=F.index,F<x?(z.flags|=67108866,x):F):(z.flags|=67108866,x)):(z.flags|=1048576,x)}function d(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function v(z,x,F,J){return x===null||x.tag!==6?(x=pl(F,z.mode,J),x.return=z,x):(x=i(x,F),x.return=z,x)}function O(z,x,F,J){var be=F.type;return be===ua?oe(z,x,F.props.children,J,F.key):x!==null&&(x.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===br&&Hn(be)===x.type)?(x=i(x,F.props),Fr(x,F),x.return=z,x):(x=Li(F.type,F.key,F.props,null,z.mode,J),Fr(x,F),x.return=z,x)}function $(z,x,F,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==F.containerInfo||x.stateNode.implementation!==F.implementation?(x=hl(F,z.mode,J),x.return=z,x):(x=i(x,F.children||[]),x.return=z,x)}function oe(z,x,F,J,be){return x===null||x.tag!==7?(x=Lr(F,z.mode,J,be),x.return=z,x):(x=i(x,F),x.return=z,x)}function K(z,x,F){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=pl(""+x,z.mode,F),x.return=z,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ji:return F=Li(x.type,x.key,x.props,null,z.mode,F),Fr(F,x),F.return=z,F;case sa:return x=hl(x,z.mode,F),x.return=z,x;case br:return x=Hn(x),K(z,x,F)}if(Bi(x)||w(x))return x=Lr(x,z.mode,F,null),x.return=z,x;if(typeof x.then=="function")return K(z,kt(x),F);if(x.$$typeof===vr)return K(z,mt(z,x),F);na(z,x)}return null}function se(z,x,F,J){var be=x!==null?x.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return be!==null?null:v(z,x,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ji:return F.key===be?O(z,x,F,J):null;case sa:return F.key===be?$(z,x,F,J):null;case br:return F=Hn(F),se(z,x,F,J)}if(Bi(F)||w(F))return be!==null?null:oe(z,x,F,J,null);if(typeof F.then=="function")return se(z,x,kt(F),J);if(F.$$typeof===vr)return se(z,x,mt(z,F),J);na(z,F)}return null}function ke(z,x,F,J,be){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(F)||null,v(x,z,""+J,be);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case ji:return z=z.get(J.key===null?F:J.key)||null,O(x,z,J,be);case sa:return z=z.get(J.key===null?F:J.key)||null,$(x,z,J,be);case br:return J=Hn(J),ke(z,x,F,J,be)}if(Bi(J)||w(J))return z=z.get(F)||null,oe(x,z,J,be,null);if(typeof J.then=="function")return ke(z,x,F,kt(J),be);if(J.$$typeof===vr)return ke(z,x,F,mt(x,J),be);na(x,J)}return null}function Sn(z,x,F,J){for(var be=null,fn=null,we=x,$e=x=0,Cn=null;we!==null&&$e<F.length;$e++){we.index>$e?(Cn=we,we=null):Cn=we.sibling;var Ve=se(z,we,F[$e],J);if(Ve===null){we===null&&(we=Cn);break}e&&we&&Ve.alternate===null&&n(z,we),x=l(Ve,x,$e),fn===null?be=Ve:fn.sibling=Ve,fn=Ve,we=Cn}if($e===F.length)return t(z,we),Be&&Se(z,$e),be;if(we===null){for(;$e<F.length;$e++)we=K(z,F[$e],J),we!==null&&(x=l(we,x,$e),fn===null?be=we:fn.sibling=we,fn=we);return Be&&Se(z,$e),be}for(we=r(we);$e<F.length;$e++)Cn=ke(we,z,$e,F[$e],J),Cn!==null&&(e&&Cn.alternate!==null&&we.delete(Cn.key===null?$e:Cn.key),x=l(Cn,x,$e),fn===null?be=Cn:fn.sibling=Cn,fn=Cn);return e&&we.forEach(function(Cr){return n(z,Cr)}),Be&&Se(z,$e),be}function hi(z,x,F,J){if(F==null)throw Error(c(151));for(var be=null,fn=null,we=x,$e=x=0,Cn=null,Ve=F.next();we!==null&&!Ve.done;$e++,Ve=F.next()){we.index>$e?(Cn=we,we=null):Cn=we.sibling;var Cr=se(z,we,Ve.value,J);if(Cr===null){we===null&&(we=Cn);break}e&&we&&Cr.alternate===null&&n(z,we),x=l(Cr,x,$e),fn===null?be=Cr:fn.sibling=Cr,fn=Cr,we=Cn}if(Ve.done)return t(z,we),Be&&Se(z,$e),be;if(we===null){for(;!Ve.done;$e++,Ve=F.next())Ve=K(z,Ve.value,J),Ve!==null&&(x=l(Ve,x,$e),fn===null?be=Ve:fn.sibling=Ve,fn=Ve);return Be&&Se(z,$e),be}for(we=r(we);!Ve.done;$e++,Ve=F.next())Ve=ke(we,z,$e,Ve.value,J),Ve!==null&&(e&&Ve.alternate!==null&&we.delete(Ve.key===null?$e:Ve.key),x=l(Ve,x,$e),fn===null?be=Ve:fn.sibling=Ve,fn=Ve);return e&&we.forEach(function(Ph){return n(z,Ph)}),Be&&Se(z,$e),be}function Yr(z,x,F,J){if(typeof F=="object"&&F!==null&&F.type===ua&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case ji:e:{for(var be=F.key;x!==null;){if(x.key===be){if(be=F.type,be===ua){if(x.tag===7){t(z,x.sibling),J=i(x,F.props.children),J.return=z,z=J;break e}}else if(x.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===br&&Hn(be)===x.type){t(z,x.sibling),J=i(x,F.props),Fr(J,F),J.return=z,z=J;break e}t(z,x);break}else n(z,x);x=x.sibling}F.type===ua?(J=Lr(F.props.children,z.mode,J,F.key),J.return=z,z=J):(J=Li(F.type,F.key,F.props,null,z.mode,J),Fr(J,F),J.return=z,z=J)}return d(z);case sa:e:{for(be=F.key;x!==null;){if(x.key===be)if(x.tag===4&&x.stateNode.containerInfo===F.containerInfo&&x.stateNode.implementation===F.implementation){t(z,x.sibling),J=i(x,F.children||[]),J.return=z,z=J;break e}else{t(z,x);break}else n(z,x);x=x.sibling}J=hl(F,z.mode,J),J.return=z,z=J}return d(z);case br:return F=Hn(F),Yr(z,x,F,J)}if(Bi(F))return Sn(z,x,F,J);if(w(F)){if(be=w(F),typeof be!="function")throw Error(c(150));return F=be.call(F),hi(z,x,F,J)}if(typeof F.then=="function")return Yr(z,x,kt(F),J);if(F.$$typeof===vr)return Yr(z,x,mt(z,F),J);na(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,x!==null&&x.tag===6?(t(z,x.sibling),J=i(x,F),J.return=z,z=J):(t(z,x),J=pl(F,z.mode,J),J.return=z,z=J),d(z)):t(z,x)}return function(z,x,F,J){try{li=0;var be=Yr(z,x,F,J);return Sa=null,be}catch(we){if(we===ya||we===Ki)throw we;var fn=u(29,we,null,z.mode);return fn.lanes=J,fn.return=z,fn}}}function ta(){for(var e=wa,n=Ul=wa=0;n<e;){var t=yt[n];yt[n++]=null;var r=yt[n];yt[n++]=null;var i=yt[n];yt[n++]=null;var l=yt[n];if(yt[n++]=null,r!==null&&i!==null){var d=r.pending;d===null?i.next=i:(i.next=d.next,d.next=i),r.pending=i}l!==0&&Va(t,i,l)}}function Ht(e,n,t,r){yt[wa++]=e,yt[wa++]=n,yt[wa++]=t,yt[wa++]=r,Ul|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Kt(e,n,t,r){return Ht(e,n,t,r),ra(e)}function _e(e,n){return Ht(e,null,null,n),ra(e)}function Va(e,n,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t);for(var i=!1,l=e.return;l!==null;)l.childLanes|=t,r=l.alternate,r!==null&&(r.childLanes|=t),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(i=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,i&&n!==null&&(i=31-ot(t),e=l.hiddenUpdates,r=e[i],r===null?e[i]=[n]:r.push(n),n.lane=t|536870912),l):null}function ra(e){if(50<pi)throw pi=0,Xl=null,Error(c(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}function f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function p(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function b(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function I(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(De&2)!==0){var i=r.pending;return i===null?n.next=n:(n.next=i.next,i.next=n),r.pending=n,n=ra(e),Va(e,null,t),n}return Ht(e,r,n,t),ra(e)}function A(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,j(e,t)}}function U(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,l=null;if(t=t.firstBaseUpdate,t!==null){do{var d={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};l===null?i=l=d:l=l.next=d,t=t.next}while(t!==null);l===null?i=l=n:l=l.next=n}else i=l=n;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,callbacks:r.callbacks},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Y(){if(Ll){var e=ba;if(e!==null)throw e}}function W(e,n,t,r){Ll=!1;var i=e.updateQueue;Er=!1;var l=i.firstBaseUpdate,d=i.lastBaseUpdate,v=i.shared.pending;if(v!==null){i.shared.pending=null;var O=v,$=O.next;O.next=null,d===null?l=$:d.next=$,d=O;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,v=oe.lastBaseUpdate,v!==d&&(v===null?oe.firstBaseUpdate=$:v.next=$,oe.lastBaseUpdate=O))}if(l!==null){var K=i.baseState;d=0,oe=$=O=null,v=l;do{var se=v.lane&-536870913,ke=se!==v.lane;if(ke?(Le&se)===se:(r&se)===se){se!==0&&se===va&&(Ll=!0),oe!==null&&(oe=oe.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Sn=e,hi=v;se=n;var Yr=t;switch(hi.tag){case 1:if(Sn=hi.payload,typeof Sn=="function"){K=Sn.call(Yr,K,se);break e}K=Sn;break e;case 3:Sn.flags=Sn.flags&-65537|128;case 0:if(Sn=hi.payload,se=typeof Sn=="function"?Sn.call(Yr,K,se):Sn,se==null)break e;K=gl({},K,se);break e;case 2:Er=!0}}se=v.callback,se!==null&&(e.flags|=64,ke&&(e.flags|=8192),ke=i.callbacks,ke===null?i.callbacks=[se]:ke.push(se))}else ke={lane:se,tag:v.tag,payload:v.payload,callback:v.callback,next:null},oe===null?($=oe=ke,O=K):oe=oe.next=ke,d|=se;if(v=v.next,v===null){if(v=i.shared.pending,v===null)break;ke=v,v=ke.next,ke.next=null,i.lastBaseUpdate=ke,i.shared.pending=null}}while(!0);oe===null&&(O=K),i.baseState=O,i.firstBaseUpdate=$,i.lastBaseUpdate=oe,l===null&&(i.shared.lanes=0),_r|=d,e.lanes=d,e.memoizedState=K}}function ae(e,n){if(typeof e!="function")throw Error(c(191,e));e.call(n)}function re(e,n){var t=e.callbacks;if(t!==null)for(e.callbacks=null,e=0;e<t.length;e++)ae(t[e],n)}function ie(e,n){e=ur,L(eo,e),L(Ea,n),ur=e|n.baseLanes}function te(){L(eo,ur),L(Ea,Ea.current)}function en(){ur=eo.current,P(Ea),P(eo)}function ce(e){var n=e.alternate;L(pn,pn.current&1),L(ut,e),Rt===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Rt=e)}function fe(e){L(pn,pn.current),L(ut,e),Rt===null&&(Rt=e)}function xe(e){e.tag===22?(L(pn,pn.current),L(ut,e),Rt===null&&(Rt=e)):Ee()}function Ee(){L(pn,pn.current),L(ut,ut.current)}function Ie(e){P(ut),Rt===e&&(Rt=null),P(pn)}function We(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||Ml(t)||kl(t)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ce(){throw Error(c(321))}function En(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!st(e[t],n[t]))return!1;return!0}function Ge(e,n,t,r,i,l){return lr=l,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ve.H=e===null||e.memoizedState===null?af:jl,qr=!1,l=t(r,i),qr=!1,xa&&(l=Ke(n,t,r,i)),nt(e),l}function nt(e){ve.H=ui;var n=Je!==null&&Je.next!==null;if(lr=0,gn=Je=Te=null,no=!1,si=0,_a=null,n)throw Error(c(300));e===null||vn||(e=e.dependencies,e!==null&&pr(e)&&(vn=!0))}function Ke(e,n,t,r){Te=e;var i=0;do{if(xa&&(_a=null),si=0,xa=!1,25<=i)throw Error(c(301));if(i+=1,gn=Je=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}ve.H=of,l=n(t,r)}while(xa);return l}function mn(){var e=ve.H,n=e.useState()[0];return n=typeof n.then=="function"?je(n):n,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(Te.flags|=1024),n}function tt(){var e=to!==0;return to=0,e}function Jt(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function Dn(e){if(no){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}no=!1}lr=0,gn=Je=Te=null,xa=!1,si=to=0,_a=null}function Me(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Te.memoizedState=gn=e:gn=gn.next=e,gn}function Pe(){if(Je===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var n=gn===null?Te.memoizedState:gn.next;if(n!==null)gn=n,Je=e;else{if(e===null)throw Te.alternate===null?Error(c(467)):Error(c(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},gn===null?Te.memoizedState=gn=e:gn=gn.next=e}return gn}function Ye(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function je(e){var n=si;return si+=1,_a===null&&(_a=[]),e=qn(_a,e,n),n=Te,(gn===null?n.memoizedState:gn.next)===null&&(n=n.alternate,ve.H=n===null||n.memoizedState===null?af:jl),e}function In(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return je(e);if(e.$$typeof===vr)return on(e)}throw Error(c(438,String(e)))}function Ct(e){var n=null,t=Te.updateQueue;if(t!==null&&(n=t.memoCache),n==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(i){return i.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),t===null&&(t=Ye(),Te.updateQueue=t),t.memoCache=n,t=n.data[n.index],t===void 0)for(t=n.data[n.index]=Array(e),r=0;r<e;r++)t[r]=Zd;return n.index++,t}function sn(e,n){return typeof n=="function"?n(e):n}function rt(e){var n=Pe();return Ro(n,Je,e)}function Ro(e,n,t){var r=e.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=t;var i=e.baseQueue,l=r.pending;if(l!==null){if(i!==null){var d=i.next;i.next=l.next,l.next=d}n.baseQueue=i=l,r.pending=null}if(l=e.baseState,i===null)e.memoizedState=l;else{n=i.next;var v=d=null,O=null,$=n,oe=!1;do{var K=$.lane&-536870913;if(K!==$.lane?(Le&K)===K:(lr&K)===K){var se=$.revertLane;if(se===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),K===va&&(oe=!0);else if((lr&se)===se){$=$.next,se===va&&(oe=!0);continue}else K={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(v=O=K,d=l):O=O.next=K,Te.lanes|=se,_r|=se;K=$.action,qr&&t(l,K),l=$.hasEagerState?$.eagerState:t(l,K)}else se={lane:K,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(v=O=se,d=l):O=O.next=se,Te.lanes|=K,_r|=K;$=$.next}while($!==null&&$!==n);if(O===null?d=l:O.next=v,!st(l,e.memoizedState)&&(vn=!0,oe&&(t=ba,t!==null)))throw t;e.memoizedState=l,e.baseState=d,e.baseQueue=O,r.lastRenderedState=l}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Po(e){var n=Pe(),t=n.queue;if(t===null)throw Error(c(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,l=n.memoizedState;if(i!==null){t.pending=null;var d=i=i.next;do l=e(l,d.action),d=d.next;while(d!==i);st(l,n.memoizedState)||(vn=!0),n.memoizedState=l,n.baseQueue===null&&(n.baseState=l),t.lastRenderedState=l}return[l,r]}function Fs(e,n,t){var r=Te,i=Pe(),l=Be;if(l){if(t===void 0)throw Error(c(407));t=t()}else t=n();var d=!st((Je||i).memoizedState,t);if(d&&(i.memoizedState=t,vn=!0),i=i.queue,Do(As.bind(null,r,i,e),[e]),i.getSnapshot!==n||d||gn!==null&&gn.memoizedState.tag&1){if(r.flags|=2048,aa(9,{destroy:void 0},Ds.bind(null,r,i,t,n),null),nn===null)throw Error(c(349));l||(lr&127)!==0||Os(r,n,t)}return t}function Os(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=Te.updateQueue,n===null?(n=Ye(),Te.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function Ds(e,n,t,r){n.value=t,n.getSnapshot=r,Us(n)&&Ls(e)}function As(e,n,t){return t(function(){Us(n)&&Ls(e)})}function Us(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!st(e,t)}catch{return!0}}function Ls(e){var n=_e(e,2);n!==null&&Gn(n,e,2)}function Fo(e){var n=Me();if(typeof e=="function"){var t=e;if(e=t(),qr){G(!0);try{t()}finally{G(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:e},n}function js(e,n,t,r){return e.baseState=t,Ro(e,Je,typeof r=="function"?r:sn)}function yd(e,n,t,r,i){if(Ci(e))throw Error(c(485));if(e=n.action,e!==null){var l={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){l.listeners.push(d)}};ve.T!==null?t(!0):l.isTransition=!1,r(l),t=n.pending,t===null?(l.next=n.pending=l,Bs(n,l)):(l.next=t.next,n.pending=t.next=l)}}function Bs(e,n){var t=n.action,r=n.payload,i=e.state;if(n.isTransition){var l=ve.T,d={};ve.T=d;try{var v=t(i,r),O=ve.S;O!==null&&O(d,v),Hs(e,n,v)}catch($){Oo(e,n,$)}finally{l!==null&&d.types!==null&&(l.types=d.types),ve.T=l}}else try{l=t(i,r),Hs(e,n,l)}catch($){Oo(e,n,$)}}function Hs(e,n,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(r){Zs(e,n,r)},function(r){return Oo(e,n,r)}):Zs(e,n,t)}function Zs(e,n,t){n.status="fulfilled",n.value=t,$s(n),e.state=t,n=e.pending,n!==null&&(t=n.next,t===n?e.pending=null:(t=t.next,n.next=t,Bs(e,t)))}function Oo(e,n,t){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=t,$s(n),n=n.next;while(n!==r)}e.action=null}function $s(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Vs(e,n){return n}function Ws(e,n){if(Be){var t=nn.formState;if(t!==null){e:{var r=Te;if(Be){if(un){var i=Dp(un,bt);if(i){un=jc(i),r=Ap(i);break e}}Jn(r)}r=!1}r&&(n=t[0])}}t=Me(),t.memoizedState=t.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:n},t.queue=r,t=cu.bind(null,Te,r),r.dispatch=t,r=Fo(!1);var l=jo.bind(null,Te,!1,r.queue);return r=Me(),i={state:n,dispatch:null,action:e,pending:null},r.queue=i,t=yd.bind(null,Te,i,l,t),i.dispatch=t,r.memoizedState=e,[n,t,!1]}function qs(e){var n=Pe();return Gs(n,Je,e)}function Gs(e,n,t){if(n=Ro(e,n,Vs)[0],e=rt(sn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=je(n)}catch(d){throw d===ya?Ki:d}else r=n;n=Pe();var i=n.queue,l=i.dispatch;return t!==n.memoizedState&&(Te.flags|=2048,aa(9,{destroy:void 0},Sd.bind(null,i,t),null)),[r,l,e]}function Sd(e,n){e.action=n}function Ys(e){var n=Pe(),t=Je;if(t!==null)return Gs(n,t,e);Pe(),n=n.memoizedState,t=Pe();var r=t.queue.dispatch;return t.memoizedState=e,[n,r,!1]}function aa(e,n,t,r){return e={tag:e,create:t,deps:r,inst:n,next:null},n=Te.updateQueue,n===null&&(n=Ye(),Te.updateQueue=n),t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Xs(){return Pe().memoizedState}function Mi(e,n,t,r){var i=Me();Te.flags|=e,i.memoizedState=aa(1|n,{destroy:void 0},t,r===void 0?null:r)}function ki(e,n,t,r){var i=Pe();r=r===void 0?null:r;var l=i.memoizedState.inst;Je!==null&&r!==null&&En(r,Je.memoizedState.deps)?i.memoizedState=aa(n,l,t,r):(Te.flags|=e,i.memoizedState=aa(1|n,l,t,r))}function Qs(e,n){Mi(8390656,8,e,n)}function Do(e,n){ki(2048,8,e,n)}function wd(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=Ye(),Te.updateQueue=n,n.events=[e];else{var t=n.events;t===null?n.events=[e]:t.push(e)}}function Ks(e){var n=Pe().memoizedState;return wd({ref:n,nextImpl:e}),function(){if((De&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}function Js(e,n){return ki(4,2,e,n)}function eu(e,n){return ki(4,4,e,n)}function nu(e,n){if(typeof n=="function"){e=e();var t=n(e);return function(){typeof t=="function"?t():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tu(e,n,t){t=t!=null?t.concat([e]):null,ki(4,4,nu.bind(null,n,e),t)}function Ao(){}function ru(e,n){var t=Pe();n=n===void 0?null:n;var r=t.memoizedState;return n!==null&&En(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function au(e,n){var t=Pe();n=n===void 0?null:n;var r=t.memoizedState;if(n!==null&&En(n,r[1]))return r[0];if(r=e(),qr){G(!0);try{e()}finally{G(!1)}}return t.memoizedState=[r,n],r}function Uo(e,n,t){return t===void 0||(lr&1073741824)!==0&&(Le&261930)===0?e.memoizedState=n:(e.memoizedState=t,e=ec(),Te.lanes|=e,_r|=e,t)}function iu(e,n,t,r){return st(t,n)?t:Ea.current!==null?(e=Uo(e,t,r),st(e,n)||(vn=!0),e):(lr&42)===0||(lr&1073741824)!==0&&(Le&261930)===0?(vn=!0,e.memoizedState=t):(e=ec(),Te.lanes|=e,_r|=e,n)}function ou(e,n,t,r,i){var l=ir();Mn(l!==0&&8>l?l:8);var d=ve.T,v={};ve.T=v,jo(e,!1,n,t);try{var O=i(),$=ve.S;if($!==null&&$(v,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var oe=ee(O,r);Wa(e,n,oe,at(e))}else Wa(e,n,r,at(e))}catch(K){Wa(e,n,{then:function(){},status:"rejected",reason:K},at())}finally{Mn(l),d!==null&&v.types!==null&&(d.types=v.types),ve.T=d}}function lu(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ca,baseState:ca,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:ca},next:null};var t={};return n.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:t},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lo(){return on(Br)}function su(){return Pe().memoizedState}function uu(){return Pe().memoizedState}function Ed(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var t=at();e=b(t);var r=I(n,e,t);r!==null&&(Gn(r,n,t),A(r,n,t)),n={cache:Rr()},e.payload=n;return}n=n.return}}function xd(e,n,t){var r=at();t={lane:r,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null},Ci(e)?fu(n,t):(t=Kt(e,n,t,r),t!==null&&(Gn(t,e,r),du(t,n,r)))}function cu(e,n,t){var r=at();Wa(e,n,t,r)}function Wa(e,n,t,r){var i={lane:r,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null};if(Ci(e))fu(n,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=n.lastRenderedReducer,l!==null))try{var d=n.lastRenderedState,v=l(d,t);if(i.hasEagerState=!0,i.eagerState=v,st(v,d))return Ht(e,n,i,0),nn===null&&ta(),!1}catch{}if(t=Kt(e,n,i,r),t!==null)return Gn(t,e,r),du(t,n,r),!0}return!1}function jo(e,n,t,r){if(r={lane:2,revertLane:q(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ci(e)){if(n)throw Error(c(479))}else n=Kt(e,t,r,2),n!==null&&Gn(n,e,2)}function Ci(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function fu(e,n){xa=no=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function du(e,n,t){if((t&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,j(e,t)}}function Bo(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:gl({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}function pu(e,n,t,r,i,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,d):n.prototype&&n.prototype.isPureReactComponent?!Qt(t,r)||!Qt(i,l):!0}function hu(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Bl.enqueueReplaceState(n,n.state,null)}function Dr(e,n){var t=n;if("ref"in n){t={};for(var r in n)r!=="ref"&&(t[r]=n[r])}if(e=e.defaultProps){t===n&&(t=gl({},t));for(var i in e)t[i]===void 0&&(t[i]=e[i])}return t}function Ti(e,n){try{var t=e.onUncaughtError;t(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function mu(e,n,t){try{var r=e.onCaughtError;r(t.value,{componentStack:t.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ho(e,n,t){return t=b(t),t.tag=3,t.payload={element:null},t.callback=function(){Ti(e,n)},t}function gu(e){return e=b(e),e.tag=3,e}function vu(e,n,t,r){var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var l=r.value;e.payload=function(){return i(l)},e.callback=function(){mu(n,t,r)}}var d=t.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){mu(n,t,r),typeof i!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function _d(e,n,t,r,i){if(t.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=t.alternate,n!==null&&Dt(n,t,i,!0),t=ut.current,t!==null){switch(t.tag){case 31:case 13:return Rt===null?Ai():t.alternate===null&&dn===0&&(dn=3),t.flags&=-257,t.flags|=65536,t.lanes=i,r===Ji?t.flags|=16384:(n=t.updateQueue,n===null?t.updateQueue=new Set([r]):n.add(r),fl(e,r,i)),!1;case 22:return t.flags|=65536,r===Ji?t.flags|=16384:(n=t.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},t.updateQueue=n):(t=n.retryQueue,t===null?n.retryQueue=new Set([r]):t.add(r)),fl(e,r,i)),!1}throw Error(c(435,t.tag))}return fl(e,r,i),Ai(),!1}if(Be)return n=ut.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=i,r!==Pl&&(e=Error(c(422),{cause:r}),Ot(ze(e,t)))):(r!==Pl&&(n=Error(c(423),{cause:r}),Ot(ze(n,t))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=ze(r,t),i=Ho(e.stateNode,r,i),U(e,i),dn!==4&&(dn=2)),!1;var l=Error(c(520),{cause:r});if(l=ze(l,t),fi===null?fi=[l]:fi.push(l),dn!==4&&(dn=2),n===null)return!0;r=ze(r,t),t=n;do{switch(t.tag){case 3:return t.flags|=65536,e=i&-i,t.lanes|=e,e=Ho(t.stateNode,r,e),U(t,e),!1;case 1:if(n=t.type,l=t.stateNode,(t.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))))return t.flags|=65536,i&=-i,t.lanes|=i,i=gu(i),vu(i,e,t,r),U(t,i),!1}t=t.return}while(t!==null);return!1}function zn(e,n,t,r){n.child=e===null?rf(n,null,t,r):Wr(n,e.child,t,r)}function bu(e,n,t,r,i){t=t.render;var l=n.ref;if("ref"in r){var d={};for(var v in r)v!=="ref"&&(d[v]=r[v])}else d=r;return ht(n),r=Ge(e,n,t,d,l,i),v=tt(),e!==null&&!vn?(Jt(e,n,i),er(e,n,i)):(Be&&v&&me(n),n.flags|=1,zn(e,n,r,i),n.child)}function yu(e,n,t,r,i){if(e===null){var l=t.type;return typeof l=="function"&&!dl(l)&&l.defaultProps===void 0&&t.compare===null?(n.tag=15,n.type=l,Su(e,n,l,r,i)):(e=Li(t.type,null,r,n,n.mode,i),e.ref=n.ref,e.return=n,n.child=e)}if(l=e.child,!Yo(e,i)){var d=l.memoizedProps;if(t=t.compare,t=t!==null?t:Qt,t(d,r)&&e.ref===n.ref)return er(e,n,i)}return n.flags|=1,e=rr(l,r),e.ref=n.ref,e.return=n,n.child=e}function Su(e,n,t,r,i){if(e!==null){var l=e.memoizedProps;if(Qt(l,r)&&e.ref===n.ref)if(vn=!1,n.pendingProps=r=l,Yo(e,i))(e.flags&131072)!==0&&(vn=!0);else return n.lanes=e.lanes,er(e,n,i)}return Zo(e,n,t,r,i)}function wu(e,n,t,r){var i=r.children,l=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(l=l!==null?l.baseLanes|t:t,e!==null){for(r=n.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~l}else r=0,n.child=null;return Eu(e,n,l,t,r)}if((t&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bn(n,l!==null?l.cachePool:null),l!==null?ie(n,l):te(),xe(n);else return r=n.lanes=536870912,Eu(e,n,l!==null?l.baseLanes|t:t,t,r)}else l!==null?(Bn(n,l.cachePool),ie(n,l),Ee(),n.memoizedState=null):(e!==null&&Bn(n,null),te(),Ee());return zn(e,n,i,t),n.child}function qa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Eu(e,n,t,r,i){var l=wn();return l=l===null?null:{parent:ar?cn._currentValue:cn._currentValue2,pool:l},n.memoizedState={baseLanes:t,cachePool:l},e!==null&&Bn(n,null),te(),xe(n),e!==null&&Dt(e,n,r,!0),n.childLanes=i,null}function Ii(e,n){return n=Ni({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xu(e,n,t){return Wr(n,e.child,null,t),e=Ii(n,n.pendingProps),e.flags|=2,Ie(n),n.memoizedState=null,e}function Md(e,n,t){var r=n.pendingProps,i=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Be){if(r.mode==="hidden")return e=Ii(n,r),n.lanes=536870912,qa(null,e);if(fe(n),(e=un)?(e=Wp(e,bt),e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Vt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},t=Sc(e),t.return=n,n.child=t,Rn=n,un=null)):e=null,e===null)throw Jn(n);return n.lanes=536870912,null}return Ii(n,r)}var l=e.memoizedState;if(l!==null){var d=l.dehydrated;if(fe(n),i)if(n.flags&256)n.flags&=-257,n=xu(e,n,t);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(c(558));else if(vn||Dt(e,n,t,!1),i=(t&e.childLanes)!==0,vn||i){if(r=nn,r!==null&&(d=Z(r,t),d!==0&&d!==l.retryLane))throw l.retryLane=d,_e(e,d),Gn(r,e,d),Hl;Ai(),n=xu(e,n,t)}else e=l.treeContext,Ln&&(un=Bp(d),Rn=n,Be=!0,wr=null,bt=!1,e!==null&&He(n,e)),n=Ii(n,r),n.flags|=4096;return n}return e=rr(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zi(e,n){var t=n.ref;if(t===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(c(284));(e===null||e.ref!==t)&&(n.flags|=4194816)}}function Zo(e,n,t,r,i){return ht(n),t=Ge(e,n,t,r,void 0,i),r=tt(),e!==null&&!vn?(Jt(e,n,i),er(e,n,i)):(Be&&r&&me(n),n.flags|=1,zn(e,n,t,i),n.child)}function _u(e,n,t,r,i,l){return ht(n),n.updateQueue=null,t=Ke(n,r,t,i),nt(e),r=tt(),e!==null&&!vn?(Jt(e,n,l),er(e,n,l)):(Be&&r&&me(n),n.flags|=1,zn(e,n,t,l),n.child)}function Mu(e,n,t,r,i){if(ht(n),n.stateNode===null){var l=pa,d=t.contextType;typeof d=="object"&&d!==null&&(l=on(d)),l=new t(r,l),n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Bl,n.stateNode=l,l._reactInternals=n,l=n.stateNode,l.props=r,l.state=n.memoizedState,l.refs={},f(n),d=t.contextType,l.context=typeof d=="object"&&d!==null?on(d):pa,l.state=n.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Bo(n,t,d,r),l.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(d=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),d!==l.state&&Bl.enqueueReplaceState(l,l.state,null),W(n,r,l,i),Y(),l.state=n.memoizedState),typeof l.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){l=n.stateNode;var v=n.memoizedProps,O=Dr(t,v);l.props=O;var $=l.context,oe=t.contextType;d=pa,typeof oe=="object"&&oe!==null&&(d=on(oe));var K=t.getDerivedStateFromProps;oe=typeof K=="function"||typeof l.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,oe||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(v||$!==d)&&hu(n,l,r,d),Er=!1;var se=n.memoizedState;l.state=se,W(n,r,l,i),Y(),$=n.memoizedState,v||se!==$||Er?(typeof K=="function"&&(Bo(n,t,K,r),$=n.memoizedState),(O=Er||pu(n,t,O,r,se,$,d))?(oe||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(n.flags|=4194308)):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=$),l.props=r,l.state=$,l.context=d,r=O):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{l=n.stateNode,p(e,n),d=n.memoizedProps,oe=Dr(t,d),l.props=oe,K=n.pendingProps,se=l.context,$=t.contextType,O=pa,typeof $=="object"&&$!==null&&(O=on($)),v=t.getDerivedStateFromProps,($=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==K||se!==O)&&hu(n,l,r,O),Er=!1,se=n.memoizedState,l.state=se,W(n,r,l,i),Y();var ke=n.memoizedState;d!==K||se!==ke||Er||e!==null&&e.dependencies!==null&&pr(e.dependencies)?(typeof v=="function"&&(Bo(n,t,v,r),ke=n.memoizedState),(oe=Er||pu(n,t,oe,r,se,ke,O)||e!==null&&e.dependencies!==null&&pr(e.dependencies))?($||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,ke,O),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,ke,O)),typeof l.componentDidUpdate=="function"&&(n.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=ke),l.props=r,l.state=ke,l.context=O,r=oe):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),r=!1)}return l=r,zi(e,n),r=(n.flags&128)!==0,l||r?(l=n.stateNode,t=r&&typeof t.getDerivedStateFromError!="function"?null:l.render(),n.flags|=1,e!==null&&r?(n.child=Wr(n,e.child,null,i),n.child=Wr(n,null,t,i)):zn(e,n,t,i),n.memoizedState=l.state,e=n.child):e=er(e,n,i),e}function ku(e,n,t,r){return et(),n.flags|=256,zn(e,n,t,r),n.child}function $o(e){return{baseLanes:e,cachePool:$a()}}function Vo(e,n,t){return e=e!==null?e.childLanes&~t:0,n&&(e|=ft),e}function Cu(e,n,t){var r=n.pendingProps,i=!1,l=(n.flags&128)!==0,d;if((d=l)||(d=e!==null&&e.memoizedState===null?!1:(pn.current&2)!==0),d&&(i=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(Be){if(i?ce(n):Ee(),(e=un)?(e=qp(e,bt),e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Vt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},t=Sc(e),t.return=n,n.child=t,Rn=n,un=null)):e=null,e===null)throw Jn(n);return kl(e)?n.lanes=32:n.lanes=536870912,null}var v=r.children;return r=r.fallback,i?(Ee(),i=n.mode,v=Ni({mode:"hidden",children:v},i),r=Lr(r,i,t,null),v.return=n,r.return=n,v.sibling=r,n.child=v,r=n.child,r.memoizedState=$o(t),r.childLanes=Vo(e,d,t),n.memoizedState=Zl,qa(null,r)):(ce(n),Wo(n,v))}var O=e.memoizedState;if(O!==null&&(v=O.dehydrated,v!==null)){if(l)n.flags&256?(ce(n),n.flags&=-257,n=qo(e,n,t)):n.memoizedState!==null?(Ee(),n.child=e.child,n.flags|=128,n=null):(Ee(),v=r.fallback,i=n.mode,r=Ni({mode:"visible",children:r.children},i),v=Lr(v,i,t,null),v.flags|=2,r.return=n,v.return=n,r.sibling=v,n.child=r,Wr(n,e.child,null,t),r=n.child,r.memoizedState=$o(t),r.childLanes=Vo(e,d,t),n.memoizedState=Zl,n=qa(null,r));else if(ce(n),kl(v))d=Fp(v).digest,r=Error(c(419)),r.stack="",r.digest=d,Ot({value:r,source:null,stack:null}),n=qo(e,n,t);else if(vn||Dt(e,n,t,!1),d=(t&e.childLanes)!==0,vn||d){if(d=nn,d!==null&&(r=Z(d,t),r!==0&&r!==O.retryLane))throw O.retryLane=r,_e(e,r),Gn(d,e,r),Hl;Ml(v)||Ai(),n=qo(e,n,t)}else Ml(v)?(n.flags|=192,n.child=e.child,n=null):(e=O.treeContext,Ln&&(un=Hp(v),Rn=n,Be=!0,wr=null,bt=!1,e!==null&&He(n,e)),n=Wo(n,r.children),n.flags|=4096);return n}return i?(Ee(),v=r.fallback,i=n.mode,O=e.child,l=O.sibling,r=rr(O,{mode:"hidden",children:r.children}),r.subtreeFlags=O.subtreeFlags&65011712,l!==null?v=rr(l,v):(v=Lr(v,i,t,null),v.flags|=2),v.return=n,r.return=n,r.sibling=v,n.child=r,qa(null,r),r=n.child,v=e.child.memoizedState,v===null?v=$o(t):(i=v.cachePool,i!==null?(O=ar?cn._currentValue:cn._currentValue2,i=i.parent!==O?{parent:O,pool:O}:i):i=$a(),v={baseLanes:v.baseLanes|t,cachePool:i}),r.memoizedState=v,r.childLanes=Vo(e,d,t),n.memoizedState=Zl,qa(e.child,r)):(ce(n),t=e.child,e=t.sibling,t=rr(t,{mode:"visible",children:r.children}),t.return=n,t.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=t,n.memoizedState=null,t)}function Wo(e,n){return n=Ni({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ni(e,n){return e=u(22,e,null,n),e.lanes=0,e}function qo(e,n,t){return Wr(n,e.child,null,t),e=Wo(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tu(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),fr(e.return,n,t)}function Go(e,n,t,r,i,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,treeForkCount:l}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=t,d.tailMode=i,d.treeForkCount=l)}function Iu(e,n,t){var r=n.pendingProps,i=r.revealOrder,l=r.tail;r=r.children;var d=pn.current,v=(d&2)!==0;if(v?(d=d&1|2,n.flags|=128):d&=1,L(pn,d),zn(e,n,r,t),r=Be?ai:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tu(e,t,n);else if(e.tag===19)Tu(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(t=n.child,i=null;t!==null;)e=t.alternate,e!==null&&We(e)===null&&(i=t),t=t.sibling;t=i,t===null?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),Go(n,!1,i,t,l,r);break;case"backwards":case"unstable_legacy-backwards":for(t=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&We(e)===null){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}Go(n,!0,t,null,l,r);break;case"together":Go(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function er(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),_r|=n.lanes,(t&n.childLanes)===0)if(e!==null){if(Dt(e,n,t,!1),(t&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(c(153));if(n.child!==null){for(e=n.child,t=rr(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=rr(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function Yo(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&pr(e)))}function kd(e,n,t){switch(n.tag){case 3:Fn(n,n.stateNode.containerInfo),pt(n,cn,e.memoizedState.cache),et();break;case 27:case 5:jn(n);break;case 4:Fn(n,n.stateNode.containerInfo);break;case 10:pt(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fe(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ce(n),n.flags|=128,null):(t&n.child.childLanes)!==0?Cu(e,n,t):(ce(n),e=er(e,n,t),e!==null?e.sibling:null);ce(n);break;case 19:var i=(e.flags&128)!==0;if(r=(t&n.childLanes)!==0,r||(Dt(e,n,t,!1),r=(t&n.childLanes)!==0),i){if(r)return Iu(e,n,t);n.flags|=128}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),L(pn,pn.current),r)break;return null;case 22:return n.lanes=0,wu(e,n,t,n.pendingProps);case 24:pt(n,cn,e.memoizedState.cache)}return er(e,n,t)}function zu(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps)vn=!0;else{if(!Yo(e,t)&&(n.flags&128)===0)return vn=!1,kd(e,n,t);vn=(e.flags&131072)!==0}else vn=!1,Be&&(n.flags&1048576)!==0&&ye(n,ai,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Hn(n.elementType),n.type=e,typeof e=="function")dl(e)?(r=Dr(e,r),n.tag=1,n=Mu(null,n,e,r,t)):(n.tag=0,n=Zo(null,n,e,r,t));else{if(e!=null){var i=e.$$typeof;if(i===bl){n.tag=11,n=bu(null,n,e,r,t);break e}else if(i===wl){n.tag=14,n=yu(null,n,e,r,t);break e}}throw n=C(e)||e,Error(c(306,n,""))}}return n;case 0:return Zo(e,n,n.type,n.pendingProps,t);case 1:return r=n.type,i=Dr(r,n.pendingProps),Mu(e,n,r,i,t);case 3:e:{if(Fn(n,n.stateNode.containerInfo),e===null)throw Error(c(387));var l=n.pendingProps;i=n.memoizedState,r=i.element,p(e,n),W(n,l,null,t);var d=n.memoizedState;if(l=d.cache,pt(n,cn,l),l!==i.cache&&dr(n,[cn],t,!0),Y(),l=d.element,Ln&&i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=i,n.memoizedState=i,n.flags&256){n=ku(e,n,l,t);break e}else if(l!==r){r=ze(Error(c(424)),n),Ot(r),n=ku(e,n,l,t);break e}else for(Ln&&(un=jp(n.stateNode.containerInfo),Rn=n,Be=!0,wr=null,bt=!0),t=rf(n,null,l,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(et(),l===r){n=er(e,n,t);break e}zn(e,n,l,t)}n=n.child}return n;case 26:if(Nt)return zi(e,n),e===null?(t=Zc(n.type,null,n.pendingProps,null))?n.memoizedState=t:Be||(n.stateNode=ph(n.type,n.pendingProps,Sr.current,n)):n.memoizedState=Zc(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:if(xn)return jn(n),e===null&&xn&&Be&&(r=n.stateNode=Yc(n.type,n.pendingProps,Sr.current,Nn.current,!1),Rn=n,bt=!0,un=Zp(n.type,r,un)),zn(e,n,n.pendingProps.children,t),zi(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Be&&(ch(n.type,n.pendingProps,Nn.current),(i=r=un)&&(r=$p(r,n.type,n.pendingProps,bt),r!==null?(n.stateNode=r,Rn=n,un=Lp(r),bt=!1,i=!0):i=!1),i||Jn(n)),jn(n),i=n.type,l=n.pendingProps,d=e!==null?e.memoizedProps:null,r=l.children,Hi(i,l)?r=null:d!==null&&Hi(i,d)&&(n.flags|=32),n.memoizedState!==null&&(i=Ge(e,n,mn,null,null,t),ar?Br._currentValue=i:Br._currentValue2=i),zi(e,n),zn(e,n,r,t),n.child;case 6:return e===null&&Be&&(fh(n.pendingProps,Nn.current),(e=t=un)&&(t=Vp(t,n.pendingProps,bt),t!==null?(n.stateNode=t,Rn=n,un=null,e=!0):e=!1),e||Jn(n)),null;case 13:return Cu(e,n,t);case 4:return Fn(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Wr(n,null,r,t):zn(e,n,r,t),n.child;case 11:return bu(e,n,n.type,n.pendingProps,t);case 7:return zn(e,n,n.pendingProps,t),n.child;case 8:return zn(e,n,n.pendingProps.children,t),n.child;case 12:return zn(e,n,n.pendingProps.children,t),n.child;case 10:return r=n.pendingProps,pt(n,n.type,r.value),zn(e,n,r.children,t),n.child;case 9:return i=n.type._context,r=n.pendingProps.children,ht(n),i=on(i),r=r(i),n.flags|=1,zn(e,n,r,t),n.child;case 14:return yu(e,n,n.type,n.pendingProps,t);case 15:return Su(e,n,n.type,n.pendingProps,t);case 19:return Iu(e,n,t);case 31:return Md(e,n,t);case 22:return wu(e,n,t,n.pendingProps);case 24:return ht(n),r=on(cn),e===null?(i=wn(),i===null&&(i=nn,l=Rr(),i.pooledCache=l,l.refCount++,l!==null&&(i.pooledCacheLanes|=t),i=l),n.memoizedState={parent:r,cache:i},f(n),pt(n,cn,i)):((e.lanes&t)!==0&&(p(e,n),W(n,null,null,t),Y()),i=e.memoizedState,l=n.memoizedState,i.parent!==r?(i={parent:r,cache:r},n.memoizedState=i,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=i),pt(n,cn,r)):(r=l.cache,pt(n,cn,r),r!==i.cache&&dr(n,[cn],t,!0))),zn(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error(c(156,n.tag))}function Tt(e){e.flags|=4}function Ri(e){$t&&(e.flags|=8)}function Nu(e,n){if(e!==null&&e.child===n.child)return!1;if((n.flags&16)!==0)return!0;for(e=n.child;e!==null;){if((e.flags&8218)!==0||(e.subtreeFlags&8218)!==0)return!0;e=e.sibling}return!1}function Xo(e,n,t,r){if(Un)for(t=n.child;t!==null;){if(t.tag===5||t.tag===6)xl(e,t.stateNode);else if(!(t.tag===4||xn&&t.tag===27)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else if($t)for(var i=n.child;i!==null;){if(i.tag===5){var l=i.stateNode;t&&r&&(l=Uc(l,i.type,i.memoizedProps)),xl(e,l)}else if(i.tag===6)l=i.stateNode,t&&r&&(l=Lc(l,i.memoizedProps)),xl(e,l);else if(i.tag!==4){if(i.tag===22&&i.memoizedState!==null)l=i.child,l!==null&&(l.return=i),Xo(e,i,!0,!0);else if(i.child!==null){i.child.return=i,i=i.child;continue}}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Ru(e,n,t,r){var i=!1;if($t)for(var l=n.child;l!==null;){if(l.tag===5){var d=l.stateNode;t&&r&&(d=Uc(d,l.type,l.memoizedProps)),Dc(e,d)}else if(l.tag===6)d=l.stateNode,t&&r&&(d=Lc(d,l.memoizedProps)),Dc(e,d);else if(l.tag!==4){if(l.tag===22&&l.memoizedState!==null)i=l.child,i!==null&&(i.return=l),Ru(e,l,!0,!0),i=!0;else if(l.child!==null){l.child.return=l,l=l.child;continue}}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return i;l=l.return}l.sibling.return=l.return,l=l.sibling}return i}function Pu(e,n){if($t&&Nu(e,n)){e=n.stateNode;var t=e.containerInfo,r=Oc();Ru(r,n,!1,!1),e.pendingChildren=r,Tt(n),Pp(t,r)}}function Qo(e,n,t,r){if(Un)e.memoizedProps!==r&&Tt(n);else if($t){var i=e.stateNode,l=e.memoizedProps;if((e=Nu(e,n))||l!==r){var d=Nn.current;l=Rp(i,t,l,r,!e,null),l===i?n.stateNode=i:(Ri(n),zc(l,t,r,d)&&Tt(n),n.stateNode=l,e&&Xo(l,n,!1,!1))}else n.stateNode=i}}function Ko(e,n,t,r,i){if((e.mode&32)!==0&&(t===null?ip(n,r):op(n,t,r))){if(e.flags|=16777216,(i&335544128)===i||_l(n,r))if(Rc(e.stateNode,n,r))e.flags|=8192;else if(ic())e.flags|=8192;else throw Vr=Ji,Al}else e.flags&=-16777217}function Fu(e,n){if(mh(n)){if(e.flags|=16777216,!Gc(n))if(ic())e.flags|=8192;else throw Vr=Ji,Al}else e.flags&=-16777217}function Pi(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Q():536870912,e.lanes|=n,Ca|=n)}function Ga(e,n){if(!Be)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rn(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Cd(e,n,t){var r=n.pendingProps;switch(Fe(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(n),null;case 1:return rn(n),null;case 3:return t=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Vn(cn),Ne(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(e===null||e.child===null)&&(_t(n)?Tt(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yt())),Pu(e,n),rn(n),null;case 26:if(Nt){var i=n.type,l=n.memoizedState;return e===null?(Tt(n),l!==null?(rn(n),Fu(n,l)):(rn(n),Ko(n,i,null,r,t))):l?l!==e.memoizedState?(Tt(n),rn(n),Fu(n,l)):(rn(n),n.flags&=-16777217):(l=e.memoizedProps,Un?l!==r&&Tt(n):Qo(e,n,i,r),rn(n),Ko(n,i,l,r,t)),null}case 27:if(xn){if(On(n),t=Sr.current,i=n.type,e!==null&&n.stateNode!=null)Un?e.memoizedProps!==r&&Tt(n):Qo(e,n,i,r);else{if(!r){if(n.stateNode===null)throw Error(c(166));return rn(n),null}e=Nn.current,_t(n)?Jr(n,e):(e=Yc(i,r,t,e,!0),n.stateNode=e,Tt(n))}return rn(n),null}case 5:if(On(n),i=n.type,e!==null&&n.stateNode!=null)Qo(e,n,i,r);else{if(!r){if(n.stateNode===null)throw Error(c(166));return rn(n),null}if(l=Nn.current,_t(n))Jr(n,l),ah(n.stateNode,i,r,l)&&(n.flags|=64);else{var d=Qd(i,r,Sr.current,l,n);Ri(n),Xo(d,n,!1,!1),n.stateNode=d,zc(d,i,r,l)&&Tt(n)}}return rn(n),Ko(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,t),null;case 6:if(e&&n.stateNode!=null)t=e.memoizedProps,Un?t!==r&&Tt(n):$t&&(t!==r?(e=Sr.current,t=Nn.current,Ri(n),n.stateNode=Nc(r,e,t,n)):n.stateNode=e.stateNode);else{if(typeof r!="string"&&n.stateNode===null)throw Error(c(166));if(e=Sr.current,t=Nn.current,_t(n)){if(!Ln)throw Error(c(176));if(e=n.stateNode,t=n.memoizedProps,r=null,i=Rn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}Yp(e,t,n,r)||Jn(n,!0)}else Ri(n),n.stateNode=Nc(r,e,t,n)}return rn(n),null;case 31:if(t=n.memoizedState,e===null||e.memoizedState!==null){if(r=_t(n),t!==null){if(e===null){if(!r)throw Error(c(318));if(!Ln)throw Error(c(556));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));Xp(e,n)}else et(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rn(n),e=!1}else t=Yt(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=t),e=!0;if(!e)return n.flags&256?(Ie(n),n):(Ie(n),null);if((n.flags&128)!==0)throw Error(c(558))}return rn(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=_t(n),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(c(318));if(!Ln)throw Error(c(344));if(i=n.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));Qp(i,n)}else et(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rn(n),i=!1}else i=Yt(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return n.flags&256?(Ie(n),n):(Ie(n),null)}return Ie(n),(n.flags&128)!==0?(n.lanes=t,n):(t=r!==null,e=e!==null&&e.memoizedState!==null,t&&(r=n.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==i&&(r.flags|=2048)),t!==e&&t&&(n.child.flags|=8192),Pi(n,n.updateQueue),rn(n),null);case 4:return Ne(),Pu(e,n),e===null&&np(n.stateNode.containerInfo),rn(n),null;case 10:return Vn(n.type),rn(n),null;case 19:if(P(pn),r=n.memoizedState,r===null)return rn(n),null;if(i=(n.flags&128)!==0,l=r.rendering,l===null)if(i)Ga(r,!1);else{if(dn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(l=We(e),l!==null){for(n.flags|=128,Ga(r,!1),e=l.updateQueue,n.updateQueue=e,Pi(n,e),n.subtreeFlags=0,e=t,t=n.child;t!==null;)yc(t,e),t=t.sibling;return L(pn,pn.current&1|2),Be&&Se(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Yn()>di&&(n.flags|=128,i=!0,Ga(r,!1),n.lanes=4194304)}else{if(!i)if(e=We(l),e!==null){if(n.flags|=128,i=!0,e=e.updateQueue,n.updateQueue=e,Pi(n,e),Ga(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!Be)return rn(n),null}else 2*Yn()-r.renderingStartTime>di&&t!==536870912&&(n.flags|=128,i=!0,Ga(r,!1),n.lanes=4194304);r.isBackwards?(l.sibling=n.child,n.child=l):(e=r.last,e!==null?e.sibling=l:n.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Yn(),e.sibling=null,t=pn.current,L(pn,i?t&1|2:t&1),Be&&Se(n,r.treeForkCount),e):(rn(n),null);case 22:case 23:return Ie(n),en(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(t&536870912)!==0&&(n.flags&128)===0&&(rn(n),n.subtreeFlags&6&&(n.flags|=8192)):rn(n),t=n.updateQueue,t!==null&&Pi(n,t.retryQueue),t=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==t&&(n.flags|=2048),e!==null&&P($r),null;case 24:return t=null,e!==null&&(t=e.memoizedState.cache),n.memoizedState.cache!==t&&(n.flags|=2048),Vn(cn),rn(n),null;case 25:return null;case 30:return null}throw Error(c(156,n.tag))}function Td(e,n){switch(Fe(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vn(cn),Ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return On(n),null;case 31:if(n.memoizedState!==null){if(Ie(n),n.alternate===null)throw Error(c(340));et()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ie(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(c(340));et()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(pn),null;case 4:return Ne(),null;case 10:return Vn(n.type),null;case 22:case 23:return Ie(n),en(),e!==null&&P($r),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vn(cn),null;case 25:return null;default:return null}}function Ou(e,n){switch(Fe(n),n.tag){case 3:Vn(cn),Ne();break;case 26:case 27:case 5:On(n);break;case 4:Ne();break;case 31:n.memoizedState!==null&&Ie(n);break;case 13:Ie(n);break;case 19:P(pn);break;case 10:Vn(n.type);break;case 22:case 23:Ie(n),en(),e!==null&&P($r);break;case 24:Vn(cn)}}function Ya(e,n){try{var t=n.updateQueue,r=t!==null?t.lastEffect:null;if(r!==null){var i=r.next;t=i;do{if((t.tag&e)===e){r=void 0;var l=t.create,d=t.inst;r=l(),d.destroy=r}t=t.next}while(t!==i)}}catch(v){Ze(n,n.return,v)}}function mr(e,n,t){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var l=i.next;r=l;do{if((r.tag&e)===e){var d=r.inst,v=d.destroy;if(v!==void 0){d.destroy=void 0,i=n;var O=t,$=v;try{$()}catch(oe){Ze(i,O,oe)}}}r=r.next}while(r!==l)}}catch(oe){Ze(n,n.return,oe)}}function Du(e){var n=e.updateQueue;if(n!==null){var t=e.stateNode;try{re(n,t)}catch(r){Ze(e,e.return,r)}}}function Au(e,n,t){t.props=Dr(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(r){Ze(e,n,r)}}function Xa(e,n){try{var t=e.ref;if(t!==null){switch(e.tag){case 26:case 27:case 5:var r=ei(e.stateNode);break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof t=="function"?e.refCleanup=t(r):t.current=r}}catch(i){Ze(e,n,i)}}function Zt(e,n){var t=e.ref,r=e.refCleanup;if(t!==null)if(typeof r=="function")try{r()}catch(i){Ze(e,n,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(i){Ze(e,n,i)}else t.current=null}function Uu(e){var n=e.type,t=e.memoizedProps,r=e.stateNode;try{wp(r,n,t,e)}catch(i){Ze(e,e.return,i)}}function Jo(e,n,t){try{Ep(e.stateNode,e.type,t,n,e)}catch(r){Ze(e,e.return,r)}}function Lu(e){return e.tag===5||e.tag===3||(Nt?e.tag===26:!1)||(xn?e.tag===27&&fa(e.type):!1)||e.tag===4}function el(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(xn&&e.tag===27&&fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nl(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?_p(t,e,n):yp(t,e);else if(r!==4&&(xn&&r===27&&fa(e.type)&&(t=e.stateNode,n=null),e=e.child,e!==null))for(nl(e,n,t),e=e.sibling;e!==null;)nl(e,n,t),e=e.sibling}function Fi(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?xp(t,e,n):bp(t,e);else if(r!==4&&(xn&&r===27&&fa(e.type)&&(t=e.stateNode),e=e.child,e!==null))for(Fi(e,n,t),e=e.sibling;e!==null;)Fi(e,n,t),e=e.sibling}function ju(e,n,t){e=e.containerInfo;try{Ac(e,t)}catch(r){Ze(n,n.return,r)}}function Bu(e){var n=e.stateNode,t=e.memoizedProps;try{vh(e.type,t,n,e)}catch(r){Ze(e,e.return,r)}}function Id(e,n){for(Yd(e.containerInfo),kn=n;kn!==null;)if(e=kn,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,kn=n;else for(;kn!==null;){e=kn;var t=e.alternate;switch(n=e.flags,e.tag){case 0:if((n&4)!==0&&(n=e.updateQueue,n=n!==null?n.events:null,n!==null))for(var r=0;r<n.length;r++){var i=n[r];i.ref.impl=i.nextImpl}break;case 11:case 15:break;case 1:if((n&1024)!==0&&t!==null){n=void 0,r=e,i=t.memoizedProps,t=t.memoizedState;var l=r.stateNode;try{var d=Dr(r.type,i);n=l.getSnapshotBeforeUpdate(d,t),l.__reactInternalSnapshotBeforeUpdate=n}catch(v){Ze(r,r.return,v)}}break;case 3:(n&1024)!==0&&Un&&Np(e.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(c(163))}if(n=e.sibling,n!==null){n.return=e.return,kn=n;break}kn=e.return}}function Hu(e,n,t){var r=t.flags;switch(t.tag){case 0:case 11:case 15:nr(e,t),r&4&&Ya(5,t);break;case 1:if(nr(e,t),r&4)if(e=t.stateNode,n===null)try{e.componentDidMount()}catch(d){Ze(t,t.return,d)}else{var i=Dr(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(i,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ze(t,t.return,d)}}r&64&&Du(t),r&512&&Xa(t,t.return);break;case 3:if(nr(e,t),r&64&&(r=t.updateQueue,r!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=ei(t.child.stateNode);break;case 1:e=t.child.stateNode}try{re(r,e)}catch(d){Ze(t,t.return,d)}}break;case 27:xn&&n===null&&r&4&&Bu(t);case 26:case 5:if(nr(e,t),n===null){if(r&4)Uu(t);else if(r&64){e=t.type,n=t.memoizedProps,i=t.stateNode;try{eh(i,e,n,t)}catch(d){Ze(t,t.return,d)}}}r&512&&Xa(t,t.return);break;case 12:nr(e,t);break;case 31:nr(e,t),r&4&&$u(e,t);break;case 13:nr(e,t),r&4&&Vu(e,t),r&64&&(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(t=Dd.bind(null,t),Op(r,t))));break;case 22:if(r=t.memoizedState!==null||sr,!r){n=n!==null&&n.memoizedState!==null||bn,i=sr;var l=bn;sr=r,(bn=n)&&!l?tr(e,t,(t.subtreeFlags&8772)!==0):nr(e,t),sr=i,bn=l}break;case 30:break;default:nr(e,t)}}function Zu(e){var n=e.alternate;n!==null&&(e.alternate=null,Zu(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ap(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function It(e,n,t){for(t=t.child;t!==null;)tl(e,n,t),t=t.sibling}function tl(e,n,t){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(ri,t)}catch{}switch(t.tag){case 26:if(Nt){bn||Zt(t,n),It(e,n,t),t.memoizedState?Vc(t.memoizedState):t.stateNode&&qc(t.stateNode);break}case 27:if(xn){bn||Zt(t,n);var r=yn,i=Xn;fa(t.type)&&(yn=t.stateNode,Xn=!1),It(e,n,t),Xc(t.stateNode),yn=r,Xn=i;break}case 5:bn||Zt(t,n);case 6:if(Un){if(r=yn,i=Xn,yn=null,It(e,n,t),yn=r,Xn=i,yn!==null)if(Xn)try{kp(yn,t.stateNode)}catch(l){Ze(t,n,l)}else try{Mp(yn,t.stateNode)}catch(l){Ze(t,n,l)}}else It(e,n,t);break;case 18:Un&&yn!==null&&(Xn?lh(yn,t.stateNode):oh(yn,t.stateNode));break;case 4:Un?(r=yn,i=Xn,yn=t.stateNode.containerInfo,Xn=!0,It(e,n,t),yn=r,Xn=i):($t&&ju(t.stateNode,t,Oc()),It(e,n,t));break;case 0:case 11:case 14:case 15:mr(2,t,n),bn||mr(4,t,n),It(e,n,t);break;case 1:bn||(Zt(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"&&Au(t,n,r)),It(e,n,t);break;case 21:It(e,n,t);break;case 22:bn=(r=bn)||t.memoizedState!==null,It(e,n,t),bn=r;break;default:It(e,n,t)}}function $u(e,n){if(Ln&&n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{th(e)}catch(t){Ze(n,n.return,t)}}}function Vu(e,n){if(Ln&&n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rh(e)}catch(t){Ze(n,n.return,t)}}function zd(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new lf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new lf),n;default:throw Error(c(435,e.tag))}}function Oi(e,n){var t=zd(e);n.forEach(function(r){if(!t.has(r)){t.add(r);var i=Ad.bind(null,e,r);r.then(i,i)}})}function An(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r],l=e,d=n;if(Un){var v=d;e:for(;v!==null;){switch(v.tag){case 27:if(xn){if(fa(v.type)){yn=v.stateNode,Xn=!1;break e}break}case 5:yn=v.stateNode,Xn=!1;break e;case 3:case 4:yn=v.stateNode.containerInfo,Xn=!0;break e}v=v.return}if(yn===null)throw Error(c(160));tl(l,d,i),yn=null,Xn=!1}else tl(l,d,i);l=i.alternate,l!==null&&(l.return=null),i.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wu(n,e),n=n.sibling}function Wu(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(n,e),Zn(e),r&4&&(mr(3,e,e.return),Ya(3,e),mr(5,e,e.return));break;case 1:An(n,e),Zn(e),r&512&&(bn||t===null||Zt(t,t.return)),r&64&&sr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(t=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=t===null?r:t.concat(r))));break;case 26:if(Nt){var i=Pt;if(An(n,e),Zn(e),r&512&&(bn||t===null||Zt(t,t.return)),r&4){r=t!==null?t.memoizedState:null;var l=e.memoizedState;t===null?l===null?e.stateNode===null?e.stateNode=dh(i,e.type,e.memoizedProps,e):Wc(i,e.type,e.stateNode):e.stateNode=$c(i,l,e.memoizedProps):r!==l?(r===null?t.stateNode!==null&&qc(t.stateNode):Vc(r),l===null?Wc(i,e.type,e.stateNode):$c(i,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Jo(e,e.memoizedProps,t.memoizedProps)}break}case 27:if(xn){An(n,e),Zn(e),r&512&&(bn||t===null||Zt(t,t.return)),t!==null&&r&4&&Jo(e,e.memoizedProps,t.memoizedProps);break}case 5:if(An(n,e),Zn(e),r&512&&(bn||t===null||Zt(t,t.return)),Un){if(e.flags&32){i=e.stateNode;try{Fc(i)}catch(K){Ze(e,e.return,K)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,Jo(e,i,t!==null?t.memoizedProps:i)),r&1024&&($l=!0)}else $t&&e.alternate!==null&&(e.alternate.stateNode=e.stateNode);break;case 6:if(An(n,e),Zn(e),r&4&&Un){if(e.stateNode===null)throw Error(c(162));r=e.memoizedProps,t=t!==null?t.memoizedProps:r,i=e.stateNode;try{Sp(i,t,r)}catch(K){Ze(e,e.return,K)}}break;case 3:if(Nt?(hh(),i=Pt,Pt=Cl(n.containerInfo),An(n,e),Pt=i):An(n,e),Zn(e),r&4){if(Un&&Ln&&t!==null&&t.memoizedState.isDehydrated)try{nh(n.containerInfo)}catch(K){Ze(e,e.return,K)}if($t){r=n.containerInfo,t=n.pendingChildren;try{Ac(r,t)}catch(K){Ze(e,e.return,K)}}}$l&&($l=!1,qu(e));break;case 4:Nt?(t=Pt,Pt=Cl(e.stateNode.containerInfo),An(n,e),Zn(e),Pt=t):(An(n,e),Zn(e)),r&4&&$t&&ju(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:An(n,e),Zn(e);break;case 31:An(n,e),Zn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Oi(e,r)));break;case 13:An(n,e),Zn(e),e.child.flags&8192&&e.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(so=Yn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Oi(e,r)));break;case 22:i=e.memoizedState!==null;var d=t!==null&&t.memoizedState!==null,v=sr,O=bn;if(sr=v||i,bn=O||d,An(n,e),bn=O,sr=v,Zn(e),r&8192&&(n=e.stateNode,n._visibility=i?n._visibility&-2:n._visibility|1,i&&(t===null||d||sr||bn||Ar(e)),Un)){e:if(t=null,Un)for(n=e;;){if(n.tag===5||Nt&&n.tag===26){if(t===null){d=t=n;try{l=d.stateNode,i?Cp(l):Ip(d.stateNode,d.memoizedProps)}catch(K){Ze(d,d.return,K)}}}else if(n.tag===6){if(t===null){d=n;try{var $=d.stateNode;i?Tp($):zp($,d.memoizedProps)}catch(K){Ze(d,d.return,K)}}}else if(n.tag===18){if(t===null){d=n;try{var oe=d.stateNode;i?sh(oe):uh(d.stateNode)}catch(K){Ze(d,d.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;t===n&&(t=null),n=n.return}t===n&&(t=null),n.sibling.return=n.return,n=n.sibling}}r&4&&(r=e.updateQueue,r!==null&&(t=r.retryQueue,t!==null&&(r.retryQueue=null,Oi(e,t))));break;case 19:An(n,e),Zn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Oi(e,r)));break;case 30:break;case 21:break;default:An(n,e),Zn(e)}}function Zn(e){var n=e.flags;if(n&2){try{for(var t,r=e.return;r!==null;){if(Lu(r)){t=r;break}r=r.return}if(Un){if(t==null)throw Error(c(160));switch(t.tag){case 27:if(xn){var i=t.stateNode,l=el(e);Fi(e,l,i);break}case 5:var d=t.stateNode;t.flags&32&&(Fc(d),t.flags&=-33);var v=el(e);Fi(e,v,d);break;case 3:case 4:var O=t.stateNode.containerInfo,$=el(e);nl(e,$,O);break;default:throw Error(c(161))}}}catch(oe){Ze(e,e.return,oe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qu(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qu(n),n.tag===5&&n.flags&1024&&up(n.stateNode),e=e.sibling}}function nr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hu(e,n.alternate,n),n=n.sibling}function Ar(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:mr(4,n,n.return),Ar(n);break;case 1:Zt(n,n.return);var t=n.stateNode;typeof t.componentWillUnmount=="function"&&Au(n,n.return,t),Ar(n);break;case 27:xn&&Xc(n.stateNode);case 26:case 5:Zt(n,n.return),Ar(n);break;case 22:n.memoizedState===null&&Ar(n);break;case 30:Ar(n);break;default:Ar(n)}e=e.sibling}}function tr(e,n,t){for(t=t&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,i=e,l=n,d=l.flags;switch(l.tag){case 0:case 11:case 15:tr(i,l,t),Ya(4,l);break;case 1:if(tr(i,l,t),r=l,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch($){Ze(r,r.return,$)}if(r=l,i=r.updateQueue,i!==null){var v=r.stateNode;try{var O=i.shared.hiddenCallbacks;if(O!==null)for(i.shared.hiddenCallbacks=null,i=0;i<O.length;i++)ae(O[i],v)}catch($){Ze(r,r.return,$)}}t&&d&64&&Du(l),Xa(l,l.return);break;case 27:xn&&Bu(l);case 26:case 5:tr(i,l,t),t&&r===null&&d&4&&Uu(l),Xa(l,l.return);break;case 12:tr(i,l,t);break;case 31:tr(i,l,t),t&&d&4&&$u(i,l);break;case 13:tr(i,l,t),t&&d&4&&Vu(i,l);break;case 22:l.memoizedState===null&&tr(i,l,t),Xa(l,l.return);break;case 30:break;default:tr(i,l,t)}n=n.sibling}}function rl(e,n){var t=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==t&&(e!=null&&e.refCount++,t!=null&&At(t))}function al(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&At(e))}function zt(e,n,t,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gu(e,n,t,r),n=n.sibling}function Gu(e,n,t,r){var i=n.flags;switch(n.tag){case 0:case 11:case 15:zt(e,n,t,r),i&2048&&Ya(9,n);break;case 1:zt(e,n,t,r);break;case 3:zt(e,n,t,r),i&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&At(e)));break;case 12:if(i&2048){zt(e,n,t,r),e=n.stateNode;try{var l=n.memoizedProps,d=l.id,v=l.onPostCommit;typeof v=="function"&&v(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Ze(n,n.return,O)}}else zt(e,n,t,r);break;case 31:zt(e,n,t,r);break;case 13:zt(e,n,t,r);break;case 23:break;case 22:l=n.stateNode,d=n.alternate,n.memoizedState!==null?l._visibility&2?zt(e,n,t,r):Qa(e,n):l._visibility&2?zt(e,n,t,r):(l._visibility|=2,ia(e,n,t,r,(n.subtreeFlags&10256)!==0||!1)),i&2048&&rl(d,n);break;case 24:zt(e,n,t,r),i&2048&&al(n.alternate,n);break;default:zt(e,n,t,r)}}function ia(e,n,t,r,i){for(i=i&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var l=e,d=n,v=t,O=r,$=d.flags;switch(d.tag){case 0:case 11:case 15:ia(l,d,v,O,i),Ya(8,d);break;case 23:break;case 22:var oe=d.stateNode;d.memoizedState!==null?oe._visibility&2?ia(l,d,v,O,i):Qa(l,d):(oe._visibility|=2,ia(l,d,v,O,i)),i&&$&2048&&rl(d.alternate,d);break;case 24:ia(l,d,v,O,i),i&&$&2048&&al(d.alternate,d);break;default:ia(l,d,v,O,i)}n=n.sibling}}function Qa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var t=e,r=n,i=r.flags;switch(r.tag){case 22:Qa(t,r),i&2048&&rl(r.alternate,r);break;case 24:Qa(t,r),i&2048&&al(r.alternate,r);break;default:Qa(t,r)}n=n.sibling}}function Ur(e,n,t){if(e.subtreeFlags&Ma)for(e=e.child;e!==null;)Yu(e,n,t),e=e.sibling}function Yu(e,n,t){switch(e.tag){case 26:if(Ur(e,n,t),e.flags&Ma)if(e.memoizedState!==null)gh(t,Pt,e.memoizedState,e.memoizedProps);else{var r=e.stateNode,i=e.type;e=e.memoizedProps,((n&335544128)===n||_l(i,e))&&Pc(t,r,i,e)}break;case 5:Ur(e,n,t),e.flags&Ma&&(r=e.stateNode,i=e.type,e=e.memoizedProps,((n&335544128)===n||_l(i,e))&&Pc(t,r,i,e));break;case 3:case 4:Nt?(r=Pt,Pt=Cl(e.stateNode.containerInfo),Ur(e,n,t),Pt=r):Ur(e,n,t);break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ma,Ma=16777216,Ur(e,n,t),Ma=r):Ur(e,n,t));break;default:Ur(e,n,t)}}function Xu(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ka(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var t=0;t<n.length;t++){var r=n[t];kn=r,Ku(r,e)}Xu(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qu(e),e=e.sibling}function Qu(e){switch(e.tag){case 0:case 11:case 15:Ka(e),e.flags&2048&&mr(9,e,e.return);break;case 3:Ka(e);break;case 12:Ka(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Di(e)):Ka(e);break;default:Ka(e)}}function Di(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var t=0;t<n.length;t++){var r=n[t];kn=r,Ku(r,e)}Xu(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:mr(8,n,n.return),Di(n);break;case 22:t=n.stateNode,t._visibility&2&&(t._visibility&=-3,Di(n));break;default:Di(n)}e=e.sibling}}function Ku(e,n){for(;kn!==null;){var t=kn;switch(t.tag){case 0:case 11:case 15:mr(8,t,n);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var r=t.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:At(t.memoizedState.cache)}if(r=t.child,r!==null)r.return=t,kn=r;else e:for(t=e;kn!==null;){r=kn;var i=r.sibling,l=r.return;if(Zu(r),r===t){kn=null;break e}if(i!==null){i.return=l,kn=i;break e}kn=l}}}function il(e){var n=ep(e);if(n!=null){if(typeof n.memoizedProps["data-testname"]!="string")throw Error(c(364));return n}if(e=dp(e),e===null)throw Error(c(362));return e.stateNode.current}function ol(e,n){var t=e.tag;switch(n.$$typeof){case ro:if(e.type===n.value)return!0;break;case ao:e:{for(n=n.value,e=[e,0],t=0;t<e.length;){var r=e[t++],i=r.tag,l=e[t++],d=n[l];if(i!==5&&i!==26&&i!==27||!ti(r)){for(;d!=null&&ol(r,d);)l++,d=n[l];if(l===n.length){n=!0;break e}else for(r=r.child;r!==null;)e.push(r,l),r=r.sibling}}n=!1}return n;case io:if((t===5||t===26||t===27)&&mp(e.stateNode,n.value))return!0;break;case lo:if((t===5||t===6||t===26||t===27)&&(e=hp(e),e!==null&&0<=e.indexOf(n.value)))return!0;break;case oo:if((t===5||t===26||t===27)&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===n.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function ll(e){switch(e.$$typeof){case ro:return"<"+(C(e.value)||"Unknown")+">";case ao:return":has("+(ll(e)||"")+")";case io:return'[role="'+e.value+'"]';case lo:return'"'+e.value+'"';case oo:return'[data-testname="'+e.value+'"]';default:throw Error(c(365))}}function Ju(e,n){var t=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],l=i.tag,d=e[r++],v=n[d];if(l!==5&&l!==26&&l!==27||!ti(i)){for(;v!=null&&ol(i,v);)d++,v=n[d];if(d===n.length)t.push(i);else for(i=i.child;i!==null;)e.push(i,d),i=i.sibling}}return t}function sl(e,n){if(!ni)throw Error(c(363));e=il(e),e=Ju(e,n),n=[],e=Array.from(e);for(var t=0;t<e.length;){var r=e[t++],i=r.tag;if(i===5||i===26||i===27)ti(r)||n.push(r.stateNode);else for(r=r.child;r!==null;)e.push(r),r=r.sibling}return n}function at(){return(De&2)!==0&&Le!==0?Le&-Le:ve.T!==null?q():tp()}function ec(){if(ft===0)if((Le&536870912)===0||Be){var e=$i;$i<<=1,($i&3932160)===0&&($i=262144),ft=e}else ft=536870912;return e=ut.current,e!==null&&(e.flags|=32),ft}function Gn(e,n,t){(e===nn&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(oa(e,0),gr(e,Le,ft,!1)),M(e,t),((De&2)===0||e!==nn)&&(e===nn&&((De&2)===0&&(Gr|=t),dn===4&&gr(e,Le,ft,!1)),Tn(e))}function nc(e,n,t){if((De&6)!==0)throw Error(c(327));var r=!t&&(n&127)===0&&(n&e.expiredLanes)===0||_(e,n),i=r?Pd(e,n):cl(e,n,!0),l=r;do{if(i===0){ka&&!r&&gr(e,n,0,!1);break}else{if(t=e.current.alternate,l&&!Nd(t)){i=cl(e,n,!1),l=!1;continue}if(i===2){if(l=n,e.errorRecoveryDisabledLanes&l)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var v=e;i=fi;var O=Ln&&v.current.memoizedState.isDehydrated;if(O&&(oa(v,d).flags|=256),d=cl(v,d,!1),d!==2){if(Vl&&!O){v.errorRecoveryDisabledLanes|=l,Gr|=l,i=4;break e}l=Qn,Qn=i,l!==null&&(Qn===null?Qn=l:Qn.push.apply(Qn,l))}i=d}if(l=!1,i!==2)continue}}if(i===1){oa(e,0),gr(e,n,0,!0);break}e:{switch(r=e,l=i,l){case 0:case 1:throw Error(c(345));case 4:if((n&4194048)!==n)break;case 6:gr(r,n,ft,!xr);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(c(329))}if((n&62914560)===n&&(i=so+300-Yn(),10<i)){if(gr(r,n,ft,!xr),N(r,0,!0)!==0)break e;cr=n,r.timeoutHandle=Kd(tc.bind(null,r,t,Qn,uo,ql,n,ft,Gr,Ca,xr,l,"Throttled",-0,0),i);break e}tc(r,t,Qn,uo,ql,n,ft,Gr,Ca,xr,l,null,-0,0)}}break}while(!0);Tn(e)}function tc(e,n,t,r,i,l,d,v,O,$,oe,K,se,ke){if(e.timeoutHandle=jr,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K=lp(),Yu(n,l,K);var Sn=(l&62914560)===l?so-Yn():(l&4194048)===l?sf-Yn():0;if(Sn=sp(K,Sn),Sn!==null){cr=l,e.cancelPendingCommit=Sn(fc.bind(null,e,n,l,t,r,i,d,v,O,oe,K,null,se,ke)),gr(e,l,d,!$);return}}fc(e,n,l,t,r,i,d,v,O)}function Nd(e){for(var n=e;;){var t=n.tag;if((t===0||t===11||t===15)&&n.flags&16384&&(t=n.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var r=0;r<t.length;r++){var i=t[r],l=i.getSnapshot;i=i.value;try{if(!st(l(),i))return!1}catch{return!1}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gr(e,n,t,r){n&=~Wl,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var i=n;0<i;){var l=31-ot(i),d=1<<l;r[l]=-1,i&=~d}t!==0&&D(e,t,n)}function rc(){return(De&6)===0?(Ut(0),!1):!0}function ul(){if(Ae!==null){if(Xe===0)var e=Ae.return;else e=Ae,or=Hr=null,Dn(e),Sa=null,li=0,e=Ae;for(;e!==null;)Ou(e.alternate,e),e=e.return;Ae=null}}function oa(e,n){var t=e.timeoutHandle;t!==jr&&(e.timeoutHandle=jr,Jd(t)),t=e.cancelPendingCommit,t!==null&&(e.cancelPendingCommit=null,t()),cr=0,ul(),nn=e,Ae=t=rr(e.current,null),Le=n,Xe=0,ct=null,xr=!1,ka=_(e,n),Vl=!1,Ca=ft=Wl=Gr=_r=dn=0,Qn=fi=null,ql=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var i=31-ot(r),l=1<<i;n|=e[i],r&=~l}return ur=n,ta(),t}function ac(e,n){Te=null,ve.H=ui,n===ya||n===Ki?(n=jt(),Xe=3):n===Al?(n=jt(),Xe=4):Xe=n===Hl?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ct=n,Ae===null&&(dn=1,Ti(e,ze(n,e.current)))}function ic(){var e=ut.current;return e===null?!0:(Le&4194048)===Le?Rt===null:(Le&62914560)===Le||(Le&536870912)!==0?e===Rt:!1}function oc(){var e=ve.H;return ve.H=ui,e===null?ui:e}function lc(){var e=ve.A;return ve.A=Nh,e}function Ai(){dn=4,xr||(Le&4194048)!==Le&&ut.current!==null||(ka=!0),(_r&134217727)===0&&(Gr&134217727)===0||nn===null||gr(nn,Le,ft,!1)}function cl(e,n,t){var r=De;De|=2;var i=oc(),l=lc();(nn!==e||Le!==n)&&(uo=null,oa(e,n)),n=!1;var d=dn;e:do try{if(Xe!==0&&Ae!==null){var v=Ae,O=ct;switch(Xe){case 8:ul(),d=6;break e;case 3:case 2:case 9:case 6:ut.current===null&&(n=!0);var $=Xe;if(Xe=0,ct=null,la(e,v,O,$),t&&ka){d=0;break e}break;default:$=Xe,Xe=0,ct=null,la(e,v,O,$)}}Rd(),d=dn;break}catch(oe){ac(e,oe)}while(!0);return n&&e.shellSuspendCounter++,or=Hr=null,De=r,ve.H=i,ve.A=l,Ae===null&&(nn=null,Le=0,ta()),d}function Rd(){for(;Ae!==null;)sc(Ae)}function Pd(e,n){var t=De;De|=2;var r=oc(),i=lc();nn!==e||Le!==n?(uo=null,di=Yn()+500,oa(e,n)):ka=_(e,n);e:do try{if(Xe!==0&&Ae!==null){n=Ae;var l=ct;n:switch(Xe){case 1:Xe=0,ct=null,la(e,n,l,1);break;case 2:case 9:if(Wn(l)){Xe=0,ct=null,uc(n);break}n=function(){Xe!==2&&Xe!==9||nn!==e||(Xe=7),Tn(e)},l.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Wn(l)?(Xe=0,ct=null,uc(n)):(Xe=0,ct=null,la(e,n,l,7));break;case 5:var d=null;switch(Ae.tag){case 26:d=Ae.memoizedState;case 5:case 27:var v=Ae,O=v.type,$=v.pendingProps;if(d?Gc(d):Rc(v.stateNode,O,$)){Xe=0,ct=null;var oe=v.sibling;if(oe!==null)Ae=oe;else{var K=v.return;K!==null?(Ae=K,Ui(K)):Ae=null}break n}}Xe=0,ct=null,la(e,n,l,5);break;case 6:Xe=0,ct=null,la(e,n,l,6);break;case 8:ul(),dn=6;break e;default:throw Error(c(462))}}Fd();break}catch(se){ac(e,se)}while(!0);return or=Hr=null,ve.H=r,ve.A=i,De=t,Ae!==null?0:(nn=null,Le=0,ta(),dn)}function Fd(){for(;Ae!==null&&!Sh();)sc(Ae)}function sc(e){var n=zu(e.alternate,e,ur);e.memoizedProps=e.pendingProps,n===null?Ui(e):Ae=n}function uc(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=_u(t,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=_u(t,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Dn(n);default:Ou(t,n),n=Ae=yc(n,ur),n=zu(t,n,ur)}e.memoizedProps=e.pendingProps,n===null?Ui(e):Ae=n}function la(e,n,t,r){or=Hr=null,Dn(n),Sa=null,li=0;var i=n.return;try{if(_d(e,i,n,t,Le)){dn=1,Ti(e,ze(t,e.current)),Ae=null;return}}catch(l){if(i!==null)throw Ae=i,l;dn=1,Ti(e,ze(t,e.current)),Ae=null;return}n.flags&32768?(Be||r===1?e=!0:ka||(Le&536870912)!==0?e=!1:(xr=e=!0,(r===2||r===9||r===3||r===6)&&(r=ut.current,r!==null&&r.tag===13&&(r.flags|=16384))),cc(n,e)):Ui(n)}function Ui(e){var n=e;do{if((n.flags&32768)!==0){cc(n,xr);return}e=n.return;var t=Cd(n.alternate,n,ur);if(t!==null){Ae=t;return}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=e}while(n!==null);dn===0&&(dn=5)}function cc(e,n){do{var t=Td(e.alternate,e);if(t!==null){t.flags&=32767,Ae=t;return}if(t=e.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=t}while(e!==null);dn=6,Ae=null}function fc(e,n,t,r,i,l,d,v,O){e.cancelPendingCommit=null;do Ja();while(_n!==0);if((De&6)!==0)throw Error(c(327));if(n!==null){if(n===e.current)throw Error(c(177));if(l=n.lanes|n.childLanes,l|=Ul,V(e,t,l,d,v,O),e===nn&&(Ae=nn=null,Le=0),Ta=n,kr=e,cr=t,Gl=l,Yl=i,uf=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ud(zl,function(){return gc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=ve.T,ve.T=null,i=ir(),Mn(2),d=De,De|=4;try{Id(e,n,t)}finally{De=d,Mn(i),ve.T=r}}_n=1,dc(),pc(),hc()}}function dc(){if(_n===1){_n=0;var e=kr,n=Ta,t=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||t){t=ve.T,ve.T=null;var r=ir();Mn(2);var i=De;De|=4;try{Wu(n,e),Xd(e.containerInfo)}finally{De=i,Mn(r),ve.T=t}}e.current=n,_n=2}}function pc(){if(_n===2){_n=0;var e=kr,n=Ta,t=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||t){t=ve.T,ve.T=null;var r=ir();Mn(2);var i=De;De|=4;try{Hu(e,n.alternate,n)}finally{De=i,Mn(r),ve.T=t}}_n=3}}function hc(){if(_n===4||_n===3){_n=0,wh();var e=kr,n=Ta,t=cr,r=uf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?_n=5:(_n=0,Ta=kr=null,mc(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Mr=null),de(t),n=n.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(ri,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=ve.T,i=ir(),Mn(2),ve.T=null;try{for(var l=e.onRecoverableError,d=0;d<r.length;d++){var v=r[d];l(v.value,{componentStack:v.stack})}}finally{ve.T=n,Mn(i)}}(cr&3)!==0&&Ja(),Tn(e),i=e.pendingLanes,(t&261930)!==0&&(i&42)!==0?e===Xl?pi++:(pi=0,Xl=e):pi=0,Ln&&ih(),Ut(0)}}function mc(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,At(n)))}function Ja(){return dc(),pc(),hc(),gc()}function gc(){if(_n!==5)return!1;var e=kr,n=Gl;Gl=0;var t=de(cr),r=32>t?32:t;t=ve.T;var i=ir();try{Mn(r),ve.T=null,r=Yl,Yl=null;var l=kr,d=cr;if(_n=0,Ta=kr=null,cr=0,(De&6)!==0)throw Error(c(331));var v=De;if(De|=4,Qu(l.current),Gu(l,l.current,d,r),De=v,Ut(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(ri,l)}catch{}return!0}finally{Mn(i),ve.T=t,mc(e,n)}}function vc(e,n,t){n=ze(t,n),n=Ho(e.stateNode,n,2),e=I(e,n,2),e!==null&&(M(e,2),Tn(e))}function Ze(e,n,t){if(e.tag===3)vc(e,e,t);else for(;n!==null;){if(n.tag===3){vc(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){e=ze(t,e),t=gu(2),r=I(n,t,2),r!==null&&(vu(t,r,n,e),M(r,2),Tn(r));break}}n=n.return}}function fl(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new Rh;var i=new Set;r.set(n,i)}else i=r.get(n),i===void 0&&(i=new Set,r.set(n,i));i.has(t)||(Vl=!0,i.add(t),e=Od.bind(null,e,n,t),n.then(e,e))}function Od(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&t,e.warmLanes&=~t,nn===e&&(Le&t)===t&&(dn===4||dn===3&&(Le&62914560)===Le&&300>Yn()-so?(De&2)===0&&oa(e,0):Wl|=t,Ca===Le&&(Ca=0)),Tn(e)}function bc(e,n){n===0&&(n=Q()),e=_e(e,n),e!==null&&(M(e,n),Tn(e))}function Dd(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),bc(e,t)}function Ad(e,n){var t=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(c(314))}r!==null&&r.delete(n),bc(e,t)}function Ud(e,n){return Wi(e,n)}function Ld(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rr(e,n){var t=e.alternate;return t===null?(t=u(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&65011712,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function yc(e,n){e.flags&=65011714;var t=e.alternate;return t===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Li(e,n,t,r,i,l){var d=0;if(r=e,typeof e=="function")dl(e)&&(d=1);else if(typeof e=="string")d=Nt&&xn?Hc(e,t,Nn.current)?26:Qc(e)?27:5:Nt?Hc(e,t,Nn.current)?26:5:xn&&Qc(e)?27:5;else e:switch(e){case El:return e=u(31,t,n,i),e.elementType=El,e.lanes=l,e;case ua:return Lr(t.children,i,l,n);case kc:d=8,i|=24;break;case vl:return e=u(12,t,n,i|2),e.elementType=vl,e.lanes=l,e;case yl:return e=u(13,t,n,i),e.elementType=yl,e.lanes=l,e;case Sl:return e=u(19,t,n,i),e.elementType=Sl,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vr:d=10;break e;case Cc:d=9;break e;case bl:d=11;break e;case wl:d=14;break e;case br:d=16,r=null;break e}d=29,t=Error(c(130,e===null?"null":typeof e,"")),r=null}return n=u(d,t,n,i),n.elementType=e,n.type=r,n.lanes=l,n}function Lr(e,n,t,r){return e=u(7,e,r,n),e.lanes=t,e}function pl(e,n,t){return e=u(6,e,null,n),e.lanes=t,e}function Sc(e){var n=u(18,null,null,0);return n.stateNode=e,n}function hl(e,n,t){return n=u(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function jd(e,n,t,r,i,l,d,v,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=jr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=R(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R(0),this.hiddenUpdates=R(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=l,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function wc(e,n,t,r,i,l,d,v,O,$,oe,K){return e=new jd(e,n,t,d,O,$,oe,K,v),n=1,l===!0&&(n|=24),l=u(3,null,null,n),e.current=l,l.stateNode=e,n=Rr(),n.refCount++,e.pooledCache=n,n.refCount++,l.memoizedState={element:r,isDehydrated:t,cache:n},f(l),e}function Ec(e){return e?(e=pa,e):pa}function xc(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=g(n),e=e!==null?m(e):null,e===null?null:ei(e.stateNode)}function _c(e,n,t,r,i,l){i=Ec(i),r.context===null?r.context=i:r.pendingContext=i,r=b(n),r.payload={element:t},l=l===void 0?null:l,l!==null&&(r.callback=l),t=I(e,r,n),t!==null&&(Gn(t,e,n),A(t,e,n))}function Mc(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function ml(e,n){Mc(e,n),(e=e.alternate)&&Mc(e,n)}var Oe={},Bd=Nf,it=_m,gl=Object.assign,Hd=Symbol.for("react.element"),ji=Symbol.for("react.transitional.element"),sa=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),kc=Symbol.for("react.strict_mode"),vl=Symbol.for("react.profiler"),Cc=Symbol.for("react.consumer"),vr=Symbol.for("react.context"),bl=Symbol.for("react.forward_ref"),yl=Symbol.for("react.suspense"),Sl=Symbol.for("react.suspense_list"),wl=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),El=Symbol.for("react.activity"),Zd=Symbol.for("react.memo_cache_sentinel"),Tc=Symbol.iterator,$d=Symbol.for("react.client.reference"),Bi=Array.isArray,ve=Bd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vd=a.rendererVersion,Wd=a.rendererPackageName,Ic=a.extraDevToolsConfig,ei=a.getPublicInstance,qd=a.getRootHostContext,Gd=a.getChildHostContext,Yd=a.prepareForCommit,Xd=a.resetAfterCommit,Qd=a.createInstance;a.cloneMutableInstance;var xl=a.appendInitialChild,zc=a.finalizeInitialChildren,Hi=a.shouldSetTextContent,Nc=a.createTextInstance;a.cloneMutableTextInstance;var Kd=a.scheduleTimeout,Jd=a.cancelTimeout,jr=a.noTimeout,ar=a.isPrimaryRenderer;a.warnsIfNotActing;var Un=a.supportsMutation,$t=a.supportsPersistence,Ln=a.supportsHydration,ep=a.getInstanceFromNode;a.beforeActiveInstanceBlur;var np=a.preparePortalMount;a.prepareScopeUpdate,a.getInstanceFromScope;var Mn=a.setCurrentUpdatePriority,ir=a.getCurrentUpdatePriority,tp=a.resolveUpdatePriority;a.trackSchedulerEvent,a.resolveEventType,a.resolveEventTimeStamp;var rp=a.shouldAttemptEagerTransition,ap=a.detachDeletedInstance;a.requestPostPaintCallback;var ip=a.maySuspendCommit,op=a.maySuspendCommitOnUpdate,_l=a.maySuspendCommitInSyncRender,Rc=a.preloadInstance,lp=a.startSuspendingCommit,Pc=a.suspendInstance;a.suspendOnActiveViewTransition;var sp=a.waitForCommitToBeReady;a.getSuspendedCommitReason;var ca=a.NotPendingTransition,Br=a.HostTransitionContext,up=a.resetFormInstance;a.bindToConsole;var cp=a.supportsMicrotasks,fp=a.scheduleMicrotask,ni=a.supportsTestSelectors,dp=a.findFiberRoot,pp=a.getBoundingRect,hp=a.getTextContent,ti=a.isHiddenSubtree,mp=a.matchAccessibilityRole,gp=a.setFocusIfFocusable,vp=a.setupIntersectionObserver,bp=a.appendChild,yp=a.appendChildToContainer,Sp=a.commitTextUpdate,wp=a.commitMount,Ep=a.commitUpdate,xp=a.insertBefore,_p=a.insertInContainerBefore,Mp=a.removeChild,kp=a.removeChildFromContainer,Fc=a.resetTextContent,Cp=a.hideInstance,Tp=a.hideTextInstance,Ip=a.unhideInstance,zp=a.unhideTextInstance;a.cancelViewTransitionName,a.cancelRootViewTransitionName,a.restoreRootViewTransitionName,a.cloneRootViewTransitionContainer,a.removeRootViewTransitionClone,a.measureClonedInstance,a.hasInstanceChanged,a.hasInstanceAffectedParent,a.startViewTransition,a.startGestureTransition,a.stopViewTransition,a.getCurrentGestureOffset,a.createViewTransitionInstance;var Np=a.clearContainer;a.createFragmentInstance,a.updateFragmentInstanceFiber,a.commitNewChildToFragmentInstance,a.deleteChildFromFragmentInstance;var Rp=a.cloneInstance,Oc=a.createContainerChildSet,Dc=a.appendChildToContainerChildSet,Pp=a.finalizeContainerChildren,Ac=a.replaceContainerChildren,Uc=a.cloneHiddenInstance,Lc=a.cloneHiddenTextInstance,Ml=a.isSuspenseInstancePending,kl=a.isSuspenseInstanceFallback,Fp=a.getSuspenseInstanceFallbackErrorDetails,Op=a.registerSuspenseInstanceRetry,Dp=a.canHydrateFormStateMarker,Ap=a.isFormStateMarkerMatching,jc=a.getNextHydratableSibling,Up=a.getNextHydratableSiblingAfterSingleton,Lp=a.getFirstHydratableChild,jp=a.getFirstHydratableChildWithinContainer,Bp=a.getFirstHydratableChildWithinActivityInstance,Hp=a.getFirstHydratableChildWithinSuspenseInstance,Zp=a.getFirstHydratableChildWithinSingleton,$p=a.canHydrateInstance,Vp=a.canHydrateTextInstance,Wp=a.canHydrateActivityInstance,qp=a.canHydrateSuspenseInstance,Gp=a.hydrateInstance,Yp=a.hydrateTextInstance,Xp=a.hydrateActivityInstance,Qp=a.hydrateSuspenseInstance,Kp=a.getNextHydratableInstanceAfterActivityInstance,Jp=a.getNextHydratableInstanceAfterSuspenseInstance,eh=a.commitHydratedInstance,nh=a.commitHydratedContainer,th=a.commitHydratedActivityInstance,rh=a.commitHydratedSuspenseInstance,ah=a.finalizeHydratedChildren,ih=a.flushHydrationEvents;a.clearActivityBoundary;var oh=a.clearSuspenseBoundary;a.clearActivityBoundaryFromContainer;var lh=a.clearSuspenseBoundaryFromContainer,sh=a.hideDehydratedBoundary,uh=a.unhideDehydratedBoundary,Bc=a.shouldDeleteUnhydratedTailInstances;a.diffHydratedPropsForDevWarnings,a.diffHydratedTextForDevWarnings,a.describeHydratableInstanceForDevWarnings;var ch=a.validateHydratableInstance,fh=a.validateHydratableTextInstance,Nt=a.supportsResources,Hc=a.isHostHoistableType,Cl=a.getHoistableRoot,Zc=a.getResource,$c=a.acquireResource,Vc=a.releaseResource,dh=a.hydrateHoistable,Wc=a.mountHoistable,qc=a.unmountHoistable,ph=a.createHoistableInstance,hh=a.prepareToCommitHoistables,mh=a.mayResourceSuspendCommit,Gc=a.preloadResource,gh=a.suspendResource,xn=a.supportsSingletons,Yc=a.resolveSingletonInstance,vh=a.acquireSingletonInstance,Xc=a.releaseSingletonInstance,Qc=a.isHostSingletonType,fa=a.isSingletonScope,Tl=[],da=-1,pa={},ot=Math.clz32?Math.clz32:H,bh=Math.log,yh=Math.LN2,Zi=256,$i=262144,Vi=4194304,Wi=it.unstable_scheduleCallback,Il=it.unstable_cancelCallback,Sh=it.unstable_shouldYield,wh=it.unstable_requestPaint,Yn=it.unstable_now,Kc=it.unstable_ImmediatePriority,Eh=it.unstable_UserBlockingPriority,zl=it.unstable_NormalPriority,xh=it.unstable_IdlePriority,_h=it.log,Mh=it.unstable_setDisableYieldValue,ri=null,lt=null,st=typeof Object.is=="function"?Object.is:ne,Jc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof Ql=="object"&&typeof Ql.emit=="function"){Ql.emit("uncaughtException",e);return}console.error(e)},kh=Object.prototype.hasOwnProperty,Nl,ef,Rl=!1,nf=new WeakMap,ha=[],ma=0,qi=null,ai=0,gt=[],vt=0,yr=null,Vt=1,Wt="",Nn=T(null),ii=T(null),Sr=T(null),Gi=T(null),Rn=null,un=null,Be=!1,wr=null,bt=!1,Pl=Error(c(519)),Yi=T(null),Hr=null,or=null,Ch=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(t){return t()})}},Th=it.unstable_scheduleCallback,Ih=it.unstable_NormalPriority,cn={$$typeof:vr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Xi=null,ga=null,Fl=!1,Qi=!1,Ol=!1,Zr=0,oi=null,Dl=0,va=0,ba=null,tf=ve.S;ve.S=function(e,n){sf=Yn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ue(e,n),tf!==null&&tf(e,n)};var $r=T(null),ya=Error(c(460)),Al=Error(c(474)),Ki=Error(c(542)),Ji={then:function(){}},Vr=null,Sa=null,li=0,Wr=Or(!0),rf=Or(!1),yt=[],wa=0,Ul=0,Er=!1,Ll=!1,Ea=T(null),eo=T(0),ut=T(null),Rt=null,pn=T(0),lr=0,Te=null,Je=null,gn=null,no=!1,xa=!1,qr=!1,to=0,si=0,_a=null,zh=0,ui={readContext:on,use:In,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce};ui.useEffectEvent=Ce;var af={readContext:on,use:In,useCallback:function(e,n){return Me().memoizedState=[e,n===void 0?null:n],e},useContext:on,useEffect:Qs,useImperativeHandle:function(e,n,t){t=t!=null?t.concat([e]):null,Mi(4194308,4,nu.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Mi(4194308,4,e,n)},useInsertionEffect:function(e,n){Mi(4,2,e,n)},useMemo:function(e,n){var t=Me();n=n===void 0?null:n;var r=e();if(qr){G(!0);try{e()}finally{G(!1)}}return t.memoizedState=[r,n],r},useReducer:function(e,n,t){var r=Me();if(t!==void 0){var i=t(n);if(qr){G(!0);try{t(n)}finally{G(!1)}}}else i=n;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=xd.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var n=Me();return e={current:e},n.memoizedState=e},useState:function(e){e=Fo(e);var n=e.queue,t=cu.bind(null,Te,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:Ao,useDeferredValue:function(e,n){var t=Me();return Uo(t,e,n)},useTransition:function(){var e=Fo(!1);return e=ou.bind(null,Te,e.queue,!0,!1),Me().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,t){var r=Te,i=Me();if(Be){if(t===void 0)throw Error(c(407));t=t()}else{if(t=n(),nn===null)throw Error(c(349));(Le&127)!==0||Os(r,n,t)}i.memoizedState=t;var l={value:t,getSnapshot:n};return i.queue=l,Qs(As.bind(null,r,l,e),[e]),r.flags|=2048,aa(9,{destroy:void 0},Ds.bind(null,r,l,t,n),null),t},useId:function(){var e=Me(),n=nn.identifierPrefix;if(Be){var t=Wt,r=Vt;t=(r&~(1<<32-ot(r)-1)).toString(32)+t,n="_"+n+"R_"+t,t=to++,0<t&&(n+="H"+t.toString(32)),n+="_"}else t=zh++,n="_"+n+"r_"+t.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Lo,useFormState:Ws,useActionState:Ws,useOptimistic:function(e){var n=Me();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=jo.bind(null,Te,!0,t),t.dispatch=n,[e,n]},useMemoCache:Ct,useCacheRefresh:function(){return Me().memoizedState=Ed.bind(null,Te)},useEffectEvent:function(e){var n=Me(),t={impl:e};return n.memoizedState=t,function(){if((De&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}},jl={readContext:on,use:In,useCallback:ru,useContext:on,useEffect:Do,useImperativeHandle:tu,useInsertionEffect:Js,useLayoutEffect:eu,useMemo:au,useReducer:rt,useRef:Xs,useState:function(){return rt(sn)},useDebugValue:Ao,useDeferredValue:function(e,n){var t=Pe();return iu(t,Je.memoizedState,e,n)},useTransition:function(){var e=rt(sn)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:je(e),n]},useSyncExternalStore:Fs,useId:su,useHostTransitionStatus:Lo,useFormState:qs,useActionState:qs,useOptimistic:function(e,n){var t=Pe();return js(t,Je,e,n)},useMemoCache:Ct,useCacheRefresh:uu};jl.useEffectEvent=Ks;var of={readContext:on,use:In,useCallback:ru,useContext:on,useEffect:Do,useImperativeHandle:tu,useInsertionEffect:Js,useLayoutEffect:eu,useMemo:au,useReducer:Po,useRef:Xs,useState:function(){return Po(sn)},useDebugValue:Ao,useDeferredValue:function(e,n){var t=Pe();return Je===null?Uo(t,e,n):iu(t,Je.memoizedState,e,n)},useTransition:function(){var e=Po(sn)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:je(e),n]},useSyncExternalStore:Fs,useId:su,useHostTransitionStatus:Lo,useFormState:Ys,useActionState:Ys,useOptimistic:function(e,n){var t=Pe();return Je!==null?js(t,Je,e,n):(t.baseState=e,[e,t.queue.dispatch])},useMemoCache:Ct,useCacheRefresh:uu};of.useEffectEvent=Ks;var Bl={enqueueSetState:function(e,n,t){e=e._reactInternals;var r=at(),i=b(r);i.payload=n,t!=null&&(i.callback=t),n=I(e,i,r),n!==null&&(Gn(n,e,r),A(n,e,r))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=at(),i=b(r);i.tag=1,i.payload=n,t!=null&&(i.callback=t),n=I(e,i,r),n!==null&&(Gn(n,e,r),A(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=at(),r=b(t);r.tag=2,n!=null&&(r.callback=n),n=I(e,r,t),n!==null&&(Gn(n,e,t),A(n,e,t))}},Hl=Error(c(461)),vn=!1,Zl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},sr=!1,bn=!1,$l=!1,lf=typeof WeakSet=="function"?WeakSet:Set,kn=null,yn=null,Xn=!1,Pt=null,Ma=8192,Nh={getCacheForType:function(e){var n=on(cn),t=n.data.get(e);return t===void 0&&(t=e(),n.data.set(e,t)),t},cacheSignal:function(){return on(cn).controller.signal}},ro=0,ao=1,io=2,oo=3,lo=4;if(typeof Symbol=="function"&&Symbol.for){var ci=Symbol.for;ro=ci("selector.component"),ao=ci("selector.has_pseudo_class"),io=ci("selector.role"),oo=ci("selector.test_id"),lo=ci("selector.text")}var Rh=typeof WeakMap=="function"?WeakMap:Map,De=0,nn=null,Ae=null,Le=0,Xe=0,ct=null,xr=!1,ka=!1,Vl=!1,ur=0,dn=0,_r=0,Gr=0,Wl=0,ft=0,Ca=0,fi=null,Qn=null,ql=!1,so=0,sf=0,di=1/0,uo=null,Mr=null,_n=0,kr=null,Ta=null,cr=0,Gl=0,Yl=null,uf=null,pi=0,Xl=null;return Oe.attemptContinuousHydration=function(e){if(e.tag===13||e.tag===31){var n=_e(e,67108864);n!==null&&Gn(n,e,67108864),ml(e,67108864)}},Oe.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13||e.tag===31){var n=at();n=le(n);var t=_e(e,n);t!==null&&Gn(t,e,n),ml(e,n)}},Oe.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if(e=e.stateNode,e.current.memoizedState.isDehydrated){var n=B(e.pendingLanes);if(n!==0){for(e.pendingLanes|=2,e.entangledLanes|=2;n;){var t=1<<31-ot(n);e.entanglements[1]|=t,n&=~t}Tn(e),(De&6)===0&&(di=Yn()+500,Ut(0))}}break;case 31:case 13:n=_e(e,2),n!==null&&Gn(n,e,2),rc(),ml(e,2)}},Oe.batchedUpdates=function(e,n){return e(n)},Oe.createComponentSelector=function(e){return{$$typeof:ro,value:e}},Oe.createContainer=function(e,n,t,r,i,l,d,v,O,$){return wc(e,n,!1,null,t,r,l,null,d,v,O,$)},Oe.createHasPseudoClassSelector=function(e){return{$$typeof:ao,value:e}},Oe.createHydrationContainer=function(e,n,t,r,i,l,d,v,O,$,oe,K,se,ke){var Sn;return e=wc(t,r,!0,e,i,l,v,ke,O,$,oe,K),e.context=Ec(null),t=e.current,r=at(),r=le(r),i=b(r),i.callback=(Sn=n)!=null?Sn:null,I(t,i,r),n=r,e.current.lanes=n,M(e,n),Tn(e),e},Oe.createPortal=function(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sa,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}},Oe.createRoleSelector=function(e){return{$$typeof:io,value:e}},Oe.createTestNameSelector=function(e){return{$$typeof:oo,value:e}},Oe.createTextSelector=function(e){return{$$typeof:lo,value:e}},Oe.defaultOnCaughtError=function(e){console.error(e)},Oe.defaultOnRecoverableError=function(e){Jc(e)},Oe.defaultOnUncaughtError=function(e){Jc(e)},Oe.deferredUpdates=function(e){var n=ve.T,t=ir();try{return Mn(32),ve.T=null,e()}finally{Mn(t),ve.T=n}},Oe.discreteUpdates=function(e,n,t,r,i){var l=ve.T,d=ir();try{return Mn(2),ve.T=null,e(n,t,r,i)}finally{Mn(d),ve.T=l,De===0&&(di=Yn()+500)}},Oe.findAllNodes=sl,Oe.findBoundingRects=function(e,n){if(!ni)throw Error(c(363));n=sl(e,n),e=[];for(var t=0;t<n.length;t++)e.push(pp(n[t]));for(n=e.length-1;0<n;n--){t=e[n];for(var r=t.x,i=r+t.width,l=t.y,d=l+t.height,v=n-1;0<=v;v--)if(n!==v){var O=e[v],$=O.x,oe=$+O.width,K=O.y,se=K+O.height;if(r>=$&&l>=K&&i<=oe&&d<=se){e.splice(n,1);break}else if(r!==$||t.width!==O.width||se<l||K>d){if(!(l!==K||t.height!==O.height||oe<r||$>i)){$>r&&(O.width+=$-r,O.x=r),oe<i&&(O.width=i-$),e.splice(n,1);break}}else{K>l&&(O.height+=K-l,O.y=l),se<d&&(O.height=d-K),e.splice(n,1);break}}}return e},Oe.findHostInstance=xc,Oe.findHostInstanceWithNoPortals=function(e){return e=g(e),e=e!==null?y(e):null,e===null?null:ei(e.stateNode)},Oe.findHostInstanceWithWarning=function(e){return xc(e)},Oe.flushPassiveEffects=Ja,Oe.flushSyncFromReconciler=function(e){var n=De;De|=1;var t=ve.T,r=ir();try{if(Mn(2),ve.T=null,e)return e()}finally{Mn(r),ve.T=t,De=n,(De&6)===0&&Ut(0)}},Oe.flushSyncWork=rc,Oe.focusWithin=function(e,n){if(!ni)throw Error(c(363));for(e=il(e),n=Ju(e,n),n=Array.from(n),e=0;e<n.length;){var t=n[e++],r=t.tag;if(!ti(t)){if((r===5||r===26||r===27)&&gp(t.stateNode))return!0;for(t=t.child;t!==null;)n.push(t),t=t.sibling}}return!1},Oe.getFindAllNodesFailureDescription=function(e,n){if(!ni)throw Error(c(363));var t=0,r=[];e=[il(e),0];for(var i=0;i<e.length;){var l=e[i++],d=l.tag,v=e[i++],O=n[v];if((d!==5&&d!==26&&d!==27||!ti(l))&&(ol(l,O)&&(r.push(ll(O)),v++,v>t&&(t=v)),v<n.length))for(l=l.child;l!==null;)e.push(l,v),l=l.sibling}if(t<n.length){for(e=[];t<n.length;t++)e.push(ll(n[t]));return`findAllNodes was able to match part of the selector:
  `+(r.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},Oe.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 27:case 5:return ei(e.child.stateNode);default:return e.child.stateNode}},Oe.injectIntoDevTools=function(){var e={bundleType:0,version:Vd,rendererPackageName:Wd,currentDispatcherRef:ve,reconcilerVersion:"19.2.0"};if(Ic!==null&&(e.rendererConfig=Ic),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)e=!0;else{try{ri=n.inject(e),lt=n}catch{}e=!!n.checkDCE}}return e},Oe.isAlreadyRendering=function(){return(De&6)!==0},Oe.observeVisibleRects=function(e,n,t,r){if(!ni)throw Error(c(363));e=sl(e,n);var i=vp(e,t,r).disconnect;return{disconnect:function(){i()}}},Oe.shouldError=function(){return null},Oe.shouldSuspend=function(){return!1},Oe.startHostTransition=function(e,n,t,r){if(e.tag!==5)throw Error(c(476));var i=lu(e).queue;ou(e,i,n,ca,t===null?s:function(){var l=lu(e);return l.next===null&&(l=e.alternate.memoizedState),Wa(e,l.next.queue,{},at()),t(r)})},Oe.updateContainer=function(e,n,t,r){var i=n.current,l=at();return _c(i,l,e,n,t,r),l},Oe.updateContainerSync=function(e,n,t,r){return _c(n.current,2,e,n,t,r),2},Oe},o.exports.default=o.exports,Object.defineProperty(o.exports,"__esModule",{value:!0})})(Sf)),Sf.exports}var Ef;function Km(){return Ef||(Ef=1,yf.exports=Qm()),yf.exports}var Jm=Km();const eg=Xm(Jm);function ng(o){const a=eg(o);return a.injectIntoDevTools(),a}const Xf=0,Ba={},tg=/^three(?=[A-Z])/,zo=o=>`${o[0].toUpperCase()}${o.slice(1)}`;let rg=0;const ag=o=>typeof o=="function";function Ms(o){if(ag(o)){const a=`${rg++}`;return Ba[a]=o,a}else Object.assign(Ba,o)}function Qf(o,a){const u=zo(o),s=Ba[u];if(o!=="primitive"&&!s)throw new Error(`R3F: ${u} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(o==="primitive"&&!a.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(a.args!==void 0&&!Array.isArray(a.args))throw new Error("R3F: The args prop must be an array!")}function ig(o,a,u){var s;return o=zo(o)in Ba?o:o.replace(tg,""),Qf(o,a),o==="primitive"&&(s=a.object)!=null&&s.__r3f&&delete a.object.__r3f,xo(a.object,u,o,a)}function og(o){if(!o.isHidden){var a;o.props.attach&&(a=o.parent)!=null&&a.object?Mo(o.parent,o):$n(o.object)&&(o.object.visible=!1),o.isHidden=!0,Ha(o)}}function Kf(o){if(o.isHidden){var a;o.props.attach&&(a=o.parent)!=null&&a.object?_o(o.parent,o):$n(o.object)&&o.props.visible!==!1&&(o.object.visible=!0),o.isHidden=!1,Ha(o)}}function ks(o,a,u){const s=a.root.getState();if(!(!o.parent&&o.object!==s.scene)){if(!a.object){var c,h;const S=Ba[zo(a.type)];a.object=(c=a.props.object)!=null?c:new S(...(h=a.props.args)!=null?h:[]),a.object.__r3f=a}if(qt(a.object,a.props),a.props.attach)_o(o,a);else if($n(a.object)&&$n(o.object)){const S=o.object.children.indexOf(u?.object);if(u&&S!==-1){const g=o.object.children.indexOf(a.object);if(g!==-1){o.object.children.splice(g,1);const m=g<S?S-1:S;o.object.children.splice(m,0,a.object)}else a.object.parent=o.object,o.object.children.splice(S,0,a.object),a.object.dispatchEvent({type:"added"}),o.object.dispatchEvent({type:"childadded",child:a.object})}else o.object.add(a.object)}for(const S of a.children)ks(a,S);Ha(a)}}function es(o,a){a&&(a.parent=o,o.children.push(a),ks(o,a))}function xf(o,a,u){if(!a||!u)return;a.parent=o;const s=o.children.indexOf(u);s!==-1?o.children.splice(s,0,a):o.children.push(a),ks(o,a,u)}function Jf(o){if(typeof o.dispose=="function"){const a=()=>{try{o.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?a():us.unstable_scheduleCallback(us.unstable_IdlePriority,a)}}function fs(o,a,u){if(!a)return;a.parent=null;const s=o.children.indexOf(a);s!==-1&&o.children.splice(s,1),a.props.attach?Mo(o,a):$n(a.object)&&$n(o.object)&&(o.object.remove(a.object),Bm(Zf(a),a.object));const c=a.props.dispose!==null&&u!==!1;for(let h=a.children.length-1;h>=0;h--){const S=a.children[h];fs(a,S,c)}a.children.length=0,delete a.object.__r3f,c&&a.type!=="primitive"&&a.object.type!=="Scene"&&Jf(a.object),u===void 0&&Ha(a)}function lg(o,a){for(const u of[o,o.alternate])if(u!==null)if(typeof u.ref=="function"){u.refCleanup==null||u.refCleanup();const s=u.ref(a);typeof s=="function"&&(u.refCleanup=s)}else u.ref&&(u.ref.current=a)}const yo=[];function sg(){for(const[u]of yo){const s=u.parent;if(s){u.props.attach?Mo(s,u):$n(u.object)&&$n(s.object)&&s.object.remove(u.object);for(const c of u.children)c.props.attach?Mo(u,c):$n(c.object)&&$n(u.object)&&u.object.remove(c.object)}u.isHidden&&Kf(u),u.object.__r3f&&delete u.object.__r3f,u.type!=="primitive"&&Jf(u.object)}for(const[u,s,c]of yo){u.props=s;const h=u.parent;if(h){var o,a;const S=Ba[zo(u.type)];u.object=(o=u.props.object)!=null?o:new S(...(a=u.props.args)!=null?a:[]),u.object.__r3f=u,lg(c,u.object),qt(u.object,u.props),u.props.attach?_o(h,u):$n(u.object)&&$n(h.object)&&h.object.add(u.object);for(const g of u.children)g.props.attach?_o(u,g):$n(g.object)&&$n(u.object)&&u.object.add(g.object);Ha(u)}}yo.length=0}const ns=()=>{},_f={};let fo=Xf;const ug=0,cg=4,ko=ng({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:ig,removeChild:fs,appendChild:es,appendInitialChild:es,insertBefore:xf,appendChildToContainer(o,a){const u=o.getState().scene.__r3f;!a||!u||es(u,a)},removeChildFromContainer(o,a){const u=o.getState().scene.__r3f;!a||!u||fs(u,a)},insertInContainerBefore(o,a,u){const s=o.getState().scene.__r3f;!a||!u||!s||xf(s,a,u)},getRootHostContext:()=>_f,getChildHostContext:()=>_f,commitUpdate(o,a,u,s,c){var h,S,g;Qf(a,s);let m=!1;if((o.type==="primitive"&&u.object!==s.object||((h=s.args)==null?void 0:h.length)!==((S=u.args)==null?void 0:S.length)||(g=s.args)!=null&&g.some((w,C)=>{var T;return w!==((T=u.args)==null?void 0:T[C])}))&&(m=!0),m)yo.push([o,{...s},c]);else{const w=Um(o,s);Object.keys(w).length&&(Object.assign(o.props,w),qt(o.object,w))}(c.sibling===null||(c.flags&cg)===ug)&&sg()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:o=>o?.object,prepareForCommit:()=>null,preparePortalMount:o=>xo(o.getState().scene,o,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:og,unhideInstance:Kf,createTextInstance:ns,hideTextInstance:ns,unhideTextInstance:ns,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:k.createContext(null),setCurrentUpdatePriority(o){fo=o},getCurrentUpdatePriority(){return fo},resolveUpdatePriority(){var o;if(fo!==Xf)return fo;switch(typeof window<"u"&&((o=window.event)==null?void 0:o.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Gm;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Wm;default:return qm}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:Ym.version,applyViewTransitionName(o,a,u){},restoreViewTransitionName(o,a){},cancelViewTransitionName(o,a,u){},cancelRootViewTransitionName(o){},restoreRootViewTransitionName(o){},InstanceMeasurement:null,measureInstance:o=>null,wasInstanceInViewport:o=>!0,hasInstanceChanged:(o,a)=>!1,hasInstanceAffectedParent:(o,a)=>!1,suspendOnActiveViewTransition(o,a){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(o){},createViewTransitionInstance:o=>null,getCurrentGestureOffset(o){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(o,a){return o},cloneMutableTextInstance(o){return o},cloneRootViewTransitionContainer(o){throw new Error("Not implemented.")},removeRootViewTransitionClone(o,a){throw new Error("Not implemented.")},createFragmentInstance:o=>null,updateFragmentInstanceFiber(o,a){},commitNewChildToFragmentInstance(o,a){},deleteChildFromFragmentInstance(o,a){},measureClonedInstance:o=>null,maySuspendCommitOnUpdate:(o,a,u)=>!1,maySuspendCommitInSyncRender:(o,a)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(o,a)=>null}),Kr=new Map,Ra={objects:"shallow",strict:!1};function fg(o,a){if(!a&&typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement&&o.parentElement){const{width:u,height:s,top:c,left:h}=o.parentElement.getBoundingClientRect();return{width:u,height:s,top:c,left:h}}else if(!a&&typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas)return{width:o.width,height:o.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...a}}function dg(o){const a=Kr.get(o),u=a?.fiber,s=a?.store;a&&console.warn("R3F.createRoot should only be called once!");const c=typeof reportError=="function"?reportError:console.error,h=s||Zm(hs,kf),S=u||ko.createContainer(h,Vm,null,!1,null,"",c,c,c,null);a||Kr.set(o,{fiber:S,store:h});let g,m,y=!1,w=null;return{async configure(C={}){let T;w=new Promise(ye=>T=ye);let{gl:P,size:L,scene:H,events:B,onCreated:N,shadows:_=!1,linear:X=!1,flat:Q=!1,legacy:R=!1,orthographic:M=!1,frameloop:V="always",dpr:D=[1,2],performance:j,raycaster:Z,camera:le,onPointerMissed:de}=C,G=h.getState(),ne=G.gl;if(!G.gl){const ye={canvas:o,powerPreference:"high-performance",antialias:!0,alpha:!0},me=typeof P=="function"?await P(ye):P;vf(me)?ne=me:ne=new Rf({...ye,...P}),G.set({gl:ne})}let pe=G.raycaster;pe||G.set({raycaster:pe=new Pf});const{params:he,...Qe}=Z||{};if(ln.equ(Qe,pe,Ra)||qt(pe,{...Qe}),ln.equ(he,pe.params,Ra)||qt(pe,{params:{...pe.params,...he}}),!G.camera||G.camera===m&&!ln.equ(m,le,Ra)){m=le;const ye=le?.isCamera,me=ye?le:M?new vi(0,0,0,0,.1,1e3):new go(75,0,.1,1e3);ye||(me.position.z=5,le&&(qt(me,le),me.manual||("aspect"in le||"left"in le||"right"in le||"bottom"in le||"top"in le)&&(me.manual=!0,me.updateProjectionMatrix())),!G.camera&&!(le!=null&&le.rotation)&&me.lookAt(0,0,0)),G.set({camera:me}),pe.camera=me}if(!G.scene){let ye;H!=null&&H.isScene?(ye=H,xo(ye,h,"",{})):(ye=new vs,xo(ye,h,"",{}),H&&qt(ye,H)),G.set({scene:ye})}B&&!G.events.handlers&&G.set({events:B(h)});const qe=fg(o,L);if(ln.equ(qe,G.size,Ra)||G.setSize(qe.width,qe.height,qe.top,qe.left),D&&G.viewport.dpr!==Vf(D)&&G.setDpr(D),G.frameloop!==V&&G.setFrameloop(V),G.onPointerMissed||G.set({onPointerMissed:de}),j&&!ln.equ(j,G.performance,Ra)&&G.set(ye=>({performance:{...ye.performance,...j}})),!G.xr){var ze;const ye=(He,Fn)=>{const Ne=h.getState();Ne.frameloop!=="never"&&kf(He,!0,Ne,Fn)},me=()=>{const He=h.getState();He.gl.xr.enabled=He.gl.xr.isPresenting,He.gl.xr.setAnimationLoop(He.gl.xr.isPresenting?ye:null),He.gl.xr.isPresenting||hs(He)},Fe={connect(){const He=h.getState().gl;He.xr.addEventListener("sessionstart",me),He.xr.addEventListener("sessionend",me)},disconnect(){const He=h.getState().gl;He.xr.removeEventListener("sessionstart",me),He.xr.removeEventListener("sessionend",me)}};typeof((ze=ne.xr)==null?void 0:ze.addEventListener)=="function"&&Fe.connect(),G.set({xr:Fe})}if(ne.shadowMap){const ye=ne.shadowMap.enabled,me=ne.shadowMap.type;if(ne.shadowMap.enabled=!!_,ln.boo(_))ne.shadowMap.type=Kl;else if(ln.str(_)){var Se;const Fe={basic:Lh,percentage:Uh,soft:Kl,variance:Ah};ne.shadowMap.type=(Se=Fe[_])!=null?Se:Kl}else ln.obj(_)&&Object.assign(ne.shadowMap,_);(ye!==ne.shadowMap.enabled||me!==ne.shadowMap.type)&&(ne.shadowMap.needsUpdate=!0)}return Zh.enabled=!R,y||(ne.outputColorSpace=X?So:bs,ne.toneMapping=Q?jh:Bh),G.legacy!==R&&G.set(()=>({legacy:R})),G.linear!==X&&G.set(()=>({linear:X})),G.flat!==Q&&G.set(()=>({flat:Q})),P&&!ln.fun(P)&&!vf(P)&&!ln.equ(P,ne,Ra)&&qt(ne,P),g=N,y=!0,T(),this},render(C){return!y&&!w&&this.configure(),w.then(()=>{ko.updateContainer(Pn.jsx(pg,{store:h,children:C,onCreated:g,rootElement:o}),S,null,()=>{})}),h},unmount(){ed(o)}}}function pg({store:o,children:a,onCreated:u,rootElement:s}){return xi(()=>{const c=o.getState();c.set(h=>({internal:{...h.internal,active:!0}})),u&&u(c),o.getState().events.connected||c.events.connect==null||c.events.connect(s)},[]),Pn.jsx(xs.Provider,{value:o,children:a})}function ed(o,a){const u=Kr.get(o),s=u?.fiber;if(s){const c=u?.store.getState();c&&(c.internal.active=!1),ko.updateContainer(null,s,null,()=>{c&&setTimeout(()=>{try{var h,S,g,m;c.events.disconnect==null||c.events.disconnect(),(h=c.gl)==null||(S=h.renderLists)==null||S.dispose==null||S.dispose(),(g=c.gl)==null||g.forceContextLoss==null||g.forceContextLoss(),(m=c.gl)!=null&&m.xr&&c.xr.disconnect(),Om(c.scene),Kr.delete(o)}catch{}},500)})}}function hg(o,a,u){return Pn.jsx(mg,{children:o,container:a,state:u})}function mg({state:o={},children:a,container:u}){const{events:s,size:c,...h}=o,S=_s(),[g]=k.useState(()=>new Pf),[m]=k.useState(()=>new dt),y=Es((C,T)=>{let P;if(T.camera&&c){const L=T.camera;P=C.viewport.getCurrentViewport(L,new Re,c),L!==C.camera&&qf(L,c)}return{...C,...T,scene:u,raycaster:g,pointer:m,mouse:m,previousRoot:S,events:{...C.events,...T.events,...s},size:{...C.size,...c},viewport:{...C.viewport,...P},setEvents:L=>T.set(H=>({...H,events:{...H.events,...L}}))}}),w=k.useMemo(()=>{const C=Af((P,L)=>({...h,set:P,get:L})),T=P=>C.setState(L=>y.current(P,L));return T(S.getState()),S.subscribe(T),C},[S,u]);return Pn.jsx(Pn.Fragment,{children:ko.createPortal(Pn.jsx(xs.Provider,{value:w,children:a}),w,null)})}const gg=new Set,vg=new Set,bg=new Set;function ts(o,a){if(o.size)for(const{callback:u}of o.values())u(a)}function yi(o,a){switch(o){case"before":return ts(gg,a);case"after":return ts(vg,a);case"tail":return ts(bg,a)}}let rs,as;function ds(o,a,u){let s=a.clock.getDelta();a.frameloop==="never"&&typeof o=="number"&&(s=o-a.clock.elapsedTime,a.clock.oldTime=a.clock.elapsedTime,a.clock.elapsedTime=o),rs=a.internal.subscribers;for(let c=0;c<rs.length;c++)as=rs[c],as.ref.current(as.store.getState(),s,u);return!a.internal.priority&&a.gl.render&&a.gl.render(a.scene,a.camera),a.internal.frames=Math.max(0,a.internal.frames-1),a.frameloop==="always"?1:a.internal.frames}let Co=!1,ps=!1,is,Mf,Pa;function nd(o){Mf=requestAnimationFrame(nd),Co=!0,is=0,yi("before",o),ps=!0;for(const u of Kr.values()){var a;Pa=u.store.getState(),Pa.internal.active&&(Pa.frameloop==="always"||Pa.internal.frames>0)&&!((a=Pa.gl.xr)!=null&&a.isPresenting)&&(is+=ds(o,Pa))}if(ps=!1,yi("after",o),is===0)return yi("tail",o),Co=!1,cancelAnimationFrame(Mf)}function hs(o,a=1){var u;if(!o)return Kr.forEach(s=>hs(s.store.getState(),a));(u=o.gl.xr)!=null&&u.isPresenting||!o.internal.active||o.frameloop==="never"||(a>1?o.internal.frames=Math.min(60,o.internal.frames+a):ps?o.internal.frames=2:o.internal.frames=1,Co||(Co=!0,requestAnimationFrame(nd)))}function kf(o,a=!0,u,s){if(a&&yi("before",o),u)ds(o,u,s);else for(const c of Kr.values())ds(o,c.store.getState());a&&yi("after",o)}const os={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function yg(o){const{handlePointer:a}=Hm(o);return{priority:1,enabled:!0,compute(u,s,c){s.pointer.set(u.offsetX/s.size.width*2-1,-(u.offsetY/s.size.height)*2+1),s.raycaster.setFromCamera(s.pointer,s.camera)},connected:void 0,handlers:Object.keys(os).reduce((u,s)=>({...u,[s]:a(s)}),{}),update:()=>{var u;const{events:s,internal:c}=o.getState();(u=c.lastEvent)!=null&&u.current&&s.handlers&&s.handlers.onPointerMove(c.lastEvent.current)},connect:u=>{const{set:s,events:c}=o.getState();if(c.disconnect==null||c.disconnect(),s(h=>({events:{...h.events,connected:u}})),c.handlers)for(const h in c.handlers){const S=c.handlers[h],[g,m]=os[h];u.addEventListener(g,S,{passive:m})}},disconnect:()=>{const{set:u,events:s}=o.getState();if(s.connected){if(s.handlers)for(const c in s.handlers){const h=s.handlers[c],[S]=os[c];s.connected.removeEventListener(S,h)}u(c=>({events:{...c.events,connected:void 0}}))}}}}function Cf(o,a){let u;return(...s)=>{window.clearTimeout(u),u=window.setTimeout(()=>o(...s),a)}}function Sg({debounce:o,scroll:a,polyfill:u,offsetSize:s}={debounce:0,scroll:!1,offsetSize:!1}){const c=u||(typeof window>"u"?class{}:window.ResizeObserver);if(!c)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[h,S]=k.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),g=k.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:h,orientationHandler:null}),m=o?typeof o=="number"?o:o.scroll:null,y=o?typeof o=="number"?o:o.resize:null,w=k.useRef(!1);k.useEffect(()=>(w.current=!0,()=>{w.current=!1}));const[C,T,P]=k.useMemo(()=>{const N=()=>{if(!g.current.element)return;const{left:_,top:X,width:Q,height:R,bottom:M,right:V,x:D,y:j}=g.current.element.getBoundingClientRect(),Z={left:_,top:X,width:Q,height:R,bottom:M,right:V,x:D,y:j};g.current.element instanceof HTMLElement&&s&&(Z.height=g.current.element.offsetHeight,Z.width=g.current.element.offsetWidth),Object.freeze(Z),w.current&&!_g(g.current.lastBounds,Z)&&S(g.current.lastBounds=Z)};return[N,y?Cf(N,y):N,m?Cf(N,m):N]},[S,s,m,y]);function L(){g.current.scrollContainers&&(g.current.scrollContainers.forEach(N=>N.removeEventListener("scroll",P,!0)),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null),g.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",g.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",g.current.orientationHandler))}function H(){g.current.element&&(g.current.resizeObserver=new c(P),g.current.resizeObserver.observe(g.current.element),a&&g.current.scrollContainers&&g.current.scrollContainers.forEach(N=>N.addEventListener("scroll",P,{capture:!0,passive:!0})),g.current.orientationHandler=()=>{P()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",g.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",g.current.orientationHandler))}const B=N=>{!N||N===g.current.element||(L(),g.current.element=N,g.current.scrollContainers=td(N),H())};return Eg(P,!!a),wg(T),k.useEffect(()=>{L(),H()},[a,P,T]),k.useEffect(()=>L,[]),[B,h,C]}function wg(o){k.useEffect(()=>{const a=o;return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[o])}function Eg(o,a){k.useEffect(()=>{if(a){const u=o;return window.addEventListener("scroll",u,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",u,!0)}}},[o,a])}function td(o){const a=[];if(!o||o===document.body)return a;const{overflow:u,overflowX:s,overflowY:c}=window.getComputedStyle(o);return[u,s,c].some(h=>h==="auto"||h==="scroll")&&a.push(o),[...a,...td(o.parentElement)]}const xg=["x","y","top","bottom","left","right","width","height"],_g=(o,a)=>xg.every(u=>o[u]===a[u]);function Mg({ref:o,children:a,fallback:u,resize:s,style:c,gl:h,events:S=yg,eventSource:g,eventPrefix:m,shadows:y,linear:w,flat:C,legacy:T,orthographic:P,frameloop:L,dpr:H,performance:B,raycaster:N,camera:_,scene:X,onPointerMissed:Q,onCreated:R,...M}){k.useMemo(()=>Ms($h),[]);const V=Nm(),[D,j]=Sg({scroll:!0,debounce:{scroll:50,resize:0},...s}),Z=k.useRef(null),le=k.useRef(null);k.useImperativeHandle(o,()=>Z.current);const de=Es(Q),[G,ne]=k.useState(!1),[pe,he]=k.useState(!1);if(G)throw G;if(pe)throw pe;const Qe=k.useRef(null);xi(()=>{const ze=Z.current;if(j.width>0&&j.height>0&&ze){Qe.current||(Qe.current=dg(ze));async function Se(){await Qe.current.configure({gl:h,scene:X,events:S,shadows:y,linear:w,flat:C,legacy:T,orthographic:P,frameloop:L,dpr:H,performance:B,raycaster:N,camera:_,size:j,onPointerMissed:(...ye)=>de.current==null?void 0:de.current(...ye),onCreated:ye=>{ye.events.connect==null||ye.events.connect(g?Im(g)?g.current:g:le.current),m&&ye.setEvents({compute:(me,Fe)=>{const He=me[m+"X"],Fn=me[m+"Y"];Fe.pointer.set(He/Fe.size.width*2-1,-(Fn/Fe.size.height)*2+1),Fe.raycaster.setFromCamera(Fe.pointer,Fe.camera)}}),R?.(ye)}}),Qe.current.render(Pn.jsx(V,{children:Pn.jsx(Pm,{set:he,children:Pn.jsx(k.Suspense,{fallback:Pn.jsx(Rm,{set:ne}),children:a??null})})}))}Se()}}),k.useEffect(()=>{const ze=Z.current;if(ze)return()=>ed(ze)},[]);const qe=g?"none":"auto";return Pn.jsx("div",{ref:le,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:qe,...c},...M,children:Pn.jsx("div",{ref:D,style:{width:"100%",height:"100%"},children:Pn.jsx("canvas",{ref:Z,style:{display:"block"},children:u})})})}function Lv(o){return Pn.jsx(Bf,{children:Pn.jsx(Mg,{...o})})}function xt(){return xt=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var u=arguments[a];for(var s in u)({}).hasOwnProperty.call(u,s)&&(o[s]=u[s])}return o},xt.apply(null,arguments)}var wt=Uint8Array,zr=Uint16Array,ms=Uint32Array,rd=new wt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ad=new wt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kg=new wt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),id=function(o,a){for(var u=new zr(31),s=0;s<31;++s)u[s]=a+=1<<o[s-1];for(var c=new ms(u[30]),s=1;s<30;++s)for(var h=u[s];h<u[s+1];++h)c[h]=h-u[s]<<5|s;return[u,c]},od=id(rd,2),ld=od[0],Cg=od[1];ld[28]=258,Cg[258]=28;var Tg=id(ad,0),Ig=Tg[0],gs=new zr(32768);for(var an=0;an<32768;++an){var Tr=(an&43690)>>>1|(an&21845)<<1;Tr=(Tr&52428)>>>2|(Tr&13107)<<2,Tr=(Tr&61680)>>>4|(Tr&3855)<<4,gs[an]=((Tr&65280)>>>8|(Tr&255)<<8)>>>1}var Si=(function(o,a,u){for(var s=o.length,c=0,h=new zr(a);c<s;++c)++h[o[c]-1];var S=new zr(a);for(c=0;c<a;++c)S[c]=S[c-1]+h[c-1]<<1;var g;if(u){g=new zr(1<<a);var m=15-a;for(c=0;c<s;++c)if(o[c])for(var y=c<<4|o[c],w=a-o[c],C=S[o[c]-1]++<<w,T=C|(1<<w)-1;C<=T;++C)g[gs[C]>>>m]=y}else for(g=new zr(s),c=0;c<s;++c)o[c]&&(g[c]=gs[S[o[c]-1]++]>>>15-o[c]);return g}),_i=new wt(288);for(var an=0;an<144;++an)_i[an]=8;for(var an=144;an<256;++an)_i[an]=9;for(var an=256;an<280;++an)_i[an]=7;for(var an=280;an<288;++an)_i[an]=8;var sd=new wt(32);for(var an=0;an<32;++an)sd[an]=5;var zg=Si(_i,9,1),Ng=Si(sd,5,1),ls=function(o){for(var a=o[0],u=1;u<o.length;++u)o[u]>a&&(a=o[u]);return a},Ft=function(o,a,u){var s=a/8|0;return(o[s]|o[s+1]<<8)>>(a&7)&u},ss=function(o,a){var u=a/8|0;return(o[u]|o[u+1]<<8|o[u+2]<<16)>>(a&7)},Rg=function(o){return(o/8|0)+(o&7&&1)},Pg=function(o,a,u){(u==null||u>o.length)&&(u=o.length);var s=new(o instanceof zr?zr:o instanceof ms?ms:wt)(u-a);return s.set(o.subarray(a,u)),s},Fg=function(o,a,u){var s=o.length;if(!s||u&&!u.l&&s<5)return a||new wt(0);var c=!a||u,h=!u||u.i;u||(u={}),a||(a=new wt(s*3));var S=function(Ne){var jn=a.length;if(Ne>jn){var On=new wt(Math.max(jn*2,Ne));On.set(a),a=On}},g=u.f||0,m=u.p||0,y=u.b||0,w=u.l,C=u.d,T=u.m,P=u.n,L=s*8;do{if(!w){u.f=g=Ft(o,m,1);var H=Ft(o,m+1,3);if(m+=3,H)if(H==1)w=zg,C=Ng,T=9,P=5;else if(H==2){var X=Ft(o,m,31)+257,Q=Ft(o,m+10,15)+4,R=X+Ft(o,m+5,31)+1;m+=14;for(var M=new wt(R),V=new wt(19),D=0;D<Q;++D)V[kg[D]]=Ft(o,m+D*3,7);m+=Q*3;for(var j=ls(V),Z=(1<<j)-1,le=Si(V,j,1),D=0;D<R;){var de=le[Ft(o,m,Z)];m+=de&15;var B=de>>>4;if(B<16)M[D++]=B;else{var G=0,ne=0;for(B==16?(ne=3+Ft(o,m,3),m+=2,G=M[D-1]):B==17?(ne=3+Ft(o,m,7),m+=3):B==18&&(ne=11+Ft(o,m,127),m+=7);ne--;)M[D++]=G}}var pe=M.subarray(0,X),he=M.subarray(X);T=ls(pe),P=ls(he),w=Si(pe,T,1),C=Si(he,P,1)}else throw"invalid block type";else{var B=Rg(m)+4,N=o[B-4]|o[B-3]<<8,_=B+N;if(_>s){if(h)throw"unexpected EOF";break}c&&S(y+N),a.set(o.subarray(B,_),y),u.b=y+=N,u.p=m=_*8;continue}if(m>L){if(h)throw"unexpected EOF";break}}c&&S(y+131072);for(var Qe=(1<<T)-1,qe=(1<<P)-1,ze=m;;ze=m){var G=w[ss(o,m)&Qe],Se=G>>>4;if(m+=G&15,m>L){if(h)throw"unexpected EOF";break}if(!G)throw"invalid length/literal";if(Se<256)a[y++]=Se;else if(Se==256){ze=m,w=null;break}else{var ye=Se-254;if(Se>264){var D=Se-257,me=rd[D];ye=Ft(o,m,(1<<me)-1)+ld[D],m+=me}var Fe=C[ss(o,m)&qe],He=Fe>>>4;if(!Fe)throw"invalid distance";m+=Fe&15;var he=Ig[He];if(He>3){var me=ad[He];he+=ss(o,m)&(1<<me)-1,m+=me}if(m>L){if(h)throw"unexpected EOF";break}c&&S(y+131072);for(var Fn=y+ye;y<Fn;y+=4)a[y]=a[y-he],a[y+1]=a[y+1-he],a[y+2]=a[y+2-he],a[y+3]=a[y+3-he];y=Fn}}u.l=w,u.p=ze,u.b=y,w&&(g=1,u.m=T,u.d=C,u.n=P)}while(!g);return y==a.length?a:Pg(a,0,y)},Og=new wt(0),Dg=function(o){if((o[0]&15)!=8||o[0]>>>4>7||(o[0]<<8|o[1])%31)throw"invalid zlib data";if(o[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function po(o,a){return Fg((Dg(o),o.subarray(2,-4)),a)}var Ag=typeof TextDecoder<"u"&&new TextDecoder,Ug=0;try{Ag.decode(Og,{stream:!0}),Ug=1}catch{}const Lg=o=>o&&o.isCubeTexture;class jg extends Io{constructor(a,u){var s,c;const h=Lg(a),g=((c=h?(s=a.image[0])==null?void 0:s.width:a.image.width)!=null?c:1024)/4,m=Math.floor(Math.log2(g)),y=Math.pow(2,m),w=3*Math.max(y,112),C=4*y,T=[h?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/w}`,`#define CUBEUV_TEXEL_HEIGHT ${1/C}`,`#define CUBEUV_MAX_MIP ${m}.0`],P=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,L=T.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Df>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,H={map:{value:a},height:{value:u?.height||15},radius:{value:u?.radius||100}},B=new Vh(1,16),N=new La({uniforms:H,fragmentShader:L,vertexShader:P,side:Wh});super(B,N)}set radius(a){this.material.uniforms.radius.value=a}get radius(){return this.material.uniforms.radius.value}set height(a){this.material.uniforms.height.value=a}get height(){return this.material.uniforms.height.value}}var Bg=Object.defineProperty,Hg=(o,a,u)=>a in o?Bg(o,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[a]=u,Zg=(o,a,u)=>(Hg(o,a+"",u),u);class $g{constructor(){Zg(this,"_listeners")}addEventListener(a,u){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[a]===void 0&&(s[a]=[]),s[a].indexOf(u)===-1&&s[a].push(u)}hasEventListener(a,u){if(this._listeners===void 0)return!1;const s=this._listeners;return s[a]!==void 0&&s[a].indexOf(u)!==-1}removeEventListener(a,u){if(this._listeners===void 0)return;const c=this._listeners[a];if(c!==void 0){const h=c.indexOf(u);h!==-1&&c.splice(h,1)}}dispatchEvent(a){if(this._listeners===void 0)return;const s=this._listeners[a.type];if(s!==void 0){a.target=this;const c=s.slice(0);for(let h=0,S=c.length;h<S;h++)c[h].call(this,a);a.target=null}}}var Vg=Object.defineProperty,Wg=(o,a,u)=>a in o?Vg(o,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[a]=u,ge=(o,a,u)=>(Wg(o,typeof a!="symbol"?a+"":a,u),u);const ho=new qh,Tf=new Gh,qg=Math.cos(70*(Math.PI/180)),If=(o,a)=>(o%a+a)%a;let Gg=class extends $g{constructor(a,u){super(),ge(this,"object"),ge(this,"domElement"),ge(this,"enabled",!0),ge(this,"target",new Re),ge(this,"minDistance",0),ge(this,"maxDistance",1/0),ge(this,"minZoom",0),ge(this,"maxZoom",1/0),ge(this,"minPolarAngle",0),ge(this,"maxPolarAngle",Math.PI),ge(this,"minAzimuthAngle",-1/0),ge(this,"maxAzimuthAngle",1/0),ge(this,"enableDamping",!1),ge(this,"dampingFactor",.05),ge(this,"enableZoom",!0),ge(this,"zoomSpeed",1),ge(this,"enableRotate",!0),ge(this,"rotateSpeed",1),ge(this,"enablePan",!0),ge(this,"panSpeed",1),ge(this,"screenSpacePanning",!0),ge(this,"keyPanSpeed",7),ge(this,"zoomToCursor",!1),ge(this,"autoRotate",!1),ge(this,"autoRotateSpeed",2),ge(this,"reverseOrbit",!1),ge(this,"reverseHorizontalOrbit",!1),ge(this,"reverseVerticalOrbit",!1),ge(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ge(this,"mouseButtons",{LEFT:Ia.ROTATE,MIDDLE:Ia.DOLLY,RIGHT:Ia.PAN}),ge(this,"touches",{ONE:za.ROTATE,TWO:za.DOLLY_PAN}),ge(this,"target0"),ge(this,"position0"),ge(this,"zoom0"),ge(this,"_domElementKeyEvents",null),ge(this,"getPolarAngle"),ge(this,"getAzimuthalAngle"),ge(this,"setPolarAngle"),ge(this,"setAzimuthalAngle"),ge(this,"getDistance"),ge(this,"getZoomScale"),ge(this,"listenToKeyEvents"),ge(this,"stopListenToKeyEvents"),ge(this,"saveState"),ge(this,"reset"),ge(this,"update"),ge(this,"connect"),ge(this,"dispose"),ge(this,"dollyIn"),ge(this,"dollyOut"),ge(this,"getScale"),ge(this,"setScale"),this.object=a,this.domElement=u,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>w.phi,this.getAzimuthalAngle=()=>w.theta,this.setPolarAngle=E=>{let q=If(E,2*Math.PI),ue=w.phi;ue<0&&(ue+=2*Math.PI),q<0&&(q+=2*Math.PI);let Ue=Math.abs(q-ue);2*Math.PI-Ue<Ue&&(q<ue?q+=2*Math.PI:ue+=2*Math.PI),C.phi=q-ue,s.update()},this.setAzimuthalAngle=E=>{let q=If(E,2*Math.PI),ue=w.theta;ue<0&&(ue+=2*Math.PI),q<0&&(q+=2*Math.PI);let Ue=Math.abs(q-ue);2*Math.PI-Ue<Ue&&(q<ue?q+=2*Math.PI:ue+=2*Math.PI),C.theta=q-ue,s.update()},this.getDistance=()=>s.object.position.distanceTo(s.target),this.listenToKeyEvents=E=>{E.addEventListener("keydown",Mt),this._domElementKeyEvents=E},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Mt),this._domElementKeyEvents=null},this.saveState=()=>{s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=()=>{s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),s.dispatchEvent(c),s.update(),m=g.NONE},this.update=(()=>{const E=new Re,q=new Re(0,1,0),ue=new bi().setFromUnitVectors(a.up,q),Ue=ue.clone().invert(),ee=new Re,wn=new bi,Bn=2*Math.PI;return function(){const Qt=s.object.position;ue.setFromUnitVectors(a.up,q),Ue.copy(ue).invert(),E.copy(Qt).sub(s.target),E.applyQuaternion(ue),w.setFromVector3(E),s.autoRotate&&m===g.NONE&&ne(de()),s.enableDamping?(w.theta+=C.theta*s.dampingFactor,w.phi+=C.phi*s.dampingFactor):(w.theta+=C.theta,w.phi+=C.phi);let Wn=s.minAzimuthAngle,qn=s.maxAzimuthAngle;isFinite(Wn)&&isFinite(qn)&&(Wn<-Math.PI?Wn+=Bn:Wn>Math.PI&&(Wn-=Bn),qn<-Math.PI?qn+=Bn:qn>Math.PI&&(qn-=Bn),Wn<=qn?w.theta=Math.max(Wn,Math.min(qn,w.theta)):w.theta=w.theta>(Wn+qn)/2?Math.max(Wn,w.theta):Math.min(qn,w.theta)),w.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,w.phi)),w.makeSafe(),s.enableDamping===!0?s.target.addScaledVector(P,s.dampingFactor):s.target.add(P),s.zoomToCursor&&j||s.object.isOrthographicCamera?w.radius=Fe(w.radius):w.radius=Fe(w.radius*T),E.setFromSpherical(w),E.applyQuaternion(Ue),Qt.copy(s.target).add(E),s.object.matrixAutoUpdate||s.object.updateMatrix(),s.object.lookAt(s.target),s.enableDamping===!0?(C.theta*=1-s.dampingFactor,C.phi*=1-s.dampingFactor,P.multiplyScalar(1-s.dampingFactor)):(C.set(0,0,0),P.set(0,0,0));let Hn=!1;if(s.zoomToCursor&&j){let jt=null;if(s.object instanceof go&&s.object.isPerspectiveCamera){const Bt=E.length();jt=Fe(Bt*T);const kt=Bt-jt;s.object.position.addScaledVector(V,kt),s.object.updateMatrixWorld()}else if(s.object.isOrthographicCamera){const Bt=new Re(D.x,D.y,0);Bt.unproject(s.object),s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/T)),s.object.updateProjectionMatrix(),Hn=!0;const kt=new Re(D.x,D.y,0);kt.unproject(s.object),s.object.position.sub(kt).add(Bt),s.object.updateMatrixWorld(),jt=E.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),s.zoomToCursor=!1;jt!==null&&(s.screenSpacePanning?s.target.set(0,0,-1).transformDirection(s.object.matrix).multiplyScalar(jt).add(s.object.position):(ho.origin.copy(s.object.position),ho.direction.set(0,0,-1).transformDirection(s.object.matrix),Math.abs(s.object.up.dot(ho.direction))<qg?a.lookAt(s.target):(Tf.setFromNormalAndCoplanarPoint(s.object.up,s.target),ho.intersectPlane(Tf,s.target))))}else s.object instanceof vi&&s.object.isOrthographicCamera&&(Hn=T!==1,Hn&&(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/T)),s.object.updateProjectionMatrix()));return T=1,j=!1,Hn||ee.distanceToSquared(s.object.position)>y||8*(1-wn.dot(s.object.quaternion))>y?(s.dispatchEvent(c),ee.copy(s.object.position),wn.copy(s.object.quaternion),Hn=!1,!0):!1}})(),this.connect=E=>{s.domElement=E,s.domElement.style.touchAction="none",s.domElement.addEventListener("contextmenu",Pr),s.domElement.addEventListener("pointerdown",ht),s.domElement.addEventListener("pointercancel",mt),s.domElement.addEventListener("wheel",At)},this.dispose=()=>{var E,q,ue,Ue,ee,wn;s.domElement&&(s.domElement.style.touchAction="auto"),(E=s.domElement)==null||E.removeEventListener("contextmenu",Pr),(q=s.domElement)==null||q.removeEventListener("pointerdown",ht),(ue=s.domElement)==null||ue.removeEventListener("pointercancel",mt),(Ue=s.domElement)==null||Ue.removeEventListener("wheel",At),(ee=s.domElement)==null||ee.ownerDocument.removeEventListener("pointermove",on),(wn=s.domElement)==null||wn.ownerDocument.removeEventListener("pointerup",mt),s._domElementKeyEvents!==null&&s._domElementKeyEvents.removeEventListener("keydown",Mt)};const s=this,c={type:"change"},h={type:"start"},S={type:"end"},g={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let m=g.NONE;const y=1e-6,w=new ff,C=new ff;let T=1;const P=new Re,L=new dt,H=new dt,B=new dt,N=new dt,_=new dt,X=new dt,Q=new dt,R=new dt,M=new dt,V=new Re,D=new dt;let j=!1;const Z=[],le={};function de(){return 2*Math.PI/60/60*s.autoRotateSpeed}function G(){return Math.pow(.95,s.zoomSpeed)}function ne(E){s.reverseOrbit||s.reverseHorizontalOrbit?C.theta+=E:C.theta-=E}function pe(E){s.reverseOrbit||s.reverseVerticalOrbit?C.phi+=E:C.phi-=E}const he=(()=>{const E=new Re;return function(ue,Ue){E.setFromMatrixColumn(Ue,0),E.multiplyScalar(-ue),P.add(E)}})(),Qe=(()=>{const E=new Re;return function(ue,Ue){s.screenSpacePanning===!0?E.setFromMatrixColumn(Ue,1):(E.setFromMatrixColumn(Ue,0),E.crossVectors(s.object.up,E)),E.multiplyScalar(ue),P.add(E)}})(),qe=(()=>{const E=new Re;return function(ue,Ue){const ee=s.domElement;if(ee&&s.object instanceof go&&s.object.isPerspectiveCamera){const wn=s.object.position;E.copy(wn).sub(s.target);let Bn=E.length();Bn*=Math.tan(s.object.fov/2*Math.PI/180),he(2*ue*Bn/ee.clientHeight,s.object.matrix),Qe(2*Ue*Bn/ee.clientHeight,s.object.matrix)}else ee&&s.object instanceof vi&&s.object.isOrthographicCamera?(he(ue*(s.object.right-s.object.left)/s.object.zoom/ee.clientWidth,s.object.matrix),Qe(Ue*(s.object.top-s.object.bottom)/s.object.zoom/ee.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)}})();function ze(E){s.object instanceof go&&s.object.isPerspectiveCamera||s.object instanceof vi&&s.object.isOrthographicCamera?T=E:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function Se(E){ze(T/E)}function ye(E){ze(T*E)}function me(E){if(!s.zoomToCursor||!s.domElement)return;j=!0;const q=s.domElement.getBoundingClientRect(),ue=E.clientX-q.left,Ue=E.clientY-q.top,ee=q.width,wn=q.height;D.x=ue/ee*2-1,D.y=-(Ue/wn)*2+1,V.set(D.x,D.y,1).unproject(s.object).sub(s.object.position).normalize()}function Fe(E){return Math.max(s.minDistance,Math.min(s.maxDistance,E))}function He(E){L.set(E.clientX,E.clientY)}function Fn(E){me(E),Q.set(E.clientX,E.clientY)}function Ne(E){N.set(E.clientX,E.clientY)}function jn(E){H.set(E.clientX,E.clientY),B.subVectors(H,L).multiplyScalar(s.rotateSpeed);const q=s.domElement;q&&(ne(2*Math.PI*B.x/q.clientHeight),pe(2*Math.PI*B.y/q.clientHeight)),L.copy(H),s.update()}function On(E){R.set(E.clientX,E.clientY),M.subVectors(R,Q),M.y>0?Se(G()):M.y<0&&ye(G()),Q.copy(R),s.update()}function Jn(E){_.set(E.clientX,E.clientY),X.subVectors(_,N).multiplyScalar(s.panSpeed),qe(X.x,X.y),N.copy(_),s.update()}function Jr(E){me(E),E.deltaY<0?ye(G()):E.deltaY>0&&Se(G()),s.update()}function Nr(E){let q=!1;switch(E.code){case s.keys.UP:qe(0,s.keyPanSpeed),q=!0;break;case s.keys.BOTTOM:qe(0,-s.keyPanSpeed),q=!0;break;case s.keys.LEFT:qe(s.keyPanSpeed,0),q=!0;break;case s.keys.RIGHT:qe(-s.keyPanSpeed,0),q=!0;break}q&&(E.preventDefault(),s.update())}function _t(){if(Z.length==1)L.set(Z[0].pageX,Z[0].pageY);else{const E=.5*(Z[0].pageX+Z[1].pageX),q=.5*(Z[0].pageY+Z[1].pageY);L.set(E,q)}}function et(){if(Z.length==1)N.set(Z[0].pageX,Z[0].pageY);else{const E=.5*(Z[0].pageX+Z[1].pageX),q=.5*(Z[0].pageY+Z[1].pageY);N.set(E,q)}}function Yt(){const E=Z[0].pageX-Z[1].pageX,q=Z[0].pageY-Z[1].pageY,ue=Math.sqrt(E*E+q*q);Q.set(0,ue)}function Ot(){s.enableZoom&&Yt(),s.enablePan&&et()}function pt(){s.enableZoom&&Yt(),s.enableRotate&&_t()}function Vn(E){if(Z.length==1)H.set(E.pageX,E.pageY);else{const ue=Xt(E),Ue=.5*(E.pageX+ue.x),ee=.5*(E.pageY+ue.y);H.set(Ue,ee)}B.subVectors(H,L).multiplyScalar(s.rotateSpeed);const q=s.domElement;q&&(ne(2*Math.PI*B.x/q.clientHeight),pe(2*Math.PI*B.y/q.clientHeight)),L.copy(H)}function fr(E){if(Z.length==1)_.set(E.pageX,E.pageY);else{const q=Xt(E),ue=.5*(E.pageX+q.x),Ue=.5*(E.pageY+q.y);_.set(ue,Ue)}X.subVectors(_,N).multiplyScalar(s.panSpeed),qe(X.x,X.y),N.copy(_)}function dr(E){const q=Xt(E),ue=E.pageX-q.x,Ue=E.pageY-q.y,ee=Math.sqrt(ue*ue+Ue*Ue);R.set(0,ee),M.set(0,Math.pow(R.y/Q.y,s.zoomSpeed)),Se(M.y),Q.copy(R)}function Dt(E){s.enableZoom&&dr(E),s.enablePan&&fr(E)}function pr(E){s.enableZoom&&dr(E),s.enableRotate&&Vn(E)}function ht(E){var q,ue;s.enabled!==!1&&(Z.length===0&&((q=s.domElement)==null||q.ownerDocument.addEventListener("pointermove",on),(ue=s.domElement)==null||ue.ownerDocument.addEventListener("pointerup",mt)),ea(E),E.pointerType==="touch"?Tn(E):hr(E))}function on(E){s.enabled!==!1&&(E.pointerType==="touch"?Ut(E):Rr(E))}function mt(E){var q,ue,Ue;Lt(E),Z.length===0&&((q=s.domElement)==null||q.releasePointerCapture(E.pointerId),(ue=s.domElement)==null||ue.ownerDocument.removeEventListener("pointermove",on),(Ue=s.domElement)==null||Ue.ownerDocument.removeEventListener("pointerup",mt)),s.dispatchEvent(S),m=g.NONE}function hr(E){let q;switch(E.button){case 0:q=s.mouseButtons.LEFT;break;case 1:q=s.mouseButtons.MIDDLE;break;case 2:q=s.mouseButtons.RIGHT;break;default:q=-1}switch(q){case Ia.DOLLY:if(s.enableZoom===!1)return;Fn(E),m=g.DOLLY;break;case Ia.ROTATE:if(E.ctrlKey||E.metaKey||E.shiftKey){if(s.enablePan===!1)return;Ne(E),m=g.PAN}else{if(s.enableRotate===!1)return;He(E),m=g.ROTATE}break;case Ia.PAN:if(E.ctrlKey||E.metaKey||E.shiftKey){if(s.enableRotate===!1)return;He(E),m=g.ROTATE}else{if(s.enablePan===!1)return;Ne(E),m=g.PAN}break;default:m=g.NONE}m!==g.NONE&&s.dispatchEvent(h)}function Rr(E){if(s.enabled!==!1)switch(m){case g.ROTATE:if(s.enableRotate===!1)return;jn(E);break;case g.DOLLY:if(s.enableZoom===!1)return;On(E);break;case g.PAN:if(s.enablePan===!1)return;Jn(E);break}}function At(E){s.enabled===!1||s.enableZoom===!1||m!==g.NONE&&m!==g.ROTATE||(E.preventDefault(),s.dispatchEvent(h),Jr(E),s.dispatchEvent(S))}function Mt(E){s.enabled===!1||s.enablePan===!1||Nr(E)}function Tn(E){switch(hn(E),Z.length){case 1:switch(s.touches.ONE){case za.ROTATE:if(s.enableRotate===!1)return;_t(),m=g.TOUCH_ROTATE;break;case za.PAN:if(s.enablePan===!1)return;et(),m=g.TOUCH_PAN;break;default:m=g.NONE}break;case 2:switch(s.touches.TWO){case za.DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;Ot(),m=g.TOUCH_DOLLY_PAN;break;case za.DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;pt(),m=g.TOUCH_DOLLY_ROTATE;break;default:m=g.NONE}break;default:m=g.NONE}m!==g.NONE&&s.dispatchEvent(h)}function Ut(E){switch(hn(E),m){case g.TOUCH_ROTATE:if(s.enableRotate===!1)return;Vn(E),s.update();break;case g.TOUCH_PAN:if(s.enablePan===!1)return;fr(E),s.update();break;case g.TOUCH_DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;Dt(E),s.update();break;case g.TOUCH_DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;pr(E),s.update();break;default:m=g.NONE}}function Pr(E){s.enabled!==!1&&E.preventDefault()}function ea(E){Z.push(E)}function Lt(E){delete le[E.pointerId];for(let q=0;q<Z.length;q++)if(Z[q].pointerId==E.pointerId){Z.splice(q,1);return}}function hn(E){let q=le[E.pointerId];q===void 0&&(q=new dt,le[E.pointerId]=q),q.set(E.pageX,E.pageY)}function Xt(E){const q=E.pointerId===Z[0].pointerId?Z[1]:Z[0];return le[q.pointerId]}this.dollyIn=(E=G())=>{ye(E),s.update()},this.dollyOut=(E=G())=>{Se(E),s.update()},this.getScale=()=>T,this.setScale=E=>{ze(E),s.update()},this.getZoomScale=()=>G(),u!==void 0&&this.connect(u),this.update()}};const Yg={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},Xg={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class Qg extends Ff{constructor(a){super(a),this.type=Kn}parse(a){const S=function(D,j){switch(D){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(j||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(j||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(j||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(j||""))}},C=function(D,j,Z){j=j||1024;let de=D.pos,G=-1,ne=0,pe="",he=String.fromCharCode.apply(null,new Uint16Array(D.subarray(de,de+128)));for(;0>(G=he.indexOf(`
`))&&ne<j&&de<D.byteLength;)pe+=he,ne+=he.length,de+=128,he+=String.fromCharCode.apply(null,new Uint16Array(D.subarray(de,de+128)));return-1<G?(D.pos+=ne+G+1,pe+he.slice(0,G)):!1},T=function(D){const j=/^#\?(\S+)/,Z=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,le=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,de=/^\s*FORMAT=(\S+)\s*$/,G=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ne={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let pe,he;for((D.pos>=D.byteLength||!(pe=C(D)))&&S(1,"no header found"),(he=pe.match(j))||S(3,"bad initial token"),ne.valid|=1,ne.programtype=he[1],ne.string+=pe+`
`;pe=C(D),pe!==!1;){if(ne.string+=pe+`
`,pe.charAt(0)==="#"){ne.comments+=pe+`
`;continue}if((he=pe.match(Z))&&(ne.gamma=parseFloat(he[1])),(he=pe.match(le))&&(ne.exposure=parseFloat(he[1])),(he=pe.match(de))&&(ne.valid|=2,ne.format=he[1]),(he=pe.match(G))&&(ne.valid|=4,ne.height=parseInt(he[1],10),ne.width=parseInt(he[2],10)),ne.valid&2&&ne.valid&4)break}return ne.valid&2||S(3,"missing format specifier"),ne.valid&4||S(3,"missing image size specifier"),ne},P=function(D,j,Z){const le=j;if(le<8||le>32767||D[0]!==2||D[1]!==2||D[2]&128)return new Uint8Array(D);le!==(D[2]<<8|D[3])&&S(3,"wrong scanline width");const de=new Uint8Array(4*j*Z);de.length||S(4,"unable to allocate buffer space");let G=0,ne=0;const pe=4*le,he=new Uint8Array(4),Qe=new Uint8Array(pe);let qe=Z;for(;qe>0&&ne<D.byteLength;){ne+4>D.byteLength&&S(1),he[0]=D[ne++],he[1]=D[ne++],he[2]=D[ne++],he[3]=D[ne++],(he[0]!=2||he[1]!=2||(he[2]<<8|he[3])!=le)&&S(3,"bad rgbe scanline format");let ze=0,Se;for(;ze<pe&&ne<D.byteLength;){Se=D[ne++];const me=Se>128;if(me&&(Se-=128),(Se===0||ze+Se>pe)&&S(3,"bad scanline data"),me){const Fe=D[ne++];for(let He=0;He<Se;He++)Qe[ze++]=Fe}else Qe.set(D.subarray(ne,ne+Se),ze),ze+=Se,ne+=Se}const ye=le;for(let me=0;me<ye;me++){let Fe=0;de[G]=Qe[me+Fe],Fe+=le,de[G+1]=Qe[me+Fe],Fe+=le,de[G+2]=Qe[me+Fe],Fe+=le,de[G+3]=Qe[me+Fe],G+=4}qe--}return de},L=function(D,j,Z,le){const de=D[j+3],G=Math.pow(2,de-128)/255;Z[le+0]=D[j+0]*G,Z[le+1]=D[j+1]*G,Z[le+2]=D[j+2]*G,Z[le+3]=1},H=function(D,j,Z,le){const de=D[j+3],G=Math.pow(2,de-128)/255;Z[le+0]=Oa.toHalfFloat(Math.min(D[j+0]*G,65504)),Z[le+1]=Oa.toHalfFloat(Math.min(D[j+1]*G,65504)),Z[le+2]=Oa.toHalfFloat(Math.min(D[j+2]*G,65504)),Z[le+3]=Oa.toHalfFloat(1)},B=new Uint8Array(a);B.pos=0;const N=T(B),_=N.width,X=N.height,Q=P(B.subarray(B.pos),_,X);let R,M,V;switch(this.type){case Gt:V=Q.length/4;const D=new Float32Array(V*4);for(let Z=0;Z<V;Z++)L(Q,Z*4,D,Z*4);R=D,M=Gt;break;case Kn:V=Q.length/4;const j=new Uint16Array(V*4);for(let Z=0;Z<V;Z++)H(Q,Z*4,j,Z*4);R=j,M=Kn;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:_,height:X,data:R,header:N.string,gamma:N.gamma,exposure:N.exposure,type:M}}setDataType(a){return this.type=a,this}load(a,u,s,c){function h(S,g){switch(S.type){case Gt:case Kn:"colorSpace"in S?S.colorSpace="srgb-linear":S.encoding=3e3,S.minFilter=Et,S.magFilter=Et,S.generateMipmaps=!1,S.flipY=!0;break}u&&u(S,g)}return super.load(a,h,s,c)}}const mi=Df>=152;class Kg extends Ff{constructor(a){super(a),this.type=Kn}parse(a){const j=Math.pow(2.7182818,2.2);function Z(f,p){for(var b=0,I=0;I<65536;++I)(I==0||f[I>>3]&1<<(I&7))&&(p[b++]=I);for(var A=b-1;b<65536;)p[b++]=0;return A}function le(f){for(var p=0;p<16384;p++)f[p]={},f[p].len=0,f[p].lit=0,f[p].p=null}const de={l:0,c:0,lc:0};function G(f,p,b,I,A){for(;b<f;)p=p<<8|Xt(I,A),b+=8;b-=f,de.l=p>>b&(1<<f)-1,de.c=p,de.lc=b}const ne=new Array(59);function pe(f){for(var p=0;p<=58;++p)ne[p]=0;for(var p=0;p<65537;++p)ne[f[p]]+=1;for(var b=0,p=58;p>0;--p){var I=b+ne[p]>>1;ne[p]=b,b=I}for(var p=0;p<65537;++p){var A=f[p];A>0&&(f[p]=A|ne[A]++<<6)}}function he(f,p,b,I,A,U,Y){for(var W=b,ae=0,re=0;A<=U;A++){if(W.value-b.value>I)return!1;G(6,ae,re,f,W);var ie=de.l;if(ae=de.c,re=de.lc,Y[A]=ie,ie==63){if(W.value-b.value>I)throw"Something wrong with hufUnpackEncTable";G(8,ae,re,f,W);var te=de.l+6;if(ae=de.c,re=de.lc,A+te>U+1)throw"Something wrong with hufUnpackEncTable";for(;te--;)Y[A++]=0;A--}else if(ie>=59){var te=ie-59+2;if(A+te>U+1)throw"Something wrong with hufUnpackEncTable";for(;te--;)Y[A++]=0;A--}}pe(Y)}function Qe(f){return f&63}function qe(f){return f>>6}function ze(f,p,b,I){for(;p<=b;p++){var A=qe(f[p]),U=Qe(f[p]);if(A>>U)throw"Invalid table entry";if(U>14){var Y=I[A>>U-14];if(Y.len)throw"Invalid table entry";if(Y.lit++,Y.p){var W=Y.p;Y.p=new Array(Y.lit);for(var ae=0;ae<Y.lit-1;++ae)Y.p[ae]=W[ae]}else Y.p=new Array(1);Y.p[Y.lit-1]=p}else if(U)for(var re=0,ae=1<<14-U;ae>0;ae--){var Y=I[(A<<14-U)+re];if(Y.len||Y.p)throw"Invalid table entry";Y.len=U,Y.lit=p,re++}}return!0}const Se={c:0,lc:0};function ye(f,p,b,I){f=f<<8|Xt(b,I),p+=8,Se.c=f,Se.lc=p}const me={c:0,lc:0};function Fe(f,p,b,I,A,U,Y,W,ae,re){if(f==p){I<8&&(ye(b,I,A,Y),b=Se.c,I=Se.lc),I-=8;var ie=b>>I,ie=new Uint8Array([ie])[0];if(ae.value+ie>re)return!1;for(var te=W[ae.value-1];ie-- >0;)W[ae.value++]=te}else if(ae.value<re)W[ae.value++]=f;else return!1;me.c=b,me.lc=I}function He(f){return f&65535}function Fn(f){var p=He(f);return p>32767?p-65536:p}const Ne={a:0,b:0};function jn(f,p){var b=Fn(f),I=Fn(p),A=I,U=b+(A&1)+(A>>1),Y=U,W=U-A;Ne.a=Y,Ne.b=W}function On(f,p){var b=He(f),I=He(p),A=b-(I>>1)&65535,U=I+A-32768&65535;Ne.a=U,Ne.b=A}function Jn(f,p,b,I,A,U,Y){for(var W=Y<16384,ae=b>A?A:b,re=1,ie;re<=ae;)re<<=1;for(re>>=1,ie=re,re>>=1;re>=1;){for(var te=0,en=te+U*(A-ie),ce=U*re,fe=U*ie,xe=I*re,Ee=I*ie,Ie,We,Ce,En;te<=en;te+=fe){for(var Ge=te,nt=te+I*(b-ie);Ge<=nt;Ge+=Ee){var Ke=Ge+xe,mn=Ge+ce,tt=mn+xe;W?(jn(f[Ge+p],f[mn+p]),Ie=Ne.a,Ce=Ne.b,jn(f[Ke+p],f[tt+p]),We=Ne.a,En=Ne.b,jn(Ie,We),f[Ge+p]=Ne.a,f[Ke+p]=Ne.b,jn(Ce,En),f[mn+p]=Ne.a,f[tt+p]=Ne.b):(On(f[Ge+p],f[mn+p]),Ie=Ne.a,Ce=Ne.b,On(f[Ke+p],f[tt+p]),We=Ne.a,En=Ne.b,On(Ie,We),f[Ge+p]=Ne.a,f[Ke+p]=Ne.b,On(Ce,En),f[mn+p]=Ne.a,f[tt+p]=Ne.b)}if(b&re){var mn=Ge+ce;W?jn(f[Ge+p],f[mn+p]):On(f[Ge+p],f[mn+p]),Ie=Ne.a,f[mn+p]=Ne.b,f[Ge+p]=Ie}}if(A&re)for(var Ge=te,nt=te+I*(b-ie);Ge<=nt;Ge+=Ee){var Ke=Ge+xe;W?jn(f[Ge+p],f[Ke+p]):On(f[Ge+p],f[Ke+p]),Ie=Ne.a,f[Ke+p]=Ne.b,f[Ge+p]=Ie}ie=re,re>>=1}return te}function Jr(f,p,b,I,A,U,Y,W,ae,re){for(var ie=0,te=0,en=W,ce=Math.trunc(A.value+(U+7)/8);A.value<ce;)for(ye(ie,te,b,A),ie=Se.c,te=Se.lc;te>=14;){var fe=ie>>te-14&16383,xe=p[fe];if(xe.len)te-=xe.len,Fe(xe.lit,Y,ie,te,b,I,A,ae,re,en),ie=me.c,te=me.lc;else{if(!xe.p)throw"hufDecode issues";var Ee;for(Ee=0;Ee<xe.lit;Ee++){for(var Ie=Qe(f[xe.p[Ee]]);te<Ie&&A.value<ce;)ye(ie,te,b,A),ie=Se.c,te=Se.lc;if(te>=Ie&&qe(f[xe.p[Ee]])==(ie>>te-Ie&(1<<Ie)-1)){te-=Ie,Fe(xe.p[Ee],Y,ie,te,b,I,A,ae,re,en),ie=me.c,te=me.lc;break}}if(Ee==xe.lit)throw"hufDecode issues"}}var We=8-U&7;for(ie>>=We,te-=We;te>0;){var xe=p[ie<<14-te&16383];if(xe.len)te-=xe.len,Fe(xe.lit,Y,ie,te,b,I,A,ae,re,en),ie=me.c,te=me.lc;else throw"hufDecode issues"}return!0}function Nr(f,p,b,I,A,U){var Y={value:0},W=b.value,ae=hn(p,b),re=hn(p,b);b.value+=4;var ie=hn(p,b);if(b.value+=4,ae<0||ae>=65537||re<0||re>=65537)throw"Something wrong with HUF_ENCSIZE";var te=new Array(65537),en=new Array(16384);le(en);var ce=I-(b.value-W);if(he(f,p,b,ce,ae,re,te),ie>8*(I-(b.value-W)))throw"Something wrong with hufUncompress";ze(te,ae,re,en),Jr(te,en,f,p,b,ie,re,U,A,Y)}function _t(f,p,b){for(var I=0;I<b;++I)p[I]=f[p[I]]}function et(f){for(var p=1;p<f.length;p++){var b=f[p-1]+f[p]-128;f[p]=b}}function Yt(f,p){for(var b=0,I=Math.floor((f.length+1)/2),A=0,U=f.length-1;!(A>U||(p[A++]=f[b++],A>U));)p[A++]=f[I++]}function Ot(f){for(var p=f.byteLength,b=new Array,I=0,A=new DataView(f);p>0;){var U=A.getInt8(I++);if(U<0){var Y=-U;p-=Y+1;for(var W=0;W<Y;W++)b.push(A.getUint8(I++))}else{var Y=U;p-=2;for(var ae=A.getUint8(I++),W=0;W<Y+1;W++)b.push(ae)}}return b}function pt(f,p,b,I,A,U){var Ke=new DataView(U.buffer),Y=b[f.idx[0]].width,W=b[f.idx[0]].height,ae=3,re=Math.floor(Y/8),ie=Math.ceil(Y/8),te=Math.ceil(W/8),en=Y-(ie-1)*8,ce=W-(te-1)*8,fe={value:0},xe=new Array(ae),Ee=new Array(ae),Ie=new Array(ae),We=new Array(ae),Ce=new Array(ae);for(let Me=0;Me<ae;++Me)Ce[Me]=p[f.idx[Me]],xe[Me]=Me<1?0:xe[Me-1]+ie*te,Ee[Me]=new Float32Array(64),Ie[Me]=new Uint16Array(64),We[Me]=new Uint16Array(ie*64);for(let Me=0;Me<te;++Me){var En=8;Me==te-1&&(En=ce);var Ge=8;for(let Ye=0;Ye<ie;++Ye){Ye==ie-1&&(Ge=en);for(let je=0;je<ae;++je)Ie[je].fill(0),Ie[je][0]=A[xe[je]++],Vn(fe,I,Ie[je]),fr(Ie[je],Ee[je]),dr(Ee[je]);Dt(Ee);for(let je=0;je<ae;++je)pr(Ee[je],We[je],Ye*64)}let Pe=0;for(let Ye=0;Ye<ae;++Ye){const je=b[f.idx[Ye]].type;for(let In=8*Me;In<8*Me+En;++In){Pe=Ce[Ye][In];for(let Ct=0;Ct<re;++Ct){const sn=Ct*64+(In&7)*8;Ke.setUint16(Pe+0*je,We[Ye][sn+0],!0),Ke.setUint16(Pe+2*je,We[Ye][sn+1],!0),Ke.setUint16(Pe+4*je,We[Ye][sn+2],!0),Ke.setUint16(Pe+6*je,We[Ye][sn+3],!0),Ke.setUint16(Pe+8*je,We[Ye][sn+4],!0),Ke.setUint16(Pe+10*je,We[Ye][sn+5],!0),Ke.setUint16(Pe+12*je,We[Ye][sn+6],!0),Ke.setUint16(Pe+14*je,We[Ye][sn+7],!0),Pe+=16*je}}if(re!=ie)for(let In=8*Me;In<8*Me+En;++In){const Ct=Ce[Ye][In]+8*re*2*je,sn=re*64+(In&7)*8;for(let rt=0;rt<Ge;++rt)Ke.setUint16(Ct+rt*2*je,We[Ye][sn+rt],!0)}}}for(var nt=new Uint16Array(Y),Ke=new DataView(U.buffer),mn=0;mn<ae;++mn){b[f.idx[mn]].decoded=!0;var tt=b[f.idx[mn]].type;if(b[mn].type==2)for(var Jt=0;Jt<W;++Jt){const Me=Ce[mn][Jt];for(var Dn=0;Dn<Y;++Dn)nt[Dn]=Ke.getUint16(Me+Dn*2*tt,!0);for(var Dn=0;Dn<Y;++Dn)Ke.setFloat32(Me+Dn*2*tt,ee(nt[Dn]),!0)}}}function Vn(f,p,b){for(var I,A=1;A<64;)I=p[f.value],I==65280?A=64:I>>8==255?A+=I&255:(b[A]=I,A++),f.value++}function fr(f,p){p[0]=ee(f[0]),p[1]=ee(f[1]),p[2]=ee(f[5]),p[3]=ee(f[6]),p[4]=ee(f[14]),p[5]=ee(f[15]),p[6]=ee(f[27]),p[7]=ee(f[28]),p[8]=ee(f[2]),p[9]=ee(f[4]),p[10]=ee(f[7]),p[11]=ee(f[13]),p[12]=ee(f[16]),p[13]=ee(f[26]),p[14]=ee(f[29]),p[15]=ee(f[42]),p[16]=ee(f[3]),p[17]=ee(f[8]),p[18]=ee(f[12]),p[19]=ee(f[17]),p[20]=ee(f[25]),p[21]=ee(f[30]),p[22]=ee(f[41]),p[23]=ee(f[43]),p[24]=ee(f[9]),p[25]=ee(f[11]),p[26]=ee(f[18]),p[27]=ee(f[24]),p[28]=ee(f[31]),p[29]=ee(f[40]),p[30]=ee(f[44]),p[31]=ee(f[53]),p[32]=ee(f[10]),p[33]=ee(f[19]),p[34]=ee(f[23]),p[35]=ee(f[32]),p[36]=ee(f[39]),p[37]=ee(f[45]),p[38]=ee(f[52]),p[39]=ee(f[54]),p[40]=ee(f[20]),p[41]=ee(f[22]),p[42]=ee(f[33]),p[43]=ee(f[38]),p[44]=ee(f[46]),p[45]=ee(f[51]),p[46]=ee(f[55]),p[47]=ee(f[60]),p[48]=ee(f[21]),p[49]=ee(f[34]),p[50]=ee(f[37]),p[51]=ee(f[47]),p[52]=ee(f[50]),p[53]=ee(f[56]),p[54]=ee(f[59]),p[55]=ee(f[61]),p[56]=ee(f[35]),p[57]=ee(f[36]),p[58]=ee(f[48]),p[59]=ee(f[49]),p[60]=ee(f[57]),p[61]=ee(f[58]),p[62]=ee(f[62]),p[63]=ee(f[63])}function dr(f){const p=.5*Math.cos(.7853975),b=.5*Math.cos(3.14159/16),I=.5*Math.cos(3.14159/8),A=.5*Math.cos(3*3.14159/16),U=.5*Math.cos(5*3.14159/16),Y=.5*Math.cos(3*3.14159/8),W=.5*Math.cos(7*3.14159/16);for(var ae=new Array(4),re=new Array(4),ie=new Array(4),te=new Array(4),en=0;en<8;++en){var ce=en*8;ae[0]=I*f[ce+2],ae[1]=Y*f[ce+2],ae[2]=I*f[ce+6],ae[3]=Y*f[ce+6],re[0]=b*f[ce+1]+A*f[ce+3]+U*f[ce+5]+W*f[ce+7],re[1]=A*f[ce+1]-W*f[ce+3]-b*f[ce+5]-U*f[ce+7],re[2]=U*f[ce+1]-b*f[ce+3]+W*f[ce+5]+A*f[ce+7],re[3]=W*f[ce+1]-U*f[ce+3]+A*f[ce+5]-b*f[ce+7],ie[0]=p*(f[ce+0]+f[ce+4]),ie[3]=p*(f[ce+0]-f[ce+4]),ie[1]=ae[0]+ae[3],ie[2]=ae[1]-ae[2],te[0]=ie[0]+ie[1],te[1]=ie[3]+ie[2],te[2]=ie[3]-ie[2],te[3]=ie[0]-ie[1],f[ce+0]=te[0]+re[0],f[ce+1]=te[1]+re[1],f[ce+2]=te[2]+re[2],f[ce+3]=te[3]+re[3],f[ce+4]=te[3]-re[3],f[ce+5]=te[2]-re[2],f[ce+6]=te[1]-re[1],f[ce+7]=te[0]-re[0]}for(var fe=0;fe<8;++fe)ae[0]=I*f[16+fe],ae[1]=Y*f[16+fe],ae[2]=I*f[48+fe],ae[3]=Y*f[48+fe],re[0]=b*f[8+fe]+A*f[24+fe]+U*f[40+fe]+W*f[56+fe],re[1]=A*f[8+fe]-W*f[24+fe]-b*f[40+fe]-U*f[56+fe],re[2]=U*f[8+fe]-b*f[24+fe]+W*f[40+fe]+A*f[56+fe],re[3]=W*f[8+fe]-U*f[24+fe]+A*f[40+fe]-b*f[56+fe],ie[0]=p*(f[fe]+f[32+fe]),ie[3]=p*(f[fe]-f[32+fe]),ie[1]=ae[0]+ae[3],ie[2]=ae[1]-ae[2],te[0]=ie[0]+ie[1],te[1]=ie[3]+ie[2],te[2]=ie[3]-ie[2],te[3]=ie[0]-ie[1],f[0+fe]=te[0]+re[0],f[8+fe]=te[1]+re[1],f[16+fe]=te[2]+re[2],f[24+fe]=te[3]+re[3],f[32+fe]=te[3]-re[3],f[40+fe]=te[2]-re[2],f[48+fe]=te[1]-re[1],f[56+fe]=te[0]-re[0]}function Dt(f){for(var p=0;p<64;++p){var b=f[0][p],I=f[1][p],A=f[2][p];f[0][p]=b+1.5747*A,f[1][p]=b-.1873*I-.4682*A,f[2][p]=b+1.8556*I}}function pr(f,p,b){for(var I=0;I<64;++I)p[b+I]=Oa.toHalfFloat(ht(f[I]))}function ht(f){return f<=1?Math.sign(f)*Math.pow(Math.abs(f),2.2):Math.sign(f)*Math.pow(j,Math.abs(f)-1)}function on(f){return new DataView(f.array.buffer,f.offset.value,f.size)}function mt(f){var p=f.viewer.buffer.slice(f.offset.value,f.offset.value+f.size),b=new Uint8Array(Ot(p)),I=new Uint8Array(b.length);return et(b),Yt(b,I),new DataView(I.buffer)}function hr(f){var p=f.array.slice(f.offset.value,f.offset.value+f.size),b=po(p),I=new Uint8Array(b.length);return et(b),Yt(b,I),new DataView(I.buffer)}function Rr(f){for(var p=f.viewer,b={value:f.offset.value},I=new Uint16Array(f.width*f.scanlineBlockSize*(f.channels*f.type)),A=new Uint8Array(8192),U=0,Y=new Array(f.channels),W=0;W<f.channels;W++)Y[W]={},Y[W].start=U,Y[W].end=Y[W].start,Y[W].nx=f.width,Y[W].ny=f.lines,Y[W].size=f.type,U+=Y[W].nx*Y[W].ny*Y[W].size;var ae=wn(p,b),re=wn(p,b);if(re>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ae<=re)for(var W=0;W<re-ae+1;W++)A[W+ae]=E(p,b);var ie=new Uint16Array(65536),te=Z(A,ie),en=hn(p,b);Nr(f.array,p,b,en,I,U);for(var W=0;W<f.channels;++W)for(var ce=Y[W],fe=0;fe<Y[W].size;++fe)Jn(I,ce.start+fe,ce.nx,ce.size,ce.ny,ce.nx*ce.size,te);_t(ie,I,U);for(var xe=0,Ee=new Uint8Array(I.buffer.byteLength),Ie=0;Ie<f.lines;Ie++)for(var We=0;We<f.channels;We++){var ce=Y[We],Ce=ce.nx*ce.size,En=new Uint8Array(I.buffer,ce.end*2,Ce*2);Ee.set(En,xe),xe+=Ce*2,ce.end+=Ce}return new DataView(Ee.buffer)}function At(f){var p=f.array.slice(f.offset.value,f.offset.value+f.size),b=po(p);const I=f.lines*f.channels*f.width,A=f.type==1?new Uint16Array(I):new Uint32Array(I);let U=0,Y=0;const W=new Array(4);for(let ae=0;ae<f.lines;ae++)for(let re=0;re<f.channels;re++){let ie=0;switch(f.type){case 1:W[0]=U,W[1]=W[0]+f.width,U=W[1]+f.width;for(let te=0;te<f.width;++te){const en=b[W[0]++]<<8|b[W[1]++];ie+=en,A[Y]=ie,Y++}break;case 2:W[0]=U,W[1]=W[0]+f.width,W[2]=W[1]+f.width,U=W[2]+f.width;for(let te=0;te<f.width;++te){const en=b[W[0]++]<<24|b[W[1]++]<<16|b[W[2]++]<<8;ie+=en,A[Y]=ie,Y++}break}}return new DataView(A.buffer)}function Mt(f){var p=f.viewer,b={value:f.offset.value},I=new Uint8Array(f.width*f.lines*(f.channels*f.type*2)),A={version:q(p,b),unknownUncompressedSize:q(p,b),unknownCompressedSize:q(p,b),acCompressedSize:q(p,b),dcCompressedSize:q(p,b),rleCompressedSize:q(p,b),rleUncompressedSize:q(p,b),rleRawSize:q(p,b),totalAcUncompressedCount:q(p,b),totalDcUncompressedCount:q(p,b),acCompression:q(p,b)};if(A.version<2)throw"EXRLoader.parse: "+Kt.compression+" version "+A.version+" is unsupported";for(var U=new Array,Y=wn(p,b)-2;Y>0;){var W=Tn(p.buffer,b),ae=E(p,b),re=ae>>2&3,ie=(ae>>4)-1,te=new Int8Array([ie])[0],en=E(p,b);U.push({name:W,index:te,type:en,compression:re}),Y-=W.length+3}for(var ce=Kt.channels,fe=new Array(f.channels),xe=0;xe<f.channels;++xe){var Ee=fe[xe]={},Ie=ce[xe];Ee.name=Ie.name,Ee.compression=0,Ee.decoded=!1,Ee.type=Ie.pixelType,Ee.pLinear=Ie.pLinear,Ee.width=f.width,Ee.height=f.lines}for(var We={idx:new Array(3)},Ce=0;Ce<f.channels;++Ce)for(var Ee=fe[Ce],xe=0;xe<U.length;++xe){var En=U[xe];Ee.name==En.name&&(Ee.compression=En.compression,En.index>=0&&(We.idx[En.index]=Ce),Ee.offset=Ce)}if(A.acCompressedSize>0)switch(A.acCompression){case 0:var Ke=new Uint16Array(A.totalAcUncompressedCount);Nr(f.array,p,b,A.acCompressedSize,Ke,A.totalAcUncompressedCount);break;case 1:var Ge=f.array.slice(b.value,b.value+A.totalAcUncompressedCount),nt=po(Ge),Ke=new Uint16Array(nt.buffer);b.value+=A.totalAcUncompressedCount;break}if(A.dcCompressedSize>0){var mn={array:f.array,offset:b,size:A.dcCompressedSize},tt=new Uint16Array(hr(mn).buffer);b.value+=A.dcCompressedSize}if(A.rleRawSize>0){var Ge=f.array.slice(b.value,b.value+A.rleCompressedSize),nt=po(Ge),Jt=Ot(nt.buffer);b.value+=A.rleCompressedSize}for(var Dn=0,Me=new Array(fe.length),xe=0;xe<Me.length;++xe)Me[xe]=new Array;for(var Pe=0;Pe<f.lines;++Pe)for(var Ye=0;Ye<fe.length;++Ye)Me[Ye].push(Dn),Dn+=fe[Ye].width*f.type*2;pt(We,Me,fe,Ke,tt,I);for(var xe=0;xe<fe.length;++xe){var Ee=fe[xe];if(!Ee.decoded)switch(Ee.compression){case 2:for(var je=0,In=0,Pe=0;Pe<f.lines;++Pe){for(var Ct=Me[xe][je],sn=0;sn<Ee.width;++sn){for(var rt=0;rt<2*Ee.type;++rt)I[Ct++]=Jt[In+rt*Ee.width*Ee.height];In++}je++}break;default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(I.buffer)}function Tn(f,p){for(var b=new Uint8Array(f),I=0;b[p.value+I]!=0;)I+=1;var A=new TextDecoder().decode(b.slice(p.value,p.value+I));return p.value=p.value+I+1,A}function Ut(f,p,b){var I=new TextDecoder().decode(new Uint8Array(f).slice(p.value,p.value+b));return p.value=p.value+b,I}function Pr(f,p){var b=Lt(f,p),I=hn(f,p);return[b,I]}function ea(f,p){var b=hn(f,p),I=hn(f,p);return[b,I]}function Lt(f,p){var b=f.getInt32(p.value,!0);return p.value=p.value+4,b}function hn(f,p){var b=f.getUint32(p.value,!0);return p.value=p.value+4,b}function Xt(f,p){var b=f[p.value];return p.value=p.value+1,b}function E(f,p){var b=f.getUint8(p.value);return p.value=p.value+1,b}const q=function(f,p){let b;return"getBigInt64"in DataView.prototype?b=Number(f.getBigInt64(p.value,!0)):b=f.getUint32(p.value+4,!0)+Number(f.getUint32(p.value,!0)<<32),p.value+=8,b};function ue(f,p){var b=f.getFloat32(p.value,!0);return p.value+=4,b}function Ue(f,p){return Oa.toHalfFloat(ue(f,p))}function ee(f){var p=(f&31744)>>10,b=f&1023;return(f>>15?-1:1)*(p?p===31?b?NaN:1/0:Math.pow(2,p-15)*(1+b/1024):6103515625e-14*(b/1024))}function wn(f,p){var b=f.getUint16(p.value,!0);return p.value+=2,b}function Bn(f,p){return ee(wn(f,p))}function $a(f,p,b,I){for(var A=b.value,U=[];b.value<A+I-1;){var Y=Tn(p,b),W=Lt(f,b),ae=E(f,b);b.value+=3;var re=Lt(f,b),ie=Lt(f,b);U.push({name:Y,pixelType:W,pLinear:ae,xSampling:re,ySampling:ie})}return b.value+=1,U}function Qt(f,p){var b=ue(f,p),I=ue(f,p),A=ue(f,p),U=ue(f,p),Y=ue(f,p),W=ue(f,p),ae=ue(f,p),re=ue(f,p);return{redX:b,redY:I,greenX:A,greenY:U,blueX:Y,blueY:W,whiteX:ae,whiteY:re}}function Wn(f,p){var b=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],I=E(f,p);return b[I]}function qn(f,p){var b=hn(f,p),I=hn(f,p),A=hn(f,p),U=hn(f,p);return{xMin:b,yMin:I,xMax:A,yMax:U}}function Hn(f,p){var b=["INCREASING_Y"],I=E(f,p);return b[I]}function jt(f,p){var b=ue(f,p),I=ue(f,p);return[b,I]}function Bt(f,p){var b=ue(f,p),I=ue(f,p),A=ue(f,p);return[b,I,A]}function kt(f,p,b,I,A){if(I==="string"||I==="stringvector"||I==="iccProfile")return Ut(p,b,A);if(I==="chlist")return $a(f,p,b,A);if(I==="chromaticities")return Qt(f,b);if(I==="compression")return Wn(f,b);if(I==="box2i")return qn(f,b);if(I==="lineOrder")return Hn(f,b);if(I==="float")return ue(f,b);if(I==="v2f")return jt(f,b);if(I==="v3f")return Bt(f,b);if(I==="int")return Lt(f,b);if(I==="rational")return Pr(f,b);if(I==="timecode")return ea(f,b);if(I==="preview")return b.value+=A,"skipped";b.value+=A}function Fr(f,p,b){const I={};if(f.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";I.version=f.getUint8(4);const A=f.getUint8(5);I.spec={singleTile:!!(A&2),longName:!!(A&4),deepFormat:!!(A&8),multiPart:!!(A&16)},b.value=8;for(var U=!0;U;){var Y=Tn(p,b);if(Y==0)U=!1;else{var W=Tn(p,b),ae=hn(f,b),re=kt(f,p,b,W,ae);re===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${W}'.`):I[Y]=re}}if((A&-5)!=0)throw console.error("EXRHeader:",I),"THREE.EXRLoader: provided file is currently unsupported.";return I}function na(f,p,b,I,A){const U={size:0,viewer:p,array:b,offset:I,width:f.dataWindow.xMax-f.dataWindow.xMin+1,height:f.dataWindow.yMax-f.dataWindow.yMin+1,channels:f.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:f.channels[0].pixelType,uncompress:null,getter:null,format:null,[mi?"colorSpace":"encoding"]:null};switch(f.compression){case"NO_COMPRESSION":U.lines=1,U.uncompress=on;break;case"RLE_COMPRESSION":U.lines=1,U.uncompress=mt;break;case"ZIPS_COMPRESSION":U.lines=1,U.uncompress=hr;break;case"ZIP_COMPRESSION":U.lines=16,U.uncompress=hr;break;case"PIZ_COMPRESSION":U.lines=32,U.uncompress=Rr;break;case"PXR24_COMPRESSION":U.lines=16,U.uncompress=At;break;case"DWAA_COMPRESSION":U.lines=32,U.uncompress=Mt;break;case"DWAB_COMPRESSION":U.lines=256,U.uncompress=Mt;break;default:throw"EXRLoader.parse: "+f.compression+" is unsupported"}if(U.scanlineBlockSize=U.lines,U.type==1)switch(A){case Gt:U.getter=Bn,U.inputSize=2;break;case Kn:U.getter=wn,U.inputSize=2;break}else if(U.type==2)switch(A){case Gt:U.getter=ue,U.inputSize=4;break;case Kn:U.getter=Ue,U.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+U.type+" for "+f.compression+".";U.blockCount=(f.dataWindow.yMax+1)/U.scanlineBlockSize;for(var Y=0;Y<U.blockCount;Y++)q(p,I);U.outputChannels=U.channels==3?4:U.channels;const W=U.width*U.height*U.outputChannels;switch(A){case Gt:U.byteArray=new Float32Array(W),U.channels<U.outputChannels&&U.byteArray.fill(1,0,W);break;case Kn:U.byteArray=new Uint16Array(W),U.channels<U.outputChannels&&U.byteArray.fill(15360,0,W);break;default:console.error("THREE.EXRLoader: unsupported type: ",A);break}return U.bytesPerLine=U.width*U.inputSize*U.channels,U.outputChannels==4?U.format=Ua:U.format=Yh,mi?U.colorSpace="srgb-linear":U.encoding=3e3,U}const Or=new DataView(a),ta=new Uint8Array(a),Ht={value:0},Kt=Fr(Or,a,Ht),_e=na(Kt,Or,ta,Ht,this.type),Va={value:0},ra={R:0,G:1,B:2,A:3,Y:0};for(let f=0;f<_e.height/_e.scanlineBlockSize;f++){const p=hn(Or,Ht);_e.size=hn(Or,Ht),_e.lines=p+_e.scanlineBlockSize>_e.height?_e.height-p:_e.scanlineBlockSize;const I=_e.size<_e.lines*_e.bytesPerLine?_e.uncompress(_e):on(_e);Ht.value+=_e.size;for(let A=0;A<_e.scanlineBlockSize;A++){const U=A+f*_e.scanlineBlockSize;if(U>=_e.height)break;for(let Y=0;Y<_e.channels;Y++){const W=ra[Kt.channels[Y].name];for(let ae=0;ae<_e.width;ae++){Va.value=(A*(_e.channels*_e.width)+Y*_e.width+ae)*_e.inputSize;const re=(_e.height-1-U)*(_e.width*_e.outputChannels)+ae*_e.outputChannels+W;_e.byteArray[re]=_e.getter(I,Va)}}}}return{header:Kt,width:_e.width,height:_e.height,data:_e.byteArray,format:_e.format,[mi?"colorSpace":"encoding"]:_e[mi?"colorSpace":"encoding"],type:this.type}}setDataType(a){return this.type=a,this}load(a,u,s,c){function h(S,g){mi?S.colorSpace=g.colorSpace:S.encoding=g.encoding,S.minFilter=Et,S.magFilter=Et,S.generateMipmaps=!1,S.flipY=!1,u&&u(S,g)}return super.load(a,h,s,c)}}function ud(o,a,u,s){var c;return c=class extends La{constructor(h){super({vertexShader:a,fragmentShader:u,...h});for(const S in o)this.uniforms[S]=new Xh(o[S]),Object.defineProperty(this,S,{get(){return this.uniforms[S].value},set(g){this.uniforms[S].value=g}});this.uniforms=Qh.clone(this.uniforms)}},c.key=vo.generateUUID(),c}const Jg=()=>parseInt(Kh.replace(/\D+/g,"")),cd=Jg();function ev(o,a,u){const s=tn(P=>P.size),c=tn(P=>P.viewport),h=typeof o=="number"?o:s.width*c.dpr,S=s.height*c.dpr,g=(typeof o=="number"?u:o)||{},{samples:m=0,depth:y,...w}=g,C=y??g.depthBuffer,T=k.useMemo(()=>{const P=new Qr(h,S,{minFilter:Et,magFilter:Et,type:Kn,...w});return C&&(P.depthTexture=new Jh(h,S,Gt)),P.samples=m,P},[]);return k.useLayoutEffect(()=>{T.setSize(h,S),m&&(T.samples=m)},[m,T,h,S]),k.useEffect(()=>()=>T.dispose(),[]),T}const nv=o=>typeof o=="function",Bv=k.forwardRef(({envMap:o,resolution:a=256,frames:u=1/0,makeDefault:s,children:c,...h},S)=>{const g=tn(({set:B})=>B),m=tn(({camera:B})=>B),y=tn(({size:B})=>B),w=k.useRef(null);k.useImperativeHandle(S,()=>w.current,[]);const C=k.useRef(null),T=ev(a);k.useLayoutEffect(()=>{h.manual||(w.current.aspect=y.width/y.height)},[y,h]),k.useLayoutEffect(()=>{w.current.updateProjectionMatrix()});let P=0,L=null;const H=nv(c);return Za(B=>{H&&(u===1/0||P<u)&&(C.current.visible=!1,B.gl.setRenderTarget(T),L=B.scene.background,o&&(B.scene.background=o),B.gl.render(B.scene,w.current),B.scene.background=L,B.gl.setRenderTarget(null),C.current.visible=!0,P++)}),k.useLayoutEffect(()=>{if(s){const B=m;return g(()=>({camera:w.current})),()=>g(()=>({camera:B}))}},[w,s,g]),k.createElement(k.Fragment,null,k.createElement("perspectiveCamera",xt({ref:w},h),!H&&c),k.createElement("group",{ref:C},H&&c(T.texture)))}),Hv=k.forwardRef(({makeDefault:o,camera:a,regress:u,domElement:s,enableDamping:c=!0,keyEvents:h=!1,onChange:S,onStart:g,onEnd:m,...y},w)=>{const C=tn(M=>M.invalidate),T=tn(M=>M.camera),P=tn(M=>M.gl),L=tn(M=>M.events),H=tn(M=>M.setEvents),B=tn(M=>M.set),N=tn(M=>M.get),_=tn(M=>M.performance),X=a||T,Q=s||L.connected||P.domElement,R=k.useMemo(()=>new Gg(X),[X]);return Za(()=>{R.enabled&&R.update()},-1),k.useEffect(()=>(h&&R.connect(h===!0?Q:h),R.connect(Q),()=>{R.dispose()}),[h,Q,u,R,C]),k.useEffect(()=>{const M=j=>{C(),u&&_.regress(),S&&S(j)},V=j=>{g&&g(j)},D=j=>{m&&m(j)};return R.addEventListener("change",M),R.addEventListener("start",V),R.addEventListener("end",D),()=>{R.removeEventListener("start",V),R.removeEventListener("end",D),R.removeEventListener("change",M)}},[S,g,m,R,C,H]),k.useEffect(()=>{if(o){const M=N().controls;return B({controls:R}),()=>B({controls:M})}},[o,R]),k.createElement("primitive",xt({ref:w,object:R,enableDamping:c},y))}),tv=k.forwardRef(function({children:a,object:u,disable:s,disableX:c,disableY:h,disableZ:S,left:g,right:m,top:y,bottom:w,front:C,back:T,onCentered:P,precise:L=!0,cacheKey:H=0,...B},N){const _=k.useRef(null),X=k.useRef(null),Q=k.useRef(null),[R]=k.useState(()=>new Of),[M]=k.useState(()=>new Re),[V]=k.useState(()=>new em);return k.useLayoutEffect(()=>{X.current.matrixWorld.identity(),R.setFromObject(u??Q.current,L);const D=R.max.x-R.min.x,j=R.max.y-R.min.y,Z=R.max.z-R.min.z;R.getCenter(M),R.getBoundingSphere(V);const le=y?j/2:w?-j/2:0,de=g?-D/2:m?D/2:0,G=C?Z/2:T?-Z/2:0;X.current.position.set(s||c?0:-M.x+de,s||h?0:-M.y+le,s||S?0:-M.z+G),P?.({parent:_.current.parent,container:_.current,width:D,height:j,depth:Z,boundingBox:R,boundingSphere:V,center:M,verticalAlignment:le,horizontalAlignment:de,depthAlignment:G})},[H,P,y,g,C,s,c,h,S,u,L,m,w,T,R,M,V]),k.useImperativeHandle(N,()=>_.current,[]),k.createElement("group",xt({ref:_},B),k.createElement("group",{ref:X},k.createElement("group",{ref:Q},a)))}),rv=ud({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");var St=(function(o){return o[o.NONE=0]="NONE",o[o.START=1]="START",o[o.ACTIVE=2]="ACTIVE",o})(St||{});const Fa=o=>o&&o.isOrthographicCamera,av=o=>o&&o.isBox3,iv=o=>1-Math.exp(-5*o)+.007*o,fd=k.createContext(null);function ov({children:o,maxDuration:a=1,margin:u=1.2,observe:s,fit:c,clip:h,interpolateFunc:S=iv,onFit:g}){const m=k.useRef(null),{camera:y,size:w,invalidate:C}=tn(),T=tn(R=>R.controls),P=k.useRef(g);P.current=g;const L=k.useRef({camPos:new Re,camRot:new bi,camZoom:1}),H=k.useRef({camPos:void 0,camRot:void 0,camZoom:void 0,camUp:void 0,target:void 0}),B=k.useRef(St.NONE),N=k.useRef(0),[_]=k.useState(()=>new Of),X=k.useMemo(()=>{function R(){const M=_.getSize(new Re),V=_.getCenter(new Re),D=Math.max(M.x,M.y,M.z),j=Fa(y)?D*4:D/(2*Math.atan(Math.PI*y.fov/360)),Z=Fa(y)?D*4:j/y.aspect,le=u*Math.max(j,Z);return{box:_,size:M,center:V,distance:le}}return{getSize:R,refresh(M){if(av(M))_.copy(M);else{const V=M||m.current;if(!V)return this;V.updateWorldMatrix(!0,!0),_.setFromObject(V)}if(_.isEmpty()){const V=y.position.length()||10;_.setFromCenterAndSize(new Re,new Re(V,V,V))}return L.current.camPos.copy(y.position),L.current.camRot.copy(y.quaternion),Fa(y)&&(L.current.camZoom=y.zoom),H.current.camPos=void 0,H.current.camRot=void 0,H.current.camZoom=void 0,H.current.camUp=void 0,H.current.target=void 0,this},reset(){const{center:M,distance:V}=R(),D=y.position.clone().sub(M).normalize();H.current.camPos=M.clone().addScaledVector(D,V),H.current.target=M.clone();const j=new Jl().lookAt(H.current.camPos,H.current.target,y.up);return H.current.camRot=new bi().setFromRotationMatrix(j),B.current=St.START,N.current=0,this},moveTo(M){return H.current.camPos=Array.isArray(M)?new Re(...M):M.clone(),B.current=St.START,N.current=0,this},lookAt({target:M,up:V}){H.current.target=Array.isArray(M)?new Re(...M):M.clone(),V?H.current.camUp=Array.isArray(V)?new Re(...V):V.clone():H.current.camUp=y.up.clone();const D=new Jl().lookAt(H.current.camPos||y.position,H.current.target,H.current.camUp);return H.current.camRot=new bi().setFromRotationMatrix(D),B.current=St.START,N.current=0,this},to({position:M,target:V}){return this.moveTo(M).lookAt({target:V})},fit(){if(!Fa(y))return this.reset();let M=0,V=0;const D=[new Re(_.min.x,_.min.y,_.min.z),new Re(_.min.x,_.max.y,_.min.z),new Re(_.min.x,_.min.y,_.max.z),new Re(_.min.x,_.max.y,_.max.z),new Re(_.max.x,_.max.y,_.max.z),new Re(_.max.x,_.max.y,_.min.z),new Re(_.max.x,_.min.y,_.max.z),new Re(_.max.x,_.min.y,_.min.z)],j=H.current.camPos||y.position,Z=H.current.target||T?.target,le=H.current.camUp||y.up,de=Z?new Jl().lookAt(j,Z,le).setPosition(j).invert():y.matrixWorldInverse;for(const pe of D)pe.applyMatrix4(de),M=Math.max(M,Math.abs(pe.y)),V=Math.max(V,Math.abs(pe.x));M*=2,V*=2;const G=(y.top-y.bottom)/M,ne=(y.right-y.left)/V;return H.current.camZoom=Math.min(G,ne)/u,B.current=St.START,N.current=0,P.current&&P.current(this.getSize()),this},clip(){const{distance:M}=R();return y.near=M/100,y.far=M*100,y.updateProjectionMatrix(),T&&(T.maxDistance=M*10,T.update()),C(),this}}},[_,y,T,u,C]);k.useLayoutEffect(()=>{if(T){const R=()=>{if(T&&H.current.target&&B.current!==St.NONE){const M=new Re().setFromMatrixColumn(y.matrix,2),V=L.current.camPos.distanceTo(T.target),D=(H.current.camPos||L.current.camPos).distanceTo(H.current.target),j=(1-N.current)*V+N.current*D;T.target.copy(y.position).addScaledVector(M,-j),T.update()}B.current=St.NONE};return T.addEventListener("start",R),()=>T.removeEventListener("start",R)}},[T]);const Q=k.useRef(0);return k.useLayoutEffect(()=>{(s||Q.current++===0)&&(X.refresh(),c&&X.reset().fit(),h&&X.clip())},[w,h,c,s,y,T]),Za((R,M)=>{if(B.current===St.START)B.current=St.ACTIVE,C();else if(B.current===St.ACTIVE){if(N.current+=M/a,N.current>=1)H.current.camPos&&y.position.copy(H.current.camPos),H.current.camRot&&y.quaternion.copy(H.current.camRot),H.current.camUp&&y.up.copy(H.current.camUp),H.current.camZoom&&Fa(y)&&(y.zoom=H.current.camZoom),y.updateMatrixWorld(),y.updateProjectionMatrix(),T&&H.current.target&&(T.target.copy(H.current.target),T.update()),B.current=St.NONE;else{const V=S(N.current);H.current.camPos&&y.position.lerpVectors(L.current.camPos,H.current.camPos,V),H.current.camRot&&y.quaternion.slerpQuaternions(L.current.camRot,H.current.camRot,V),H.current.camUp&&y.up.set(0,1,0).applyQuaternion(y.quaternion),H.current.camZoom&&Fa(y)&&(y.zoom=(1-V)*L.current.camZoom+V*H.current.camZoom),y.updateMatrixWorld(),y.updateProjectionMatrix()}C()}}),k.createElement("group",{ref:m},k.createElement(fd.Provider,{value:X},o))}function lv(){return k.useContext(fd)}const dd=(o,a,u)=>{let s;switch(o){case wo:s=new Uint8ClampedArray(a*u*4);break;case Kn:s=new Uint16Array(a*u*4);break;case om:s=new Uint32Array(a*u*4);break;case im:s=new Int8Array(a*u*4);break;case am:s=new Int16Array(a*u*4);break;case rm:s=new Int32Array(a*u*4);break;case Gt:s=new Float32Array(a*u*4);break;default:throw new Error("Unsupported data type")}return s};let mo;const sv=(o,a,u,s)=>{if(mo!==void 0)return mo;const c=new Qr(1,1,s);a.setRenderTarget(c);const h=new Io(new ys,new tm({color:16777215}));a.render(h,u),a.setRenderTarget(null);const S=dd(o,c.width,c.height);return a.readRenderTargetPixels(c,0,0,c.width,c.height,S),c.dispose(),h.geometry.dispose(),h.material.dispose(),mo=S[0]!==0,mo};class Cs{_renderer;_rendererIsDisposable=!1;_material;_scene;_camera;_quad;_renderTarget;_width;_height;_type;_colorSpace;_supportsReadPixels=!0;constructor(a){this._width=a.width,this._height=a.height,this._type=a.type,this._colorSpace=a.colorSpace;const u={format:Ua,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:a.renderTargetOptions?.anisotropy!==void 0?a.renderTargetOptions?.anisotropy:1,generateMipmaps:a.renderTargetOptions?.generateMipmaps!==void 0?a.renderTargetOptions?.generateMipmaps:!1,magFilter:a.renderTargetOptions?.magFilter!==void 0?a.renderTargetOptions?.magFilter:Et,minFilter:a.renderTargetOptions?.minFilter!==void 0?a.renderTargetOptions?.minFilter:Et,samples:a.renderTargetOptions?.samples!==void 0?a.renderTargetOptions?.samples:void 0,wrapS:a.renderTargetOptions?.wrapS!==void 0?a.renderTargetOptions?.wrapS:Ir,wrapT:a.renderTargetOptions?.wrapT!==void 0?a.renderTargetOptions?.wrapT:Ir};if(this._material=a.material,a.renderer?this._renderer=a.renderer:(this._renderer=Cs.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new vs,this._camera=new vi,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!sv(this._type,this._renderer,this._camera,u)){let s;this._type===Kn&&(s=this._renderer.extensions.has("EXT_color_buffer_float")?Gt:void 0),s!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Gt}`),this._type=s):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Io(new ys,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Qr(this.width,this.height,u),this._renderTarget.texture.mapping=a.renderTargetOptions?.mapping!==void 0?a.renderTargetOptions?.mapping:Eo}static instantiateRenderer(){const a=new Rf;return a.setSize(128,128),a}render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(a){throw this._renderer.setRenderTarget(null),a}this._renderer.setRenderTarget(null)};toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const a=dd(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,a),a}toDataTexture(a){const u=new nm(this.toArray(),this.width,this.height,Ua,this._type,a?.mapping||Eo,a?.wrapS||Ir,a?.wrapT||Ir,a?.magFilter||Et,a?.minFilter||Et,a?.anisotropy||1,So);return u.generateMipmaps=a?.generateMipmaps!==void 0?a?.generateMipmaps:!1,u}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(a){this.disposeOnDemandRenderer(),a&&this.renderTarget.dispose(),this.material instanceof La&&Object.values(this.material.uniforms).forEach(u=>{u.value instanceof Da&&u.value.dispose()}),Object.values(this.material).forEach(u=>{u instanceof Da&&u.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(a){this._width=a,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(a){this._height=a,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(a){this._renderTarget=a,this._width=a.width,this._height=a.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class pd extends Error{}class hd extends Error{}const gi=(o,a,u)=>{const s=new RegExp(`${a}="([^"]*)"`,"i").exec(o);if(s)return s[1];const c=new RegExp(`<${a}[^>]*>([\\s\\S]*?)</${a}>`,"i").exec(o);if(c){const h=c[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return h&&h.length===3?h.map(S=>S.replace(/<\/?rdf:li>/g,"")):c[1].trim()}if(u!==void 0)return u;throw new Error(`Can't find ${a} in gainmap metadata`)},uv=o=>{let a;typeof TextDecoder<"u"?a=new TextDecoder().decode(o):a=o.toString();let u=a.indexOf("<x:xmpmeta");for(;u!==-1;){const s=a.indexOf("x:xmpmeta>",u),c=a.slice(u,s+10);try{const h=gi(c,"hdrgm:GainMapMin","0"),S=gi(c,"hdrgm:GainMapMax"),g=gi(c,"hdrgm:Gamma","1"),m=gi(c,"hdrgm:OffsetSDR","0.015625"),y=gi(c,"hdrgm:OffsetHDR","0.015625"),w=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(c),C=w?w[1]:"0",T=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(c);if(!T)throw new Error("Incomplete gainmap metadata");const P=T[1];return{gainMapMin:Array.isArray(h)?h.map(L=>parseFloat(L)):[parseFloat(h),parseFloat(h),parseFloat(h)],gainMapMax:Array.isArray(S)?S.map(L=>parseFloat(L)):[parseFloat(S),parseFloat(S),parseFloat(S)],gamma:Array.isArray(g)?g.map(L=>parseFloat(L)):[parseFloat(g),parseFloat(g),parseFloat(g)],offsetSdr:Array.isArray(m)?m.map(L=>parseFloat(L)):[parseFloat(m),parseFloat(m),parseFloat(m)],offsetHdr:Array.isArray(y)?y.map(L=>parseFloat(L)):[parseFloat(y),parseFloat(y),parseFloat(y)],hdrCapacityMin:parseFloat(C),hdrCapacityMax:parseFloat(P)}}catch{}u=a.indexOf("<x:xmpmeta",s)}};class cv{options;constructor(a){this.options={debug:a&&a.debug!==void 0?a.debug:!1,extractFII:a&&a.extractFII!==void 0?a.extractFII:!0,extractNonFII:a&&a.extractNonFII!==void 0?a.extractNonFII:!0}}extract(a){return new Promise((u,s)=>{const c=this.options.debug,h=new DataView(a.buffer);if(h.getUint16(0)!==65496){s(new Error("Not a valid jpeg"));return}const S=h.byteLength;let g=2,m=0,y;for(;g<S;){if(++m>250){s(new Error(`Found no marker after ${m} loops `));return}if(h.getUint8(g)!==255){s(new Error(`Not a valid marker at offset 0x${g.toString(16)}, found: 0x${h.getUint8(g).toString(16)}`));return}if(y=h.getUint8(g+1),c&&console.log(`Marker: ${y.toString(16)}`),y===226){c&&console.log("Found APP2 marker (0xffe2)");const w=g+4;if(h.getUint32(w)===1297106432){const C=w+4;let T;if(h.getUint16(C)===18761)T=!1;else if(h.getUint16(C)===19789)T=!0;else{s(new Error("No valid endianness marker found in TIFF header"));return}if(h.getUint16(C+2,!T)!==42){s(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const P=h.getUint32(C+4,!T);if(P<8){s(new Error("Not valid TIFF data! (First offset less than 8)"));return}const L=C+P,H=h.getUint16(L,!T),B=L+2;let N=0;for(let R=B;R<B+12*H;R+=12)h.getUint16(R,!T)===45057&&(N=h.getUint32(R+8,!T));const X=L+2+H*12+4,Q=[];for(let R=X;R<X+N*16;R+=16){const M={MPType:h.getUint32(R,!T),size:h.getUint32(R+4,!T),dataOffset:h.getUint32(R+8,!T),dependantImages:h.getUint32(R+12,!T),start:-1,end:-1,isFII:!1};M.dataOffset?(M.start=C+M.dataOffset,M.isFII=!1):(M.start=0,M.isFII=!0),M.end=M.start+M.size,Q.push(M)}if(this.options.extractNonFII&&Q.length){const R=new Blob([h]),M=[];for(const V of Q){if(V.isFII&&!this.options.extractFII)continue;const D=R.slice(V.start,V.end+1,"image/jpeg");M.push(D)}u(M)}}}g+=2+h.getUint16(g+2)}})}}const fv=async o=>{const a=uv(o);if(!a)throw new hd("Gain map XMP metadata not found");const s=await new cv({extractFII:!0,extractNonFII:!0}).extract(o);if(s.length!==2)throw new pd("Gain map recovery image not found");return{sdr:new Uint8Array(await s[0].arrayBuffer()),gainMap:new Uint8Array(await s[1].arrayBuffer()),metadata:a}},zf=o=>new Promise((a,u)=>{const s=document.createElement("img");s.onload=()=>{a(s)},s.onerror=c=>{u(c)},s.src=URL.createObjectURL(o)});class dv extends lm{_renderer;_renderTargetOptions;_internalLoadingManager;_config;constructor(a,u){super(u),this._config=a,a.renderer&&(this._renderer=a.renderer),this._internalLoadingManager=new sm}setRenderer(a){return this._renderer=a,this}setRenderTargetOptions(a){return this._renderTargetOptions=a,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const a=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Da,sdr:new Da});return this._config.createQuadRenderer({width:16,height:16,type:Kn,colorSpace:So,material:a,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(a,u,s){const c=u?new Blob([u],{type:"image/jpeg"}):void 0,h=new Blob([a],{type:"image/jpeg"});let S,g,m=!1;if(typeof createImageBitmap>"u"){const y=await Promise.all([c?zf(c):Promise.resolve(void 0),zf(h)]);g=y[0],S=y[1],m=s==="flipY"}else{const y=await Promise.all([c?createImageBitmap(c,{imageOrientation:s||"flipY"}):Promise.resolve(void 0),createImageBitmap(h,{imageOrientation:s||"flipY"})]);g=y[0],S=y[1]}return{sdrImage:S,gainMapImage:g,needsFlip:m}}createTextures(a,u,s){const c=new Da(u||new ImageData(2,2),Eo,Ir,Ir,Et,df,Ua,wo,1,So);c.flipY=s,c.needsUpdate=!0;const h=new Da(a,Eo,Ir,Ir,Et,df,Ua,wo,1,bs);return h.flipY=s,h.needsUpdate=!0,{gainMap:c,sdr:h}}updateQuadRenderer(a,u,s,c,h){a.width=u.width,a.height=u.height,a.material.gainMap=s,a.material.sdr=c,a.material.gainMapMin=h.gainMapMin,a.material.gainMapMax=h.gainMapMax,a.material.offsetHdr=h.offsetHdr,a.material.offsetSdr=h.offsetSdr,a.material.gamma=h.gamma,a.material.hdrCapacityMin=h.hdrCapacityMin,a.material.hdrCapacityMax=h.hdrCapacityMax,a.material.maxDisplayBoost=Math.pow(2,h.hdrCapacityMax),a.material.needsUpdate=!0}}const pv=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,hv=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class mv extends La{_maxDisplayBoost;_hdrCapacityMin;_hdrCapacityMax;constructor({gamma:a,offsetHdr:u,offsetSdr:s,gainMapMin:c,gainMapMax:h,maxDisplayBoost:S,hdrCapacityMin:g,hdrCapacityMax:m,sdr:y,gainMap:w}){super({name:"GainMapDecoderMaterial",vertexShader:pv,fragmentShader:hv,uniforms:{sdr:{value:y},gainMap:{value:w},gamma:{value:new Re(1/a[0],1/a[1],1/a[2])},offsetHdr:{value:new Re().fromArray(u)},offsetSdr:{value:new Re().fromArray(s)},gainMapMin:{value:new Re().fromArray(c)},gainMapMax:{value:new Re().fromArray(h)},weightFactor:{value:(Math.log2(S)-g)/(m-g)}},blending:um,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=S,this._hdrCapacityMin=g,this._hdrCapacityMax=m,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(a){this.uniforms.sdr.value=a}get gainMap(){return this.uniforms.gainMap.value}set gainMap(a){this.uniforms.gainMap.value=a}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(a){this.uniforms.offsetHdr.value.fromArray(a)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(a){this.uniforms.offsetSdr.value.fromArray(a)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(a){this.uniforms.gainMapMin.value.fromArray(a)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(a){this.uniforms.gainMapMax.value.fromArray(a)}get gamma(){const a=this.uniforms.gamma.value;return[1/a.x,1/a.y,1/a.z]}set gamma(a){const u=this.uniforms.gamma.value;u.x=1/a[0],u.y=1/a[1],u.z=1/a[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(a){this._hdrCapacityMin=a,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(a){this._hdrCapacityMax=a,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(a){this._maxDisplayBoost=Math.max(1,Math.min(65504,a)),this.calculateWeight()}calculateWeight(){const a=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,a))}}class md extends dv{constructor(a,u){super({renderer:a,createMaterial:s=>new mv(s),createQuadRenderer:s=>new Cs(s)},u)}async render(a,u,s,c){const{sdrImage:h,gainMapImage:S,needsFlip:g}=await this.processImages(s,c,"flipY"),{gainMap:m,sdr:y}=this.createTextures(h,S,g);this.updateQuadRenderer(a,h,m,y,u),a.render()}}class gv extends md{load([a,u,s],c,h,S){const g=this.prepareQuadRenderer();let m,y,w;const C=async()=>{if(m&&y&&w){try{await this.render(g,w,m,y)}catch(j){this.manager.itemError(a),this.manager.itemError(u),this.manager.itemError(s),typeof S=="function"&&S(j),g.disposeOnDemandRenderer();return}typeof c=="function"&&c(g),this.manager.itemEnd(a),this.manager.itemEnd(u),this.manager.itemEnd(s),g.disposeOnDemandRenderer()}};let T=!0,P=0,L=0,H=!0,B=0,N=0,_=!0,X=0,Q=0;const R=()=>{if(typeof h=="function"){const j=P+B+X,Z=L+N+Q,le=T&&H&&_;h(new ProgressEvent("progress",{lengthComputable:le,loaded:Z,total:j}))}};this.manager.itemStart(a),this.manager.itemStart(u),this.manager.itemStart(s);const M=new bo(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(a,async j=>{if(typeof j=="string")throw new Error("Invalid sdr buffer");m=j,await C()},j=>{T=j.lengthComputable,L=j.loaded,P=j.total,R()},j=>{this.manager.itemError(a),typeof S=="function"&&S(j)});const V=new bo(this._internalLoadingManager);V.setResponseType("arraybuffer"),V.setRequestHeader(this.requestHeader),V.setPath(this.path),V.setWithCredentials(this.withCredentials),V.load(u,async j=>{if(typeof j=="string")throw new Error("Invalid gainmap buffer");y=j,await C()},j=>{H=j.lengthComputable,N=j.loaded,B=j.total,R()},j=>{this.manager.itemError(u),typeof S=="function"&&S(j)});const D=new bo(this._internalLoadingManager);return D.setRequestHeader(this.requestHeader),D.setPath(this.path),D.setWithCredentials(this.withCredentials),D.load(s,async j=>{if(typeof j!="string")throw new Error("Invalid metadata string");w=JSON.parse(j),await C()},j=>{_=j.lengthComputable,Q=j.loaded,X=j.total,R()},j=>{this.manager.itemError(s),typeof S=="function"&&S(j)}),g}}class vv extends md{load(a,u,s,c){const h=this.prepareQuadRenderer(),S=new bo(this._internalLoadingManager);return S.setResponseType("arraybuffer"),S.setRequestHeader(this.requestHeader),S.setPath(this.path),S.setWithCredentials(this.withCredentials),this.manager.itemStart(a),S.load(a,async g=>{if(typeof g=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const m=new Uint8Array(g);let y,w,C;try{const T=await fv(m);y=T.sdr,w=T.gainMap,C=T.metadata}catch(T){if(T instanceof hd||T instanceof pd)console.warn(`Failure to reconstruct an HDR image from ${a}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),C={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},y=m;else throw T}try{await this.render(h,C,y.buffer,w?.buffer)}catch(T){this.manager.itemError(a),typeof c=="function"&&c(T),h.disposeOnDemandRenderer();return}typeof u=="function"&&u(h),this.manager.itemEnd(a),h.disposeOnDemandRenderer()},s,g=>{this.manager.itemError(a),typeof c=="function"&&c(g)}),h}}const Ei={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},gd="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Aa=o=>Array.isArray(o),Ts=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function No({files:o=Ts,path:a="",preset:u=void 0,colorSpace:s=void 0,extensions:c}={}){u&&(Is(u),o=Ei[u],a=gd);const h=Aa(o),{extension:S,isCubemap:g}=zs(o),m=Ns(S);if(!m)throw new Error("useEnvironment: Unrecognized file extension: "+o);const y=tn(P=>P.gl);k.useLayoutEffect(()=>{if(S!=="webp"&&S!=="jpg"&&S!=="jpeg")return;function P(){ja.clear(m,h?[o]:o)}y.domElement.addEventListener("webglcontextlost",P,{once:!0})},[o,y.domElement]);const w=ja(m,h?[o]:o,P=>{(S==="webp"||S==="jpg"||S==="jpeg")&&P.setRenderer(y),P.setPath==null||P.setPath(a),c&&c(P)});let C=h?w[0]:w;if(S==="jpg"||S==="jpeg"||S==="webp"){var T;C=(T=C.renderTarget)==null?void 0:T.texture}return C.mapping=g?cm:fm,C.colorSpace=s??(g?"srgb":"srgb-linear"),C}const bv={files:Ts,path:"",preset:void 0,extensions:void 0};No.preload=o=>{const a={...bv,...o};let{files:u,path:s=""}=a;const{preset:c,extensions:h}=a;c&&(Is(c),u=Ei[c],s=gd);const{extension:S}=zs(u);if(S==="webp"||S==="jpg"||S==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const g=Ns(S);if(!g)throw new Error("useEnvironment: Unrecognized file extension: "+u);ja.preload(g,Aa(u)?[u]:u,m=>{m.setPath==null||m.setPath(s),h&&h(m)})};const yv={files:Ts,preset:void 0};No.clear=o=>{const a={...yv,...o};let{files:u}=a;const{preset:s}=a;s&&(Is(s),u=Ei[s]);const{extension:c}=zs(u),h=Ns(c);if(!h)throw new Error("useEnvironment: Unrecognized file extension: "+u);ja.clear(h,Aa(u)?[u]:u)};function Is(o){if(!(o in Ei))throw new Error("Preset must be one of: "+Object.keys(Ei).join(", "))}function zs(o){var a;const u=Aa(o)&&o.length===6,s=Aa(o)&&o.length===3&&o.some(S=>S.endsWith("json")),c=Aa(o)?o[0]:o;return{extension:u?"cube":s?"webp":c.startsWith("data:application/exr")?"exr":c.startsWith("data:application/hdr")?"hdr":c.startsWith("data:image/jpeg")?"jpg":(a=c.split(".").pop())==null||(a=a.split("?"))==null||(a=a.shift())==null?void 0:a.toLowerCase(),isCubemap:u,isGainmap:s}}function Ns(o){return o==="cube"?dm:o==="hdr"?Qg:o==="exr"?Kg:o==="jpg"||o==="jpeg"?vv:o==="webp"?gv:null}const Sv=o=>o.current&&o.current.isScene,wv=o=>Sv(o)?o.current:o;function Rs(o,a,u,s,c={}){var h,S,g,m;c={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...c};const y=wv(a||u),w=y.background,C=y.environment,T={backgroundBlurriness:y.backgroundBlurriness,backgroundIntensity:y.backgroundIntensity,backgroundRotation:(h=(S=y.backgroundRotation)==null||S.clone==null?void 0:S.clone())!==null&&h!==void 0?h:[0,0,0],environmentIntensity:y.environmentIntensity,environmentRotation:(g=(m=y.environmentRotation)==null||m.clone==null?void 0:m.clone())!==null&&g!==void 0?g:[0,0,0]};return o!=="only"&&(y.environment=s),o&&(y.background=s),qt(y,c),()=>{o!=="only"&&(y.environment=C),o&&(y.background=w),qt(y,T)}}function Ps({scene:o,background:a=!1,map:u,...s}){const c=tn(h=>h.scene);return k.useLayoutEffect(()=>{if(u)return Rs(a,o,c,u,s)}),null}function vd({background:o=!1,scene:a,blur:u,backgroundBlurriness:s,backgroundIntensity:c,backgroundRotation:h,environmentIntensity:S,environmentRotation:g,...m}){const y=No(m),w=tn(C=>C.scene);return k.useLayoutEffect(()=>Rs(o,a,w,y,{backgroundBlurriness:u??s,backgroundIntensity:c,backgroundRotation:h,environmentIntensity:S,environmentRotation:g})),k.useEffect(()=>()=>{y.dispose()},[y]),null}function Ev({children:o,near:a=.1,far:u=1e3,resolution:s=256,frames:c=1,map:h,background:S=!1,blur:g,backgroundBlurriness:m,backgroundIntensity:y,backgroundRotation:w,environmentIntensity:C,environmentRotation:T,scene:P,files:L,path:H,preset:B=void 0,extensions:N}){const _=tn(D=>D.gl),X=tn(D=>D.scene),Q=k.useRef(null),[R]=k.useState(()=>new vs),M=k.useMemo(()=>{const D=new pm(s);return D.texture.type=Kn,D},[s]);k.useEffect(()=>()=>{M.dispose()},[M]),k.useLayoutEffect(()=>{if(c===1){const D=_.autoClear;_.autoClear=!0,Q.current.update(_,R),_.autoClear=D}return Rs(S,P,X,M.texture,{backgroundBlurriness:g??m,backgroundIntensity:y,backgroundRotation:w,environmentIntensity:C,environmentRotation:T})},[o,R,M.texture,P,X,S,c,_]);let V=1;return Za(()=>{if(c===1/0||V<c){const D=_.autoClear;_.autoClear=!0,Q.current.update(_,R),_.autoClear=D,V++}}),k.createElement(k.Fragment,null,hg(k.createElement(k.Fragment,null,o,k.createElement("cubeCamera",{ref:Q,args:[a,u,M]}),L||B?k.createElement(vd,{background:!0,files:L,preset:B,path:H,extensions:N}):h?k.createElement(Ps,{background:!0,map:h,extensions:N}):null),R))}function xv(o){var a,u,s,c;const h=No(o),S=o.map||h;k.useMemo(()=>Ms({GroundProjectedEnvImpl:jg}),[]),k.useEffect(()=>()=>{h.dispose()},[h]);const g=k.useMemo(()=>[S],[S]),m=(a=o.ground)==null?void 0:a.height,y=(u=o.ground)==null?void 0:u.radius,w=(s=(c=o.ground)==null?void 0:c.scale)!==null&&s!==void 0?s:1e3;return k.createElement(k.Fragment,null,k.createElement(Ps,xt({},o,{map:S})),k.createElement("groundProjectedEnvImpl",{args:g,scale:w,height:m,radius:y}))}function _v(o){return o.ground?k.createElement(xv,o):o.map?k.createElement(Ps,o):o.children?k.createElement(Ev,o):k.createElement(vd,o)}const Mv=k.forwardRef(({scale:o=10,frames:a=1/0,opacity:u=1,width:s=1,height:c=1,blur:h=1,near:S=0,far:g=10,resolution:m=512,smooth:y=!0,color:w="#000000",depthWrite:C=!1,renderOrder:T,...P},L)=>{const H=k.useRef(null),B=tn(ne=>ne.scene),N=tn(ne=>ne.gl),_=k.useRef(null);s=s*(Array.isArray(o)?o[0]:o||1),c=c*(Array.isArray(o)?o[1]:o||1);const[X,Q,R,M,V,D,j]=k.useMemo(()=>{const ne=new Qr(m,m),pe=new Qr(m,m);pe.texture.generateMipmaps=ne.texture.generateMipmaps=!1;const he=new ys(s,c).rotateX(Math.PI/2),Qe=new Io(he),qe=new hm;qe.depthTest=qe.depthWrite=!1,qe.onBeforeCompile=ye=>{ye.uniforms={...ye.uniforms,ucolor:{value:new To(w)}},ye.fragmentShader=ye.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),ye.fragmentShader=ye.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const ze=new La(Yg),Se=new La(Xg);return Se.depthTest=ze.depthTest=!1,[ne,he,qe,Qe,ze,Se,pe]},[m,s,c,o,w]),Z=ne=>{M.visible=!0,M.material=V,V.uniforms.tDiffuse.value=X.texture,V.uniforms.h.value=ne*1/256,N.setRenderTarget(j),N.render(M,_.current),M.material=D,D.uniforms.tDiffuse.value=j.texture,D.uniforms.v.value=ne*1/256,N.setRenderTarget(X),N.render(M,_.current),M.visible=!1};let le=0,de,G;return Za(()=>{_.current&&(a===1/0||le<a)&&(le++,de=B.background,G=B.overrideMaterial,H.current.visible=!1,B.background=null,B.overrideMaterial=R,N.setRenderTarget(X),N.render(B,_.current),Z(h),y&&Z(h*.4),N.setRenderTarget(null),H.current.visible=!0,B.overrideMaterial=G,B.background=de)}),k.useImperativeHandle(L,()=>H.current,[]),k.createElement("group",xt({"rotation-x":Math.PI/2},P,{ref:H}),k.createElement("mesh",{renderOrder:T,geometry:Q,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},k.createElement("meshBasicMaterial",{transparent:!0,map:X.texture,opacity:u,depthWrite:C})),k.createElement("orthographicCamera",{ref:_,args:[-s/2,s/2,c/2,-c/2,S,g]}))});function kv(o){return o.isLight}function Cv(o){return!!o.geometry}const bd=k.createContext(null),Tv=ud({color:new To,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${cd>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),Iv=k.forwardRef(({children:o,temporal:a,frames:u=40,limit:s=1/0,blend:c=20,scale:h=10,opacity:S=1,alphaTest:g=.75,color:m="black",colorBlend:y=2,resolution:w=1024,toneMapped:C=!0,...T},P)=>{Ms({SoftShadowMaterial:Tv});const L=tn(M=>M.gl),H=tn(M=>M.scene),B=tn(M=>M.camera),N=tn(M=>M.invalidate),_=k.useRef(null),X=k.useRef(null),[Q]=k.useState(()=>new Nv(L,H,w));k.useLayoutEffect(()=>{Q.configure(_.current)},[]);const R=k.useMemo(()=>({lights:new Map,temporal:!!a,frames:Math.max(2,u),blend:Math.max(2,u===1/0?c:u),count:0,getMesh:()=>_.current,reset:()=>{Q.clear();const M=_.current.material;M.opacity=0,M.alphaTest=0,R.count=0},update:(M=1)=>{const V=_.current.material;R.temporal?(V.opacity=Math.min(S,V.opacity+S/R.blend),V.alphaTest=Math.min(g,V.alphaTest+g/R.blend)):(V.opacity=S,V.alphaTest=g),X.current.visible=!0,Q.prepare();for(let D=0;D<M;D++)R.lights.forEach(j=>j.update()),Q.update(B,R.blend);X.current.visible=!1,Q.finish()}}),[Q,B,H,a,u,c,S,g]);return k.useLayoutEffect(()=>{R.reset(),!R.temporal&&R.frames!==1/0&&R.update(R.blend)}),k.useImperativeHandle(P,()=>R,[R]),Za(()=>{(R.temporal||R.frames===1/0)&&R.count<R.frames&&R.count<s&&(N(),R.update(),R.count++)}),k.createElement("group",T,k.createElement("group",{traverse:()=>null,ref:X},k.createElement(bd.Provider,{value:R},o)),k.createElement("mesh",{receiveShadow:!0,ref:_,scale:h,rotation:[-Math.PI/2,0,0]},k.createElement("planeGeometry",null),k.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:C,color:m,blend:y,map:Q.progressiveLightMap2.texture})))}),zv=k.forwardRef(({castShadow:o=!0,bias:a=.001,mapSize:u=512,size:s=5,near:c=.5,far:h=500,frames:S=1,position:g=[0,0,0],radius:m=1,amount:y=8,intensity:w=cd>=155?Math.PI:1,ambient:C=.5,...T},P)=>{const L=k.useRef(null),H=new Re(...g).length(),B=k.useContext(bd),N=k.useCallback(()=>{let X;if(L.current)for(let Q=0;Q<L.current.children.length;Q++)if(X=L.current.children[Q],Math.random()>C)X.position.set(g[0]+vo.randFloatSpread(m),g[1]+vo.randFloatSpread(m),g[2]+vo.randFloatSpread(m));else{let R=Math.acos(2*Math.random()-1)-Math.PI/2,M=2*Math.PI*Math.random();X.position.set(Math.cos(R)*Math.cos(M)*H,Math.abs(Math.cos(R)*Math.sin(M)*H),Math.sin(R)*H)}},[m,C,H,...g]),_=k.useMemo(()=>({update:N}),[N]);return k.useImperativeHandle(P,()=>_,[_]),k.useLayoutEffect(()=>{var X;const Q=L.current;return B&&((X=B.lights)==null||X.set(Q.uuid,_)),()=>{var R;B==null||(R=B.lights)==null?void 0:R.delete(Q.uuid)}},[B,_]),k.createElement("group",xt({ref:L},T),Array.from({length:y},(X,Q)=>k.createElement("directionalLight",{key:Q,castShadow:o,"shadow-bias":a,"shadow-mapSize":[u,u],intensity:w/y},k.createElement("orthographicCamera",{attach:"shadow-camera",args:[-s,s,s,-s,c,h]}))))});class Nv{constructor(a,u,s=1024){this.renderer=a,this.res=s,this.scene=u,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new To,this.clearAlpha=0;const c={type:Kn,magFilter:pf,minFilter:pf};this.progressiveLightMap1=new Qr(this.res,this.res,c),this.progressiveLightMap2=new Qr(this.res,this.res,c),this.discardMat=new rv,this.targetMat=new mm({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=h=>{h.vertexShader=`varying vec2 vUv;
`+h.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const S=h.fragmentShader.indexOf("void main() {");h.fragmentShader=`varying vec2 vUv;
`+h.fragmentShader.slice(0,S)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+h.fragmentShader.slice(S-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,h.uniforms.previousShadowMap=this.previousShadowMap,h.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(a=>{Cv(a)?this.meshes.push({object:a,material:a.material}):kv(a)&&this.lights.push({object:a,intensity:a.intensity})})}prepare(){this.lights.forEach(a=>a.object.intensity=0),this.meshes.forEach(a=>a.object.material=this.discardMat)}finish(){this.lights.forEach(a=>a.object.intensity=a.intensity),this.meshes.forEach(a=>a.object.material=a.material)}configure(a){this.object=a}update(a,u=100){if(!this.object)return;this.averagingWindow.value=u,this.object.material=this.targetMat;const s=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,c=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,h=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(s),this.previousShadowMap.value=c.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,a),this.renderer.setRenderTarget(null),this.scene.background=h}}const Rv={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Pv({radius:o,adjustCamera:a}){const u=lv();return k.useEffect(()=>{a&&u.refresh().clip().fit()},[o,a]),null}function Zv({children:o,center:a,adjustCamera:u=!0,intensity:s=.5,shadows:c="contact",environment:h="city",preset:S="rembrandt",...g}){var m,y,w,C,T,P,L,H;const B=typeof S=="string"?Rv[S]:S,[{radius:N,height:_},X]=k.useState({radius:0,width:0,height:0,depth:0}),Q=(m=c?.bias)!==null&&m!==void 0?m:-1e-4,R=(y=c?.normalBias)!==null&&y!==void 0?y:0,M=(w=c?.size)!==null&&w!==void 0?w:1024,V=(C=c?.offset)!==null&&C!==void 0?C:0,D=c==="contact"||c?.type==="contact",j=c==="accumulative"||c?.type==="accumulative",Z={...typeof c=="object"?c:{}},le=h?typeof h=="string"?{preset:h}:h:null,de=k.useCallback(G=>{const{width:ne,height:pe,depth:he,boundingSphere:Qe}=G;X({radius:Qe.radius,width:ne,height:pe,depth:he}),a!=null&&a.onCentered&&a.onCentered(G)},[]);return k.createElement(k.Fragment,null,k.createElement("ambientLight",{intensity:s/3}),k.createElement("spotLight",{penumbra:1,position:[B.main[0]*N,B.main[1]*N,B.main[2]*N],intensity:s*2,castShadow:!!c,"shadow-bias":Q,"shadow-normalBias":R,"shadow-mapSize":M}),k.createElement("pointLight",{position:[B.fill[0]*N,B.fill[1]*N,B.fill[2]*N],intensity:s}),k.createElement(ov,xt({fit:!!u,clip:!!u,margin:Number(u),observe:!0},g),k.createElement(Pv,{radius:N,adjustCamera:u}),k.createElement(tv,xt({},a,{position:[0,V/2,0],onCentered:de}),o)),k.createElement("group",{position:[0,-_/2-V/2,0]},D&&k.createElement(Mv,xt({scale:N*4,far:N,blur:2},Z)),j&&k.createElement(Iv,xt({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:N*4},Z),k.createElement(zv,{amount:(T=Z.amount)!==null&&T!==void 0?T:8,radius:(P=Z.radius)!==null&&P!==void 0?P:N,ambient:(L=Z.ambient)!==null&&L!==void 0?L:.5,intensity:(H=Z.intensity)!==null&&H!==void 0?H:1,position:[B.main[0]*N,B.main[1]*N,B.main[2]*N],size:N*4,bias:-Q,mapSize:M}))),h&&k.createElement(_v,le))}export{Lv as C,Kg as E,jg as G,Yg as H,Hv as O,Bv as P,Qg as R,Zv as S,Xg as V,Za as a,Gg as b,Ms as e,tn as u};
